<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SumK DFT Tools &mdash; TRIQS DFTTools  documentation</title>
    
    <link rel="stylesheet" href="../_static/triqs.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/MathJax/MathJax.js?config=default"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="TRIQS DFTTools  documentation" href="../contents.html" />
    <link rel="up" title="Documentation" href="../documentation.html" />
    <link rel="next" title="Symmetry" href="symmetry.html" />
    <link rel="prev" title="SumK DFT" href="sumk_dft.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
    <script src="../_static/cufon-yui.js" type="text/javascript"></script>
    <script src="../_static/spaceman.cufonfonts.js" type="text/javascript"></script>
    <script type="text/javascript">
      Cufon.replace('.triqs', { fontFamily: 'spaceman', hover: true }); 
    </script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    
    <li><a href="../install.html">Install</a></li>
    
    <li><a href="../documentation.html">Documentation</a></li>
    
    <li><a href="../issues.html">Issues</a></li>
    
    <li><a href="../about.html">About DFTTools</a></li>
    
  </ul>
  <div>
    <h1 style="padding:0; margin: 10px 0 0 0;"><a class="triqs" href="../index.html">dft tools</a></h1>
    <span style="font-size: 14px; margin: 0px; padding: 0px;">connecting <a class="triqs" style="font-size: 12px" href="http://triqs.ipht.cnrs.fr/1.x">TRIQS</a> to DFT packages</span>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="symmetry.html" title="Symmetry"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sumk_dft.html" title="SumK DFT"
             accesskey="P">previous</a> |</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" accesskey="U">Documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="sumk_dft.html"
                        title="previous chapter">SumK DFT</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="symmetry.html"
                        title="next chapter">Symmetry</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/sumk_dft_tools.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sumk-dft-tools">
<h1>SumK DFT Tools<a class="headerlink" href="#sumk-dft-tools" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="dft.sumk_dft_tools.SumkDFTTools">
<em class="property">class </em><code class="descclassname">dft.sumk_dft_tools.</code><code class="descname">SumkDFTTools</code><span class="sig-paren">(</span><em>hdf_file</em>, <em>h_field=0.0</em>, <em>use_dft_blocks=False</em>, <em>dft_data='dft_input'</em>, <em>symmcorr_data='dft_symmcorr_input'</em>, <em>parproj_data='dft_parproj_input'</em>, <em>symmpar_data='dft_symmpar_input'</em>, <em>bands_data='dft_bands_input'</em>, <em>transp_data='dft_transp_input'</em>, <em>misc_data='dft_misc_input'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="sumk_dft.html#dft.sumk_dft.SumkDFT" title="dft.sumk_dft.SumkDFT"><code class="xref py py-class docutils literal"><span class="pre">dft.sumk_dft.SumkDFT</span></code></a></p>
<p>Extends the SumkDFT class with some tools for analysing the data.</p>
<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>hdf_file</em>, <em>h_field=0.0</em>, <em>use_dft_blocks=False</em>, <em>dft_data='dft_input'</em>, <em>symmcorr_data='dft_symmcorr_input'</em>, <em>parproj_data='dft_parproj_input'</em>, <em>symmpar_data='dft_symmpar_input'</em>, <em>bands_data='dft_bands_input'</em>, <em>transp_data='dft_transp_input'</em>, <em>misc_data='dft_misc_input'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialisation of the class. Parameters are exactly as for SumKDFT.</p>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.cellvolume">
<code class="descname">cellvolume</code><span class="sig-paren">(</span><em>lattice_type</em>, <em>lattice_constants</em>, <em>latticeangle</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.cellvolume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.cellvolume" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the conventional und primitive unit cell volumes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lattice_type</strong> : string</p>
<blockquote>
<div><p>Lattice type according to the Wien2k convention (P, F, B, R, H, CXY, CYZ, CXZ).</p>
</div></blockquote>
<p><strong>lattice_constants</strong> : list of double</p>
<blockquote>
<div><p>Lattice constants (a, b, c).</p>
</div></blockquote>
<p><strong>lattice angles</strong> : list of double</p>
<blockquote>
<div><p>Lattice angles (<span class="math">\(\alpha, \beta, \gamma\)</span>).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vol_c</strong> : double</p>
<blockquote>
<div><p>Conventional unit cell volume.</p>
</div></blockquote>
<p><strong>vol_p</strong> : double</p>
<blockquote class="last">
<div><p>Primitive unit cell volume.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.conductivity_and_seebeck">
<code class="descname">conductivity_and_seebeck</code><span class="sig-paren">(</span><em>beta</em>, <em>method=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.conductivity_and_seebeck"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.conductivity_and_seebeck" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the Seebeck coefficient and the optical conductivity by calling 
<a class="reference internal" href="#dft.sumk_dft_tools.SumkDFTTools.transport_coefficient" title="dft.sumk_dft_tools.SumkDFTTools.transport_coefficient"><code class="xref py py-meth docutils literal"><span class="pre">transport_coefficient</span></code></a>. 
The required members (Gamma_w, directions, Om_mesh) have to be obtained first by calling the function 
<a class="reference internal" href="#dft.sumk_dft_tools.SumkDFTTools.transport_distribution" title="dft.sumk_dft_tools.SumkDFTTools.transport_distribution"><code class="xref py py-meth docutils literal"><span class="pre">transport_distribution</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>beta</strong> : double</p>
<blockquote>
<div><p>Inverse temperature <span class="math">\(\beta\)</span>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>optic_cond</strong> : dictionary of double vectors</p>
<blockquote>
<div><p>Optical conductivity in each direction and frequency given by Om_mesh.</p>
</div></blockquote>
<p><strong>seebeck</strong> : dictionary of double</p>
<blockquote class="last">
<div><p>Seebeck coefficient in each direction. If zero is not present in Om_mesh the Seebeck coefficient is set to NaN.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.dos_parproj_basis">
<code class="descname">dos_parproj_basis</code><span class="sig-paren">(</span><em>mu=None</em>, <em>broadening=None</em>, <em>mesh=None</em>, <em>with_Sigma=True</em>, <em>with_dc=True</em>, <em>save_to_file=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.dos_parproj_basis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.dos_parproj_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the orbitally-resolved DOS.
Different to dos_Wannier_basis is that here we calculate projections also to non-Wannier projectors, in the
flavour of Wien2k QTL calculatuions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mu</strong> : double, optional</p>
<blockquote>
<div><p>Chemical potential, overrides the one stored in the hdf5 archive.</p>
</div></blockquote>
<p><strong>broadening</strong> : double, optional</p>
<blockquote>
<div><p>Lorentzian broadening of the spectra. If not given, standard value of lattice_gf is used.</p>
</div></blockquote>
<p><strong>mesh</strong> : real frequency MeshType, optional</p>
<blockquote>
<div><p>Omega mesh for the real-frequency Green&#8217;s function. Given as parameter to lattice_gf.</p>
</div></blockquote>
<p><strong>with_Sigma</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, the self energy is used for the calculation. If false, the DOS is calculated without self energy.</p>
</div></blockquote>
<p><strong>with_dc</strong> : boolean, optional</p>
<blockquote>
<div><p>If True the double counting correction is used.</p>
</div></blockquote>
<p><strong>save_to_file</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, text files with the calculated data will be created.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>DOS</strong> : Dict of numpy arrays</p>
<blockquote>
<div><p>Contains the full density of states.</p>
</div></blockquote>
<p><strong>DOSproj</strong> :  Dict of numpy arrays</p>
<blockquote>
<div><p>DOS projected to atoms.</p>
</div></blockquote>
<p><strong>DOSproj_orb</strong> : Dict of numpy arrays</p>
<blockquote class="last">
<div><p>DOS projected to atoms and resolved into orbital contributions.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.dos_wannier_basis">
<code class="descname">dos_wannier_basis</code><span class="sig-paren">(</span><em>mu=None</em>, <em>broadening=None</em>, <em>mesh=None</em>, <em>with_Sigma=True</em>, <em>with_dc=True</em>, <em>save_to_file=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.dos_wannier_basis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.dos_wannier_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the density of states in the basis of the Wannier functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mu</strong> : double, optional</p>
<blockquote>
<div><p>Chemical potential, overrides the one stored in the hdf5 archive.</p>
</div></blockquote>
<p><strong>broadening</strong> : double, optional</p>
<blockquote>
<div><p>Lorentzian broadening of the spectra. If not given, standard value of lattice_gf is used.</p>
</div></blockquote>
<p><strong>mesh</strong> : real frequency MeshType, optional</p>
<blockquote>
<div><p>Omega mesh for the real-frequency Green&#8217;s function. Given as parameter to lattice_gf.</p>
</div></blockquote>
<p><strong>with_Sigma</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, the self energy is used for the calculation. If false, the DOS is calculated without self energy.</p>
</div></blockquote>
<p><strong>with_dc</strong> : boolean, optional</p>
<blockquote>
<div><p>If True the double counting correction is used.</p>
</div></blockquote>
<p><strong>save_to_file</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, text files with the calculated data will be created.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>DOS</strong> : Dict of numpy arrays</p>
<blockquote>
<div><p>Contains the full density of states.</p>
</div></blockquote>
<p><strong>DOSproj</strong> :  Dict of numpy arrays</p>
<blockquote>
<div><p>DOS projected to atoms.</p>
</div></blockquote>
<p><strong>DOSproj_orb</strong> : Dict of numpy arrays</p>
<blockquote class="last">
<div><p>DOS projected to atoms and resolved into orbital contributions.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.fermi_dis">
<code class="descname">fermi_dis</code><span class="sig-paren">(</span><em>w</em>, <em>beta</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.fermi_dis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.fermi_dis" title="Permalink to this definition">¶</a></dt>
<dd><p>Fermi distribution.</p>
<div class="math">
\[f(x) = 1/(e^x+1).\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>w</strong> : double</p>
<blockquote>
<div><p>frequency</p>
</div></blockquote>
<p><strong>beta</strong> : double</p>
<blockquote>
<div><p>inverse temperature</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>f</strong> : double</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.partial_charges">
<code class="descname">partial_charges</code><span class="sig-paren">(</span><em>beta=40</em>, <em>mu=None</em>, <em>with_Sigma=True</em>, <em>with_dc=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.partial_charges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.partial_charges" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the orbitally-resolved density matrix for all the orbitals considered in the input, consistent with
the definition of Wien2k. Hence, (possibly non-orthonormal) projectors have to be provided in the partial projectors subgroup of
the hdf5 archive.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>with_Sigma</strong> : boolean, optional</p>
<blockquote>
<div><p>If True, the self energy is used for the calculation. If false, partial charges are calculated without self-energy correction.</p>
</div></blockquote>
<p><strong>beta</strong> : double, optional</p>
<blockquote>
<div><p>In case the self-energy correction is not used, the inverse temperature where the calculation should be done has to be given here.</p>
</div></blockquote>
<p><strong>mu</strong> : double, optional</p>
<blockquote>
<div><p>Chemical potential, overrides the one stored in the hdf5 archive.</p>
</div></blockquote>
<p><strong>with_dc</strong> : boolean, optional</p>
<blockquote>
<div><p>If True the double counting correction is used.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>dens_mat</strong> : list of numpy array</p>
<blockquote class="last">
<div><p>A list of density matrices projected to all shells provided in the input.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.print_hamiltonian">
<code class="descname">print_hamiltonian</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.print_hamiltonian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.print_hamiltonian" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the Kohn-Sham Hamiltonian to the text files hamup.dat and hamdn.dat (no spin orbit-coupling), or to ham.dat (with spin-orbit coupling).</p>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.read_transport_input_from_hdf">
<code class="descname">read_transport_input_from_hdf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.read_transport_input_from_hdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.read_transport_input_from_hdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the data for transport calculations from the hdf5 archive.</p>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.spaghettis">
<code class="descname">spaghettis</code><span class="sig-paren">(</span><em>broadening=None</em>, <em>plot_shift=0.0</em>, <em>plot_range=None</em>, <em>ishell=None</em>, <em>mu=None</em>, <em>save_to_file='Akw_'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.spaghettis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.spaghettis" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the correlated band structure using a real-frequency self energy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mu</strong> : double, optional</p>
<blockquote>
<div><p>Chemical potential, overrides the one stored in the hdf5 archive.</p>
</div></blockquote>
<p><strong>broadening</strong> : double, optional</p>
<blockquote>
<div><p>Lorentzian broadening of the spectra. If not given, standard value of lattice_gf is used.</p>
</div></blockquote>
<p><strong>plot_shift</strong> : double, optional</p>
<blockquote>
<div><p>Offset for each A(k,w) for stacked plotting of spectra.</p>
</div></blockquote>
<p><strong>plot_range</strong> : list of double, optional</p>
<blockquote>
<div><p>Sets the energy window for plotting to (plot_range[0],plot_range[1]). If not provided, the energy mesh of the self energy is used.</p>
</div></blockquote>
<p><strong>ishell</strong> : integer, optional</p>
<blockquote>
<div><p>Contains the index of the shell on which the spectral function is projected. If ishell=None, the total spectrum without projection is calculated.</p>
</div></blockquote>
<p><strong>save_to_file</strong> : string, optional</p>
<blockquote>
<div><p>Filename where the spectra are stored.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>Akw</strong> : Dict of numpy arrays</p>
<blockquote class="last">
<div><p>Data as it is also written to the files.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.transport_coefficient">
<code class="descname">transport_coefficient</code><span class="sig-paren">(</span><em>direction</em>, <em>iq</em>, <em>n</em>, <em>beta</em>, <em>method=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.transport_coefficient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.transport_coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the transport coefficient A_n in a given direction for a given <span class="math">\(\Omega\)</span>. The required members (Gamma_w, directions, Om_mesh) have to be obtained first
by calling the function <a class="reference internal" href="#dft.sumk_dft_tools.SumkDFTTools.transport_distribution" title="dft.sumk_dft_tools.SumkDFTTools.transport_distribution"><code class="xref py py-meth docutils literal"><span class="pre">transport_distribution</span></code></a>. For n&gt;0 A is set to NaN if <span class="math">\(\Omega\)</span> is not 0.0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>direction</strong> : string</p>
<blockquote>
<div><p><span class="math">\(\alpha\beta\)</span> e.g.: &#8216;xx&#8217;,&#8217;yy&#8217;,&#8217;zz&#8217;,&#8217;xy&#8217;,&#8217;xz&#8217;,&#8217;yz&#8217;.</p>
</div></blockquote>
<p><strong>iq</strong> : integer</p>
<blockquote>
<div><p>Index of <span class="math">\(\Omega\)</span> point in the member Om_mesh.</p>
</div></blockquote>
<p><strong>n</strong> : integer</p>
<blockquote>
<div><p>Number of the desired moment of the transport distribution.</p>
</div></blockquote>
<p><strong>beta</strong> : double</p>
<blockquote>
<div><p>Inverse temperature <span class="math">\(\beta\)</span>.</p>
</div></blockquote>
<p><strong>method</strong> : string</p>
<blockquote>
<div><p>Integration method: cubic spline and scipy.integrate.quad (&#8216;quad&#8217;), simpson rule (&#8216;simps&#8217;), trapezoidal rule (&#8216;trapz&#8217;), rectangular integration (otherwise)
Note that the sampling points of the the self-energy are used!</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>A</strong> : double</p>
<blockquote class="last">
<div><p>Transport coefficient.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dft.sumk_dft_tools.SumkDFTTools.transport_distribution">
<code class="descname">transport_distribution</code><span class="sig-paren">(</span><em>beta, directions=['xx'], energy_window=None, Om_mesh=[0.0], with_Sigma=False, n_om=None, broadening=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dft/sumk_dft_tools.html#SumkDFTTools.transport_distribution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dft.sumk_dft_tools.SumkDFTTools.transport_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the transport distribution</p>
<div class="math">
\[\Gamma_{\alpha\beta}\left(\omega+\Omega/2, \omega-\Omega/2\right) = \frac{1}{V} \sum_k Tr\left(v_{k,\alpha}A_{k}(\omega+\Omega/2)v_{k,\beta}A_{k}\left(\omega-\Omega/2\right)\right)\]</div>
<p>in the direction <span class="math">\(\alpha\beta\)</span>. The velocities <span class="math">\(v_{k}\)</span> are read from the transport subgroup of the hdf5 archive.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>beta</strong> : double</p>
<blockquote>
<div><p>Inverse temperature <span class="math">\(\beta\)</span>.</p>
</div></blockquote>
<p><strong>directions</strong> : list of double, optional</p>
<blockquote>
<div><p><span class="math">\(\alpha\beta\)</span> e.g.: [&#8216;xx&#8217;,&#8217;yy&#8217;,&#8217;zz&#8217;,&#8217;xy&#8217;,&#8217;xz&#8217;,&#8217;yz&#8217;].</p>
</div></blockquote>
<p><strong>energy_window</strong> : list of double, optional</p>
<blockquote>
<div><p>Specifies the upper and lower limit of the frequency integration for <span class="math">\(\Omega=0.0\)</span>. The window is automatically enlarged by the largest <span class="math">\(\Omega\)</span> value, 
hence the integration is performed in the interval [energy_window[0]-max(Om_mesh), energy_window[1]+max(Om_mesh)].</p>
</div></blockquote>
<p><strong>Om_mesh</strong> : list of double, optional</p>
<blockquote>
<div><p><span class="math">\(\Omega\)</span> frequency mesh of the optical conductivity. For the conductivity and the Seebeck coefficient <span class="math">\(\Omega=0.0\)</span> has to be
part of the mesh. In the current version Om_mesh is repined to the mesh provided by the self-energy! The actual mesh is printed on the screen and stored as
member Om_mesh.</p>
</div></blockquote>
<p><strong>with_Sigma</strong> : boolean, optional</p>
<blockquote>
<div><p>Determines whether the calculation is performed with or without self energy. If this parameter is set to False the self energy is set to zero (i.e. the DFT band 
structure <span class="math">\(A(k,\omega)\)</span> is used). Note: For with_Sigma=False it is necessary to specify the parameters energy_window, n_om and broadening.</p>
</div></blockquote>
<p><strong>n_om</strong> : integer, optional</p>
<blockquote>
<div><p>Number of equidistant frequency points in the interval [energy_window[0]-max(Om_mesh), energy_window[1]+max(Om_mesh)]. This parameters is only used if
with_Sigma = False.</p>
</div></blockquote>
<p><strong>broadening</strong> : double, optional</p>
<blockquote class="last">
<div><p>Lorentzian broadening. It is necessary to specify the boradening if with_Sigma = False, otherwise this parameter can be set to 0.0.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="symmetry.html" title="Symmetry"
             >next</a> |</li>
        <li class="right" >
          <a href="sumk_dft.html" title="SumK DFT"
             >previous</a> |</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2011-2013, M. Aichhorn, L. Pourovskii, V. Vildosola, C. Martins.
    </div>
  </body>
</html>