<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installing required libraries on Mac OS X [EXPERIMENTAL] &mdash; TRIQS  documentation</title>
    
    <link rel="stylesheet" href="../_static/triqs.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/MathJax/MathJax.js?config=default"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="TRIQS  documentation" href="../contents.html" />
    <link rel="up" title="Installation" href="../install.html" />
    <link rel="next" title="Customizing your installation: cmake options" href="install_options.html" />
    <link rel="prev" title="Installing required libraries on Ubuntu 14.04LTS" href="ubuntu.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
    <script src="../_static/cufon-yui.js" type="text/javascript"></script>
    <script src="../_static/spaceman.cufonfonts.js" type="text/javascript"></script>
    <script type="text/javascript">
      Cufon.replace('.triqs', { fontFamily: 'spaceman', hover: true }); 
    </script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    
    <li><a href="../install.html">Install</a></li>
    
    <li><a href="../reference.html">Reference</a></li>
    
    <li><a href="../tutorials.html">Tutorials</a></li>
    
    <li><a href="../applications.html">Applications</a></li>
    
    <li><a href="../issues.html">Issues</a></li>
    
    <li><a href="../about.html">About TRIQS</a></li>
    
  </ul>
  <div>
    <h1 style="padding:0; margin: 10px 0 0 0;"><a class="triqs" href="../index.html">triqs</a></h1>
    <span style="font-size: 14px; margin: 0px; padding: 0px;">a Toolbox for Research on Interacting Quantum Systems</span>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install_options.html" title="Customizing your installation: cmake options"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ubuntu.html" title="Installing required libraries on Ubuntu 14.04LTS"
             accesskey="P">previous</a> |</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../install.html" accesskey="U">Installation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installing required libraries on Mac OS X [EXPERIMENTAL]</a><ul>
<li><a class="reference internal" href="#disclaimer">Disclaimer</a></li>
<li><a class="reference internal" href="#installation-of-the-dependencies">Installation of the dependencies</a></li>
<li><a class="reference internal" href="#possible-issues">Possible issues</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ubuntu.html"
                        title="previous chapter">Installing required libraries on Ubuntu 14.04LTS</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="install_options.html"
                        title="next chapter">Customizing your installation: cmake options</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/installation/osx_install.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installing-required-libraries-on-mac-os-x-experimental">
<span id="install-osx"></span><h1>Installing required libraries on Mac OS X [EXPERIMENTAL]<a class="headerlink" href="#installing-required-libraries-on-mac-os-x-experimental" title="Permalink to this headline">¶</a></h1>
<div class="section" id="disclaimer">
<h2>Disclaimer<a class="headerlink" href="#disclaimer" title="Permalink to this headline">¶</a></h2>
<p>Here we provide the installation instructions in order to use TRIQS on OS X.</p>
<p>While the installation of TRIQS itself is as straightforward as on Linux systems,
the installation of the standard scientific libraries used by TRIQS
(mpi, hdf5, boost, fftw, ipython, ....) is not as simple as in e.g. Debian/Ubuntu,
where they are packaged with the distribution itself (i.e. &#8220;part of the system&#8221;).</p>
<p>This general problem of scientific computing on OS X is clearly illustrated by the
large number of third-party attempts to provide &#8220;easy&#8221; installation of scientific libraries,
such as brew, macports, fink, or the Enthought Python distribution.</p>
<p>In our experience, none of these solutions is perfect, nor complete or stable: they are still
very far from the quality and stability of a Linux distribution like Debian/Ubuntu.
It <em>almost</em> works, but at the end, there are some issues, sometimes severe, in the way
scientific librairies are installed.</p>
<p>Moreover, because there is no notion of &#8220;distribution&#8221;, the versions of the libraries are
always changing e.g. in brew. As a result, the installation instructions may work on one day,
and suddenly stop to work the day after.</p>
<p>While this has a priori <strong>nothing to do with TRIQS</strong> and its applications, it clearly impacts its installation and usage.
We are looking for a more robust solution to this OS X installation mess; <strong>help welcome !</strong>.</p>
</div>
<div class="section" id="installation-of-the-dependencies">
<h2>Installation of the dependencies<a class="headerlink" href="#installation-of-the-dependencies" title="Permalink to this headline">¶</a></h2>
<p>The following installation instructions are for Mac OS X 10.9 (Mavericks). They may work (possibly with some
modifications) for earlier versions of OS X.</p>
<ol class="arabic simple">
<li>Install <a class="reference external" href="http://mxcl.github.io/homebrew/">homebrew</a>.</li>
</ol>
<blockquote>
<div>Run <code class="docutils literal"><span class="pre">brew</span> <span class="pre">doctor</span></code> and resolve potential conflicts before continuing.</div></blockquote>
<ol class="arabic" start="2">
<li><p class="first">We recommend using the clang compiler. When using it the first time, you will be prompted to
install the clang command line tools. After this is done, proceed to step 3.</p>
</li>
<li><p class="first">Install several packages which are needed:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>brew tap homebrew/science
brew install cmake
brew install --with-mpi --with-python --without-single boost
brew install hdf5
brew install gsl
brew install gmp
brew install fftw
brew install open-mpi
brew install zmq
brew install python
</pre></div>
</div>
</li>
</ol>
<ol class="arabic" start="5">
<li><p class="first">Install the required python packages:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pip install numpy
pip install --no-binary<span class="o">=</span>h5py h5py
pip install scipy
pip install --no-binary<span class="o">=</span>mpi4py mpi4py
pip install matplotlib
pip install tornado
pip install pyzmq
pip install jinja2
pip install ipython
pip install mako
</pre></div>
</div>
</li>
<li><p class="first">If you wish to compile the documentation locally, install sphinx, its dependencies, libclang Python bindings, and MathJax:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pip install sphinx
pip install pyparsing
pip install clang
git clone https://github.com/mathjax/MathJax.git MathJax
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="possible-issues">
<h2>Possible issues<a class="headerlink" href="#possible-issues" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">If you experience ImportErrors in Python, make sure that</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>/usr/local/bin
</pre></div>
</div>
<p>occurs before /usr/bin in your path. Otherwise you may be using the system&#8217;s default version of Python.
As a result, some packages, although previously installed with <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span></code>, may not be found.</p>
</li>
<li><p class="first">If you encounter the following error:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>/usr/local/include/ft2build.h:56:38: error: freetype/config/ftheader.h: No such file or directory
</pre></div>
</div>
<p>in the installation of matplotlib, you need to pass the proper include path. Locate the freetype directory
with the header file and pass the include path through <code class="docutils literal"><span class="pre">CPPFLAGS</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nv">CPPFLAGS</span><span class="o">=</span>-I/usr/X11/include/freetype2/ pip install git+https://github.com/matplotlib/matplotlib.git#egg<span class="o">=</span>matplotlib-dev
</pre></div>
</div>
</li>
<li><p class="first">When building the doc, you may experience the following sphinx error:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>ValueError: unknown locale: UTF-8
</pre></div>
</div>
<p>In this case, make sure to add the following lines to your <code class="docutils literal"><span class="pre">.bash_profile</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">lc_all</span><span class="o">=</span>en_us.utf-8
<span class="nb">export</span> <span class="nv">lang</span><span class="o">=</span>en_us.utf-8
</pre></div>
</div>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install_options.html" title="Customizing your installation: cmake options"
             >next</a> |</li>
        <li class="right" >
          <a href="ubuntu.html" title="Installing required libraries on Ubuntu 14.04LTS"
             >previous</a> |</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../install.html" >Installation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2011-2015, The TRIQS collaboration.
    </div>
  </body>
</html>