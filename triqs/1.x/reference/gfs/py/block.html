<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The blocks: matrix-valued Green’s functions &mdash; TRIQS  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/triqs.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax/MathJax.js?config=default"></script>
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="top" title="TRIQS  documentation" href="../../../contents.html" />
    <link rel="up" title="Python documentation" href="contents.html" />
    <link rel="next" title="[GfImTime] Matsubara Green’s function in imaginary time" href="block/GfImTime.html" />
    <link rel="prev" title="Python documentation" href="contents.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
    <script src="../../../_static/cufon-yui.js" type="text/javascript"></script>
    <script src="../../../_static/spaceman.cufonfonts.js" type="text/javascript"></script>
    <script type="text/javascript">
      Cufon.replace('.triqs', { fontFamily: 'spaceman', hover: true }); 
    </script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    
    <li><a href="../../../install.html">Install</a></li>
    
    <li><a href="../../../reference.html">Reference</a></li>
    
    <li><a href="../../../tutorials.html">Tutorials</a></li>
    
    <li><a href="../../../applications.html">Applications</a></li>
    
    <li><a href="../../../issues.html">Issues</a></li>
    
    <li><a href="../../../about.html">About TRIQS</a></li>
    
  </ul>
  <div>
    <h1 style="padding:0; margin: 10px 0 0 0;"><a class="triqs" href="../../../index.html">triqs</a></h1>
    <span style="font-size: 14px; margin: 0px; padding: 0px;">a Toolbox for Research on Interacting Quantum Systems</span>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="block/GfImTime.html" title="[GfImTime] Matsubara Green’s function in imaginary time"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="contents.html" title="Python documentation"
             accesskey="P">previous</a> |</li>
    <li><a href="../../../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../../reference.html" >Reference</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../contents.html" ><strong>[triqs/gfs]</strong> Green&#8217;s functions</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="contents.html" accesskey="U">Python documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The blocks: matrix-valued Green&#8217;s functions</a><ul>
<li><a class="reference internal" href="#operations">Operations</a></li>
<li><a class="reference internal" href="#slicing">Slicing</a></li>
<li><a class="reference internal" href="#assignment-or-operator">Assignment: &lt;&lt; or = operator</a></li>
<li><a class="reference internal" href="#lazy-expressions">Lazy expressions</a></li>
<li><a class="reference internal" href="#shelve-pickle">shelve / pickle</a></li>
<li><a class="reference internal" href="#plot-options">Plot options</a></li>
<li><a class="reference internal" href="#direct-access-to-data-points-and-tails-not-for-the-legendre-version">Direct access to data points and tails [not for the Legendre version]</a></li>
<li><a class="reference internal" href="#direct-access-to-the-tails">Direct access to the tails</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="contents.html"
                        title="previous chapter">Python documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="block/GfImTime.html"
                        title="next chapter"><strong>[GfImTime]</strong> Matsubara Green&#8217;s function in imaginary time</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/reference/gfs/py/block.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-blocks-matrix-valued-green-s-functions">
<span id="blockgreen"></span><span id="index-0"></span><h1>The blocks: matrix-valued Green&#8217;s functions<a class="headerlink" href="#the-blocks-matrix-valued-green-s-functions" title="Permalink to this headline">¶</a></h1>
<p>In this section, we present the matrix-valued Green&#8217;s functions,
i.e. the blocks of the full local Green&#8217;s function.
They are available in various flavours:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="block/GfImTime.html"><strong>[GfImTime]</strong> Matsubara Green&#8217;s function in imaginary time</a></li>
<li class="toctree-l1"><a class="reference internal" href="block/GfImFreq.html"><strong>[GfImFreq]</strong> Matsubara Green&#8217;s function in imaginary frequencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="block/GfReTime.html"><strong>[GfReTime]</strong> Retarded Green&#8217;s function in real time</a></li>
<li class="toctree-l1"><a class="reference internal" href="block/GfReFreq.html"><strong>[GfReFreq]</strong> Retarded Green&#8217;s function in real frequencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="block/GfLegendre.html"><strong>[GfLegendre]</strong> Matsubara Green&#8217;s function with Legendre polynomials</a></li>
</ul>
</div>
<p>They have many common properties, which we now present.</p>
<div class="section" id="operations">
<h2>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h2>
<p>Block Green&#8217;s functions support various simple operations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All these operations compute the array of data, but also, if present in the object, the high frequency expansion tail automatically.</p>
</div>
<ul>
<li><p class="first">compound operators, <cite>+=</cite>, <cite>-=</cite>, <cite>*=</cite>, <cite>=</cite>: the RHS can be a Green&#8217;s function of the same type or an expression</p>
</li>
<li><p class="first">arithmetic operations: <cite>+</cite>, <cite>-</cite>, <cite>*</cite>, <cite>/</cite>, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">g1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">g2</span>
</pre></div>
</div>
</li>
<li><p class="first">inversion, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">inv</span> <span class="o">=</span> <span class="n">inverse</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="n">g2</span> <span class="o">=</span> <span class="n">inverse</span><span class="p">(</span><span class="n">inverse</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">-</span> <span class="n">sigma</span><span class="p">)</span> <span class="c1"># this is Dyson&#39;s equation</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="slicing">
<h2>Slicing<a class="headerlink" href="#slicing" title="Permalink to this headline">¶</a></h2>
<p>Just like numpy arrays, the Green&#8217;s function can be sliced, <em>when the indices are integers</em> (otherwise it is meaningless).
The syntax is the regular python/numpy syntax, so a simple example will be enough here:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pytriqs.gf.local</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">GfImFreq</span><span class="p">(</span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">beta</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">n_points</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;imp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">gf_view</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="go">gf_view</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">gf_view</span>
</pre></div>
</div>
</div>
<div class="section" id="assignment-or-operator">
<h2>Assignment: &lt;&lt; or = operator<a class="headerlink" href="#assignment-or-operator" title="Permalink to this headline">¶</a></h2>
<p>Because python always uses references, one cannot simply use the = operator
to assign some expression into a Green&#8217;s function.
Therefore, we introduced the &lt;&lt; operator</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">&lt;&lt;</span> <span class="n">RHS</span>
</pre></div>
</div>
<p>This sets the data and tail of g with the RHS.</p>
<blockquote>
<div><ul class="simple">
<li>If RHS is Green&#8217;s function, it must be of the same type and size must match</li>
<li>If RHS is a formal expression, it must be of the same size</li>
</ul>
</div></blockquote>
<p>To simplify the notation, in the case where one accesses the Green&#8217;s function with a [ ] operation,
the = sign is possible and equivalent to the <cite>&lt;&lt;</cite> operator.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Don&#8217;t use the = operator without the brackets: it has its normal python meaning, i.e.
reassigning the reference.</p>
<p>Let us illustrate this issue on a simple example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytriqs.gf.local</span> <span class="kn">import</span> <span class="o">*</span>
<span class="c1"># Create the Matsubara-frequency Green&#39;s function</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">GfImFreq</span><span class="p">(</span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">beta</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">n_points</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;imp&quot;</span><span class="p">)</span>

<span class="n">g</span>    <span class="o">&lt;&lt;</span> <span class="n">inverse</span><span class="p">(</span> <span class="n">Omega</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="p">)</span>   <span class="c1"># correct</span>
<span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">inverse</span><span class="p">(</span> <span class="n">Omega</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="p">)</span>   <span class="c1"># correct (it uses __setitem__).</span>
</pre></div>
</div>
<p>However, the following line is almost certainly NOT what you have in mind:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">inverse</span><span class="p">(</span> <span class="n">Omega</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="p">)</span>
</pre></div>
</div>
<ul class="last simple">
<li>The reference g is reassigned to the object <cite>inverse( Omega + 0.5 )</cite>, which is not a block Green&#8217;s function but a lazy expression.</li>
<li>The block created earlier is destroyed immediately.</li>
</ul>
</div>
</div>
<div class="section" id="lazy-expressions">
<h2>Lazy expressions<a class="headerlink" href="#lazy-expressions" title="Permalink to this headline">¶</a></h2>
<p>To initialize the Green&#8217;s function, one can use lazy_expression, made of Green&#8217;s functions, <cite>descriptors</cite>
assembled with basic operations.</p>
<p><a class="reference internal" href="descriptors.html#descriptors"><span>descriptors</span></a> are abstract objects that do not contain data, but describe a simple function and
can be evaluated, can compute the high-frequency expansion, and so on. For example:</p>
<blockquote>
<div><ul class="simple">
<li><cite>Omega</cite>: is the function <span class="math">\(f(\omega) = \omega\)</span>.</li>
<li><cite>SemiCircular(D)</cite>: is a Green&#8217;s function corresponding to free fermions with a semicircular density of states of half-bandwith <cite>D</cite>.</li>
<li><cite>Flat</cite>: is a Green&#8217;s function corresponding to fermions with a flat density of states of half-bandwidth <cite>D</cite>.</li>
</ul>
</div></blockquote>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="descriptors.html">Descriptors</a></li>
</ul>
</div>
</div>
<div class="section" id="shelve-pickle">
<h2>shelve / pickle<a class="headerlink" href="#shelve-pickle" title="Permalink to this headline">¶</a></h2>
<p>Green&#8217;s functions are <cite>picklable</cite>, i.e. they support the standard python serialization techniques.</p>
<ul>
<li><p class="first">It can be used with the <a class="reference external" href="http://docs.python.org/library/shelve.html">shelve</a> and <a class="reference external" href="http://docs.python.org/library/pickle.html">pickle</a>  module:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shelve</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">shelve</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;myfile&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="n">s</span><span class="p">[</span><span class="s1">&#39;G&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span>  <span class="c1"># g is stored in the file.</span>
</pre></div>
</div>
</li>
<li><p class="first">It can be sent/broadcasted/reduced over mpi</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytriqs.utility</span> <span class="kn">import</span> <span class="n">mpi</span>
<span class="n">mpi</span><span class="o">.</span><span class="n">send</span> <span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">destination</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Shelve is not a portable format, it may change from python version to another (and it actually does).
For portability, we recommend using the HDF5 interface for storing data on disks.</p>
</div>
</div>
<div class="section" id="plot-options">
<h2>Plot options<a class="headerlink" href="#plot-options" title="Permalink to this headline">¶</a></h2>
<p>There is one important option that you will find very useful when plotting Green&#8217;s functions, which we
saw already in the previous section:</p>
<ul class="simple">
<li><cite>RI</cite> = &#8216;R&#8217; or &#8216;I&#8217; or &#8216;S&#8217;</li>
</ul>
<p>It tells the plotter, what part of the Green&#8217;s function you want to plot. &#8216;R&#8217; for the real part, &#8216;I&#8217;
for the imaginary part, and &#8216;S&#8217; for the spectral function, <span class="math">\(-1/\pi{\rm Im}G\)</span>. Of course,
depending on the type of Green&#8217;s function under consideration, one or more of these options do not make a lot of sense, e.g.
calculating the spectral function of an imaginary-time Green&#8217;s function is not useful.</p>
</div>
<div class="section" id="direct-access-to-data-points-and-tails-not-for-the-legendre-version">
<h2>Direct access to data points and tails [not for the Legendre version]<a class="headerlink" href="#direct-access-to-data-points-and-tails-not-for-the-legendre-version" title="Permalink to this headline">¶</a></h2>
<p>Data points can be accessed via the properties <code class="docutils literal"><span class="pre">data</span></code> and <code class="docutils literal"><span class="pre">tail</span></code> respectively.
<code class="docutils literal"><span class="pre">data</span></code> returns an array object and so does <code class="docutils literal"><span class="pre">tail[i]</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be careful when manipulating data directly to keep consistency between
the function and the tail.
Basic operations do this automatically, so use them as much as possible.</p>
</div>
</div>
<div class="section" id="direct-access-to-the-tails">
<span id="greentails"></span><h2>Direct access to the tails<a class="headerlink" href="#direct-access-to-the-tails" title="Permalink to this headline">¶</a></h2>
<p>All block Green&#8217;s function come together with a <strong>Tail</strong> object that describes its
large-frequency behavior. In other words, for large <span class="math">\(|z|\)</span>, the Green&#8217;s function
behaves like</p>
<div class="math">
\[g(z) \sim ... + M_{-1} z + M_0 + \frac{M_1}{z} + \frac{M_2}{z^2} + ...\]</div>
<p>where <span class="math">\(M_i\)</span> are matrices with the same dimensions as <span class="math">\(g\)</span>.</p>
<ul>
<li><p class="first">Tails can be accessed with the <code class="docutils literal"><span class="pre">tail</span></code> property. Moreover, in order
to have access to <span class="math">\(M_i\)</span>, one uses the bracket. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">GfImFreq</span><span class="p">(</span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;eg1&#39;</span><span class="p">,</span><span class="s1">&#39;eg2&#39;</span><span class="p">],</span> <span class="n">beta</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">n_points</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;egBlock&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">&lt;&lt;</span> <span class="mf">2.0</span>
<span class="go">gf_view</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">g</span><span class="o">.</span><span class="n">tail</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">[[ 2.+0.j  0.+0.j]</span>
<span class="go"> [ 0.+0.j  2.+0.j]]</span>
</pre></div>
</div>
<p>Here <code class="docutils literal"><span class="pre">g.tail[0]</span></code> is a diagonal matrix with 2 on the diagonal, corresponding to <span class="math">\(M_0\)</span>.</p>
</li>
<li><p class="first">Some operations (sum over frequencies, Fourier) uses these tails to regulate the sum,
so it is necessary to always keep the consistency between the array of data and the tail expansion.</p>
</li>
<li><p class="first">Fortunately, in all basic operations on the blocks, these tails are computed automatically.
For example, when adding two Green functions, the tails are added, and so on.</p>
</li>
<li><p class="first">However, if you modify the <code class="docutils literal"><span class="pre">data</span></code> or the <code class="docutils literal"><span class="pre">tail</span></code> manually, you lose this guarantee.
So you have to set the tail properly yourself (or be sure that you will not need it later).
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">GfImFreq</span><span class="p">(</span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;eg1&#39;</span><span class="p">,</span><span class="s1">&#39;eg2&#39;</span><span class="p">],</span> <span class="n">beta</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">n_points</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;egBlock&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">&lt;&lt;</span> <span class="n">Function</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">3</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">tail</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">tail</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="p">[[</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">3.0</span><span class="p">]]</span> <span class="p">)</span>
</pre></div>
</div>
<p>The third line sets all the <span class="math">\(M_i\)</span> to zero, while the fourth puts <span class="math">\(M_1 = diag(3)\)</span>. With
the tail set correctly, this Green&#8217;s function can be used safely.</p>
</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The library will not be able detect tails that are incorrectly set.
Calculations <em>may</em> be wrong in this case.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="block/GfImTime.html" title="[GfImTime] Matsubara Green’s function in imaginary time"
             >next</a> |</li>
        <li class="right" >
          <a href="contents.html" title="Python documentation"
             >previous</a> |</li>
    <li><a href="../../../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../../reference.html" >Reference</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../contents.html" ><strong>[triqs/gfs]</strong> Green&#8217;s functions</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="contents.html" >Python documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2011-2015, The TRIQS collaboration.
    </div>
  </body>
</html>