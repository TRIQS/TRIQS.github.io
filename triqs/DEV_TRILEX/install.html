<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation &mdash; TRIQS  documentation</title>
    
    <link rel="stylesheet" href="_static/triqs.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=default"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="TRIQS  documentation" href="contents.html" />
    <link rel="next" title="Installing required libraries on Ubuntu" href="installation/ubuntu.html" />
    <link rel="prev" title="Welcome" href="index.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
    <script src="_static/cufon-yui.js" type="text/javascript"></script>
    <script src="_static/spaceman.cufonfonts.js" type="text/javascript"></script>
    <script type="text/javascript">
      Cufon.replace('.triqs', { fontFamily: 'spaceman', hover: true }); 
    </script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    
    <li><a href="#">Install</a></li>
    
    <li><a href="reference.html">Reference</a></li>
    
    <li><a href="tutorials.html">Tutorials</a></li>
    
    <li><a href="applications.html">Applications</a></li>
    
    <li><a href="issues.html">Issues</a></li>
    
    <li><a href="about.html">About TRIQS</a></li>
    
  </ul>
  <div>
    <h1 style="padding:0; margin: 10px 0 0 0;"><a class="triqs" href="index.html">triqs</a></h1>
    <span style="font-size: 14px; margin: 0px; padding: 0px;">a Toolbox for Research on Interacting Quantum Systems</span>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation/ubuntu.html" title="Installing required libraries on Ubuntu"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome"
             accesskey="P">previous</a> |</li>
    <li><a href="index.html">Home</a> &raquo;</li>
 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#philosophy">Philosophy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#packaged-versions-of-triqs">Packaged Versions of TRIQS</a><ul>
<li><a class="reference internal" href="#docker">Docker</a></li>
<li><a class="reference internal" href="#binder">Binder</a></li>
<li><a class="reference internal" href="#ubuntu-debian-packages-experimental">Ubuntu Debian packages (experimental)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#compiling-triqs-from-source-advanced">Compiling TRIQS from source (Advanced)</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#installation-steps">Installation steps</a><ul>
<li><a class="reference internal" href="#environment-setup">Environment setup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#further-reading">Further reading</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="installation/ubuntu.html"
                        title="next chapter">Installing required libraries on Ubuntu</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/install.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>TRIQS and its applications are provided <em>a la carte</em>:
after you have installed the TRIQS library, you will be able to easily install
various TRIQS-based applications: impurity solvers, tools for DFT+DMFT
calculations, etc.</p>
<p>This page describes the installation of the TRIQS library itself. The
installation procedure of the applications is described on their respective
sites, under &#8216;Install&#8217;.</p>
<div class="section" id="philosophy">
<h2>Philosophy<a class="headerlink" href="#philosophy" title="Permalink to this headline">¶</a></h2>
<p>The TRIQS project is in perpetual dynamic evolution such that we can get our
developments directly to users straight out of the oven.</p>
<p>However, we also understand that some users may not wish to constantly update
their codes, and are happy to use an older but perhaps more stable version.</p>
<p>To this end, we propose two options to the user:</p>
<ol class="arabic simple">
<li>You follow the master branch in the git repository of TRIQS and all applications.
This will guarantee that you are using the latest stable release including essential
bug-fixes. Note that new releases might occasionally include changes of the API, which
we summarize in a set of release notes.
We use continuous integration to ensure that the master branch always compiles and
passes all tests. This is checked for both the TRIQS library and several public
(and private) applications.</li>
<li>You use a version tag, e.g. version 2.0, for TRIQS and all applications.
This guarantees complete reproducibility, while you might be missing out on the latest
features and bug-fixes.</li>
</ol>
</div>
</div>
<div class="section" id="packaged-versions-of-triqs">
<h1>Packaged Versions of TRIQS<a class="headerlink" href="#packaged-versions-of-triqs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="docker">
<h2>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h2>
<p>The virtualization software <a class="reference external" href="https://docs.docker.com/install">docker</a>  can be used to
run a triqs environment for both Jupyter Notebook and shell access on a variety of operating
systems. Once docker is installed, just pull the latest image with:</p>
<div class="highlight-bash"><div class="highlight"><pre>docker pull flatironinstitute/triqs
</pre></div>
</div>
<p>and follow the commands on the <a class="reference external" href="https://hub.docker.com/r/flatironinstitute/triqs">image-website</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Docker images allows for an easy set-up on cluster machines that provide the virtualization software <a class="reference external" href="https://singularity.lbl.gov">singularity</a>.
For more information please refer to the <a class="reference external" href="https://singularity.lbl.gov/docs-docker">singularity documentation</a>.</p>
</div>
</div>
<div class="section" id="binder">
<h2>Binder<a class="headerlink" href="#binder" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://mybinder.org">Binder</a> is a web-service running Jupyter notebooks for direct access.
A TRIQS Jupyter notebook environment can be accessed directly at <a class="reference external" href="https://mybinder.org/v2/gh/TRIQS/docker/master">binder</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Once your binder session is closed, your work will be lost.</p>
</div>
</div>
<div class="section" id="ubuntu-debian-packages-experimental">
<h2>Ubuntu Debian packages (experimental)<a class="headerlink" href="#ubuntu-debian-packages-experimental" title="Permalink to this headline">¶</a></h2>
<p>We provide Debian packages for the Ubuntu LTS Versions 16.04 (xenial) and 18.04 (bionic).:</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install -y software-properties-common apt-transport-https curl
<span class="nb">source</span> /etc/lsb-release
curl -L https://users.flatironinstitute.org/~ccq/triqs/master/<span class="nv">$D</span>ISTRIB_CODENAME/public.gpg <span class="p">|</span> sudo apt-key add -
sudo add-apt-repository <span class="s2">&quot;deb https://users.flatironinstitute.org/~ccq/triqs/master/</span><span class="nv">$D</span><span class="s2">ISTRIB_CODENAME/ /&quot;</span>
sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install -y triqs
</pre></div>
</div>
<p>This will install the minimal runtime packages and triqs into the system tree at /usr.</p>
<p>If you aim to compile applications against the triqs library, additional <a class="reference internal" href="installation/ubuntu.html#ubuntu"><span>development libraries</span></a> have to be installed. You should further set the following <a class="reference internal" href="installation/environment_vars.html#environment-vars"><span>environment variables</span></a> permanently:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export</span> <span class="nv">CPLUS_INCLUDE_PATH</span><span class="o">=</span>/usr/include/openmpi:/usr/include/hdf5/serial/:<span class="nv">$C</span>PATH
<span class="nb">source</span> /usr/share/cpp2pyvars.sh
<span class="nb">source</span> /usr/share/triqsvars.sh
</pre></div>
</div>
<p>For full c++2py functionality, please read the corresponding <a class="reference internal" href="installation/ubuntu.html#ubuntu-cpp2py"><span>section</span></a> for the Ubuntu set-up.</p>
</div>
</div>
<div class="section" id="compiling-triqs-from-source-advanced">
<h1>Compiling TRIQS from source (Advanced)<a class="headerlink" href="#compiling-triqs-from-source-advanced" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The TRIQS library relies on a certain number of standard libraries and tools
described in the <a class="reference internal" href="installation/requirements.html#requirements"><span>list of requirements</span></a>. Please pay
particular attention to the <a class="reference internal" href="installation/requirements.html#require-cxx-compilers"><span>C++ compilers</span></a> and to
<a class="reference internal" href="installation/python_virtualenv.html#python-virtualenv"><span>Python virtual environments</span></a>.  Here are instructions to
install these necessary libraries on two standard systems:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation/ubuntu.html">Installing required libraries on Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/osx_install.html">Installing required libraries on Mac OS X</a></li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please ensure that you have all the dependencies installed before proceeding further!</p>
</div>
</div>
<div class="section" id="installation-steps">
<h2>Installation steps<a class="headerlink" href="#installation-steps" title="Permalink to this headline">¶</a></h2>
<p>You need to install first Cpp2Py and then TRIQS.</p>
<p>We provide hereafter the build instructions in the form of a documented bash script.
You can adapt INSTALL_PREFIX, NCORES for your local settings.
Note that, contrary to previous versions of TRIQS,
the installation directory CMAKE_INSTALL_PREFIX is now mandatory in the cmake configuration.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="ch">#!/bin/bash</span>

<span class="c1"># Set this variable to your desired install directory</span>
<span class="nv">INSTALL_PREFIX</span><span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/install

<span class="c1"># Set the number of cores for the compilation</span>
<span class="nv">NCORES</span><span class="o">=</span>4

<span class="c1"># Clone the git repositories for cpp2py and triqs</span>
git clone https://github.com/TRIQS/cpp2py cpp2py.src
git clone https://github.com/TRIQS/triqs triqs.src

<span class="c1"># Configure the cpp2py build process</span>
mkdir -p cpp2py.build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> cpp2py.build
cmake ../cpp2py.src -DCMAKE_INSTALL_PREFIX<span class="o">=</span>$INSTALL_PREFIX

<span class="c1"># Build and install cpp2py</span>
make -j$NCORES <span class="o">&amp;&amp;</span> make install
<span class="nb">cd</span> ../

<span class="c1"># Load the cpp2py installation into your environment</span>
<span class="nb">source</span> $INSTALL_PREFIX/share/cpp2pyvars.sh

<span class="c1"># Use cmake to configure the triqs build process</span>
mkdir -p triqs.build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> triqs.build
cmake ../triqs.src -DCMAKE_INSTALL_PREFIX<span class="o">=</span>$INSTALL_PREFIX

<span class="c1"># Build, test and install triqs</span>
make -j$NCORES <span class="o">&amp;&amp;</span> make <span class="nb">test</span> <span class="o">&amp;&amp;</span> make install
<span class="nb">cd</span> ../

<span class="c1"># Load the triqs installation into your environment</span>
<span class="nb">source</span> $INSTALL_PREFIX/share/triqsvars.sh

<span class="nb">echo</span> 
<span class="nb">echo</span> <span class="s2">&quot;If you want to automatically load triqs and cpp2py into your environment,&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;please add the following two lines to your ~/.bash_profile (or ~/.zprofile):&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;source </span>$<span class="s2">INSTALL_PREFIX/share/cpp2pyvars.sh&quot;</span>
<span class="nb">echo</span> <span class="s2">&quot;source </span>$<span class="s2">INSTALL_PREFIX/share/triqsvars.sh&quot;</span>
</pre></div>
</div>
<div class="section" id="environment-setup">
<h3>Environment setup<a class="headerlink" href="#environment-setup" title="Permalink to this headline">¶</a></h3>
<p>Cpp2Py and TRIQS both provide a small script (<cite>cpp2pyvars.sh</cite> and <cite>triqsvars.sh</cite>)
to load their respective installation into your <a class="reference internal" href="installation/environment_vars.html#environment-vars"><span>environment variables</span></a>.
Please source them with the proper replacement of INSTALL_PREFIX:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">source</span> $INSTALL_PREFIX/share/cpp2pyvars.sh
<span class="nb">source</span> $INSTALL_PREFIX/share/triqsvars.sh
</pre></div>
</div>
<p>To automate this process, please add these two lines to your <a class="reference external" href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)#Startup_scripts">~/.bash_profile</a>
(or <a class="reference external" href="http://zsh.sourceforge.net/FAQ/zshfaq03.html#l19">~/.zprofile</a>)</p>
</div>
</div>
<div class="section" id="further-reading">
<h2>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation/install_options.html">Customizing your installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/environment_vars.html">Unix environment variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation/clang.html">Using the clang compiler</a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation/ubuntu.html" title="Installing required libraries on Ubuntu"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome"
             >previous</a> |</li>
    <li><a href="index.html">Home</a> &raquo;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2011-2017, The TRIQS collaboration.
    </div>
  </body>
</html>