
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>triqs::stat::accumulator &#8212; TRIQS 3.0.0 documentation</title>
    <link rel="stylesheet" href="../../../../_static/triqs.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=default"></script>
    <link rel="author" title="About these documents" href="../../../../about.html" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="triqs::stat::accumulator::constructor" href="accumulator/constructor.html" />
    <link rel="prev" title="triqs::stat" href="../stat.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
    <script src="../../../../_static/cufon-yui.js" type="text/javascript"></script>
    <script src="../../../../_static/spaceman.cufonfonts.js" type="text/javascript"></script>
    <script type="text/javascript">
      Cufon.replace('.triqs', { fontFamily: 'spaceman', hover: true }); 
    </script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>

  </head><body>
<div class="pageheader">
  <ul>
    
    <li><a href="../../../../install.html">Install</a></li>
    
    <li><a href="../../../../documentation.html">Documentation</a></li>
    
    <li><a href="../../../../userguide.html">User guide</a></li>
    
    <li><a href="../../../../applications.html">Applications</a></li>
    
    <li><a href="../../../../contributing.html">Contributing</a></li>
    
    <li><a href="../../../../about.html">About TRIQS</a></li>
    
  </ul>
  <div>
    <h1 style="padding:0; margin: 10px 0 0 0;"><a class="triqs" href="../../../../index.html">triqs</a></h1>
    <span style="font-size: 14px; margin: 0px; padding: 0px;">a Toolbox for Research on Interacting Quantum Systems</span>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="accumulator/constructor.html" title="triqs::stat::accumulator::constructor"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../stat.html" title="triqs::stat"
             accesskey="P">previous</a> |</li>
    <li><a href="../../../../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../../../documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../contents.html" >&lt;no title&gt;</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../stat.html" accesskey="U">triqs::stat</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">triqs::stat::accumulator</a><ul>
<li><a class="reference internal" href="#logarithmic-log-binning">Logarithmic (Log) Binning</a></li>
<li><a class="reference internal" href="#linear-lin-binning">Linear (Lin) Binning</a></li>
<li><a class="reference internal" href="#member-functions">Member functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../stat.html"
                        title="previous chapter">triqs::stat</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="accumulator/constructor.html"
                        title="next chapter">triqs::stat::accumulator::constructor</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../_sources/documentation/cpp_api/triqs/stat/accumulator.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="triqs-stat-accumulator">
<span id="id1"></span><h1>triqs::stat::accumulator<a class="headerlink" href="#triqs-stat-accumulator" title="Permalink to this headline">¶</a></h1>
<p><em>#include &lt;triqs/stat.hpp&gt;</em></p>
<p class="cppsynopsis">template&lt;typename T&gt; class  <span class="red">accumulator</span></p>
<p>The class takes in measurements during a Monte Carlo simulation and serves a dual purpose:</p>
<ol class="loweralpha simple">
<li>It can estimate the auto-correlation time of the data (so-called “logarithmic binning”).</li>
<li>It can averge groups of consequtive measurements and store the final data (so-called “linear binning”).</li>
</ol>
<p>The accumulators can be configured to perform either or both of these purposes, as needed. The design is purposefully flexible – it is useful both where the auto-correlation time <span class="math notranslate nohighlight">\(\tau\)</span> of the data is known as well as when it has to be estimated during the simulation.</p>
<div class="section" id="logarithmic-log-binning">
<h2>Logarithmic (Log) Binning<a class="headerlink" href="#logarithmic-log-binning" title="Permalink to this headline">¶</a></h2>
<p>This part of the accumulator is used to estimate the autocorrelation time of the data, by calculating the standard error of the data binned with different bin sizes.
For correlated data, the error should grow as the bin size increases up to the autocorrelation time, where it saturates [LINK].</p>
<p>The log binning uses bin sizes that are powers of two <span class="math notranslate nohighlight">\(2, 4, 8, 16, \ldots\)</span> up to a user-defined maximum. Note that binning is performed only once there is at one full bin of data at a given size – any partial accumulation is not considered. In the the end, one can obtain the list of standard errors for the different levels of binning; this should be analyzed to see if saturation with size has occurred.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Underestimating the auto-correlation time and a lack of ergodicity are common sources of systematic errors in Monte Carlo simulations. Provided the computational and memory costs are acceptable, it is advisable to always turn on logarithmic binning to check that <span class="math notranslate nohighlight">\(\tau\)</span> was estimated correctly and acts as expected.</p>
</div>
</div>
<div class="section" id="linear-lin-binning">
<h2>Linear (Lin) Binning<a class="headerlink" href="#linear-lin-binning" title="Permalink to this headline">¶</a></h2>
<p>This part of the accumulator is responsible for partially averaging (binning) and storing the data. It takes in data and accumulates it in a bin up to a user-defined bin-size. At every point, a bin stores the mean value of the data within it bin. If the bin size is larger then the auto-correlation time <span class="math notranslate nohighlight">\(\tau\)</span> of the measurement, the bins are independent statistical samples, which can be used for further analysis.</p>
<p>TODO: EXAMPLE!
TODO: Tutorial</p>
</div>
<div class="section" id="member-functions">
<h2>Member functions<a class="headerlink" href="#member-functions" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="accumulator/constructor.html#triqs-stat-accumulator-constructor"><span class="std std-ref">(constructor)</span></a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="accumulator/n_log_bins_max.html#triqs-stat-accumulator-n-log-bins-max"><span class="std std-ref">n_log_bins_max</span></a></td>
<td>Max. number of bins in the logarithmic accumulator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="accumulator/n_log_bins.html#triqs-stat-accumulator-n-log-bins"><span class="std std-ref">n_log_bins</span></a></td>
<td>Number of bins in the logarithmic accumulator</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="accumulator/n_lin_bins_max.html#triqs-stat-accumulator-n-lin-bins-max"><span class="std std-ref">n_lin_bins_max</span></a></td>
<td>Max. number of bins in the linear accumulator</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="accumulator/n_lin_bins.html#triqs-stat-accumulator-n-lin-bins"><span class="std std-ref">n_lin_bins</span></a></td>
<td>Number of bins in the linear accumulator</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="accumulator/lin_bin_capacity.html#triqs-stat-accumulator-lin-bin-capacity"><span class="std std-ref">lin_bin_capacity</span></a></td>
<td>Capacity of a linear bin</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="accumulator/operator&lt;&lt;.html#triqs-stat-accumulator-operatorltlt"><span class="std std-ref">operator&lt;&lt;</span></a></td>
<td>Input a measurement into the accumulator</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="accumulator/log_bin_errors.html#triqs-stat-accumulator-log-bin-errors"><span class="std std-ref">log_bin_errors</span></a></td>
<td>Get standard errors of log binned data</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><a class="reference internal" href="accumulator/log_bin_errors.html#triqs-stat-accumulator-log-bin-errors"><span class="std std-ref">log_bin_errors</span></a>                       | Get standard errors of log binned data                                                                                      |</div>
</div>
<blockquote>
<div>FIXME: Reduce only to a single mpi rank rather than broadcast to all |</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="accumulator/linear_bins.html#triqs-stat-accumulator-linear-bins"><span class="std std-ref">linear_bins</span></a></td>
<td>Returns data stored from linear binning</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="accumulator/compress_linear_bins.html#triqs-stat-accumulator-compress-linear-bins"><span class="std std-ref">compress_linear_bins</span></a></td>
<td>Increases linear bin capacity and compresses data within</td>
</tr>
</tbody>
</table>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="accumulator/constructor.html" title="triqs::stat::accumulator::constructor"
             >next</a> |</li>
        <li class="right" >
          <a href="../stat.html" title="triqs::stat"
             >previous</a> |</li>
    <li><a href="../../../../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../../../documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../contents.html" >&lt;no title&gt;</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../stat.html" >triqs::stat</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2017, The TRIQS collaboration.
    </div>
  </body>
</html>