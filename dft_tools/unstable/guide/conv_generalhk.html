
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>A general H(k) &#8212; triqs_dft_tools  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/triqs.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=default"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
    <script src="../_static/cufon-yui.js" type="text/javascript"></script>
    <script src="../_static/spaceman.cufonfonts.js" type="text/javascript"></script>
    <script type="text/javascript">
      Cufon.replace('.triqs', { fontFamily: 'spaceman', hover: true }); 
    </script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>

  </head><body>
<div class="pageheader">
  <ul>
    
    <li><a href="../install.html">Install</a></li>
    
    <li><a href="../documentation.html">Documentation</a></li>
    
    <li><a href="../tutorials.html">Tutorials</a></li>
    
    <li><a href="../issues.html">Issues</a></li>
    
    <li><a href="../about.html">About DFTTools</a></li>
    
  </ul>
  <div>
    <h1 style="padding:0; margin: 10px 0 0 0;"><a class="triqs" href="../index.html">dft tools</a></h1>
    <span style="font-size: 14px; margin: 0px; padding: 0px;">connecting <a class="triqs" style="font-size: 12px" href="http://triqs.github.io/triqs">TRIQS</a> to DFT packages</span>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

        <li class="nav-item nav-item-this"><a href="">A general H(k)</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/guide/conv_generalhk.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="a-general-h-k">
<span id="convgeneralhk"></span><h1>A general H(k)<a class="headerlink" href="#a-general-h-k" title="Permalink to this headline">Â¶</a></h1>
<p>In addition to the more extensive Wien2k, VASP, and W90 converters,
<strong class="program">DFTTools</strong> contains also a light converter. It takes only
one inputfile, and creates the necessary hdf outputfile for
the DMFT calculation. The header of this input file has a defined
format, an example is the following (do not use the text/comments in your
input file):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">64</span>                  <span class="c1"># number of k-points</span>
<span class="mf">1.0</span>                 <span class="c1"># electron density</span>
<span class="mi">2</span>                   <span class="c1"># number of total atomic shells</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">5</span>             <span class="c1"># atom, sort, l, dim</span>
<span class="mi">2</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">3</span>             <span class="c1"># atom, sort, l, dim</span>
<span class="mi">1</span>                   <span class="c1"># number of correlated shells</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">5</span> <span class="mi">0</span> <span class="mi">0</span>         <span class="c1"># atom, sort, l, dim, SO, irep</span>
<span class="mi">1</span> <span class="mi">5</span>                 <span class="c1"># number of ireps, dim of irep</span>
</pre></div>
</div>
<p>The lines of this header define</p>
<ol class="arabic">
<li><p>Number of <span class="math notranslate nohighlight">\(\mathbf{k}\)</span>-points used in the calculation</p></li>
<li><p>Electron density for setting the chemical potential</p></li>
<li><p>Number of total atomic shells in the hamiltonian matrix. In short,
this gives the number of lines described in the following. IN the
example file give above this number is 2.</p></li>
<li><p>The next line(s) contain four numbers each: index of the atom, index
of the equivalent shell, <span class="math notranslate nohighlight">\(l\)</span> quantum number, dimension
of this shell. Repeat this line for each atomic shell, the number
of the shells is given in the previous line.</p>
<p>In the example input file given above, we have two inequivalent
atomic shells, one on atom number 1 with a full d-shell (dimension 5),
and one on atom number 2 with one p-shell (dimension 3).</p>
<p>Other examples for these lines are:</p>
<ol class="arabic simple">
<li><p>Full d-shell in a material with only one correlated atom in the
unit cell (e.g. SrVO3). One line is sufficient and the numbers
are <cite>1 1 2 5</cite>.</p></li>
<li><p>Full d-shell in a material with two equivalent atoms in the unit
cell (e.g. FeSe): You need two lines, one for each equivalent
atom. First line is <cite>1 1 2 5</cite>, and the second line is
<cite>2 1 2 5</cite>. The only difference is the first number, which tells on
which atom the shell is located. The second number is the
same in both lines, meaning that both atoms are equivalent.</p></li>
<li><p>t2g orbitals on two non-equivalent atoms in the unit cell: Two
lines again. First line is <cite>1 1 2 3</cite>, second line <cite>2 2 2 3</cite>. The
difference to the case above is that now also the second number
differs. Therefore, the two shells are treated independently in
the calculation.</p></li>
<li><p>d-p Hamiltonian in a system with two equivalent atoms each in
the unit cell (e.g. FeSe has two Fe and two Se in the unit
cell). You need for lines. First line <cite>1 1 2 5</cite>, second
line
<cite>2 1 2 5</cite>. These two lines specify Fe as in the case above. For the p
orbitals you need line three as <cite>3 2 1 3</cite> and line four
as <cite>4 2 1 3</cite>. We have 4 atoms, since the first number runs from 1 to 4,
but only two inequivalent atoms, since the second number runs
only form 1 to 2.</p></li>
</ol>
<p>Note that the total dimension of the hamiltonian matrices that are
read in is the sum of all shell dimensions that you specified. For
example number 4 given above we have a dimension of 5+5+3+3=16. It is important
that the order of the shells that you give here must be the same as
the order of the orbitals in the hamiltonian matrix. In the last
example case above the code assumes that matrix index 1 to 5
belongs to the first d shell, 6 to 10 to the second, 11 to 13 to
the first p shell, and 14 to 16 the second p shell.</p>
</li>
<li><p>Number of correlated shells in the hamiltonian matrix, in the same
spirit as line 3.</p></li>
<li><p>The next line(s) contain six numbers: index of the atom, index
of the equivalent shell, <span class="math notranslate nohighlight">\(l\)</span> quantum number, dimension
of the correlated shells, a spin-orbit parameter, and another
parameter defining interactions. Note that the latter two
parameters are not used at the moment in the code, and only kept
for compatibility reasons. In our example file we use only the
d-shell as correlated, that is why we have only one line here.</p></li>
<li><p>The last line contains several numbers: the number of irreducible
representations, and then the dimensions of the irreps. One
possibility is as the example above, another one would be 2
2 3. This would mean, 2 irreps (eg and t2g), of dimension 2 and 3,
resp.</p></li>
</ol>
<p>After these header lines, the file has to contain the Hamiltonian
matrix in orbital space. The standard convention is that you give for
each <span class="math notranslate nohighlight">\(\mathbf{k}\)</span>-point first the matrix of the real part, then the
matrix of the imaginary part, and then move on to the next <span class="math notranslate nohighlight">\(\mathbf{k}\)</span>-point.</p>
<p>The converter itself is used as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">triqs_dft_tools.converters.hk</span> <span class="k">import</span> <span class="o">*</span>
<span class="n">Converter</span> <span class="o">=</span> <span class="n">HkConverter</span><span class="p">(</span><span class="n">filename</span> <span class="o">=</span> <span class="n">hkinputfile</span><span class="p">)</span>
<span class="n">Converter</span><span class="o">.</span><span class="n">convert_dft_input</span><span class="p">()</span>
</pre></div>
</div>
<p>where <code class="file docutils literal notranslate"><span class="pre">hkinputfile</span></code> is the name of the input file described
above. This produces the hdf file that you need for a DMFT calculation.</p>
<p>For more options of this converter, have a look at the
<a class="reference internal" href="../reference/converters.html#refconverters"><span class="std std-ref">Converters</span></a> section of the reference manual.</p>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

        <li class="nav-item nav-item-this"><a href="">A general H(k)</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2020.
    </div>
  </body>
</html>