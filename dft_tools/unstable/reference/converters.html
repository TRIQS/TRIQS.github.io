
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Converters &#8212; triqs_dft_tools  documentation</title>
    <link rel="stylesheet" href="../_static/triqs.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=default"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SumK DFT" href="sumk_dft.html" />
    <link rel="prev" title="hdf5 structure" href="h5structure.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>
    <script src="../_static/cufon-yui.js" type="text/javascript"></script>
    <script src="../_static/spaceman.cufonfonts.js" type="text/javascript"></script>
    <script type="text/javascript">
      Cufon.replace('.triqs', { fontFamily: 'spaceman', hover: true }); 
    </script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>

  </head><body>
<div class="pageheader">
  <ul>
    
    <li><a href="../install.html">Install</a></li>
    
    <li><a href="../documentation.html">Documentation</a></li>
    
    <li><a href="../tutorials.html">Tutorials</a></li>
    
    <li><a href="../issues.html">Issues</a></li>
    
    <li><a href="../about.html">About DFTTools</a></li>
    
  </ul>
  <div>
    <h1 style="padding:0; margin: 10px 0 0 0;"><a class="triqs" href="../index.html">dft tools</a></h1>
    <span style="font-size: 14px; margin: 0px; padding: 0px;">connecting <a class="triqs" style="font-size: 12px" href="http://triqs.github.io/triqs">TRIQS</a> to DFT packages</span>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sumk_dft.html" title="SumK DFT"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="h5structure.html" title="hdf5 structure"
             accesskey="P">previous</a> |</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" accesskey="U">Documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Converters</a><ul>
<li><a class="reference internal" href="#wien2k-converter">Wien2k Converter</a></li>
<li><a class="reference internal" href="#h-k-converter">H(k) Converter</a></li>
<li><a class="reference internal" href="#wannier90-converter">Wannier90 Converter</a></li>
<li><a class="reference internal" href="#plovasp">PLOVASP</a><ul>
<li><a class="reference internal" href="#plovasp-converter">plovasp.converter</a></li>
<li><a class="reference internal" href="#plovasp-inpconfig">plovasp.inpconfig</a></li>
<li><a class="reference internal" href="#plovasp-vaspio">plovasp.vaspio</a></li>
<li><a class="reference internal" href="#plovasp-elstruct">plovasp.elstruct</a></li>
<li><a class="reference internal" href="#plovasp-plotools">plovasp.plotools</a></li>
<li><a class="reference internal" href="#plovasp-proj-shell">plovasp.proj_shell</a></li>
<li><a class="reference internal" href="#plovasp-proj-group">plovasp.proj_group</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vasp-converter">VASP Converter</a></li>
<li><a class="reference internal" href="#elk-converter">Elk Converter</a></li>
<li><a class="reference internal" href="#elk-tools">Elk Tools</a></li>
<li><a class="reference internal" href="#converter-tools">Converter Tools</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="h5structure.html"
                        title="previous chapter">hdf5 structure</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="sumk_dft.html"
                        title="next chapter">SumK DFT</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/converters.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="converters">
<span id="refconverters"></span><h1>Converters<a class="headerlink" href="#converters" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wien2k-converter">
<h2>Wien2k Converter<a class="headerlink" href="#wien2k-converter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.wien2k.</code><code class="descname">Wien2kConverter</code><span class="sig-paren">(</span><em>filename</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>parproj_subgrp='dft_parproj_input'</em>, <em>symmpar_subgrp='dft_symmpar_input'</em>, <em>bands_subgrp='dft_bands_input'</em>, <em>misc_subgrp='dft_misc_input'</em>, <em>transp_subgrp='dft_transp_input'</em>, <em>repacking=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#triqs_dft_tools.converters.converter_tools.ConverterTools" title="triqs_dft_tools.converters.converter_tools.ConverterTools"><code class="xref py py-class docutils literal notranslate"><span class="pre">triqs_dft_tools.converters.converter_tools.ConverterTools</span></code></a></p>
<p>Conversion from Wien2k output to an hdf5 file that can be used as input for the SumkDFT class.</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>filename</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>parproj_subgrp='dft_parproj_input'</em>, <em>symmpar_subgrp='dft_symmpar_input'</em>, <em>bands_subgrp='dft_bands_input'</em>, <em>misc_subgrp='dft_misc_input'</em>, <em>transp_subgrp='dft_transp_input'</em>, <em>repacking=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Base name of DFT files.</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created.</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data.</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data.</p>
</div></blockquote>
<p><strong>parproj_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial projector data.</p>
</div></blockquote>
<p><strong>symmpar_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial-projector symmetry data.</p>
</div></blockquote>
<p><strong>bands_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing band data.</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing miscellaneous DFT data.</p>
</div></blockquote>
<p><strong>transp_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing transport data.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_bands_input">
<code class="descname">convert_bands_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_bands_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_bands_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the bands_subgrp in the hdf5 archive.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_dft_input">
<code class="descname">convert_dft_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_dft_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the</p>
<ul class="simple">
<li>dft_subgrp</li>
<li>symmcorr_subgrp</li>
<li>misc_subgrp</li>
</ul>
<p>in the hdf5 archive.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_misc_input">
<code class="descname">convert_misc_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_misc_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_misc_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads additional information on:</p>
<ul class="simple">
<li>the band window from <code class="file docutils literal notranslate"><span class="pre">case.oubwin</span></code>,</li>
<li>lattice parameters from <code class="file docutils literal notranslate"><span class="pre">case.struct</span></code>,</li>
<li>symmetries from <code class="file docutils literal notranslate"><span class="pre">case.outputs</span></code>,</li>
</ul>
<p>if those Wien2k files are present and stores the data in the hdf5 archive.
This function is automatically called by <a class="reference internal" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_dft_input" title="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_dft_input"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert_dft_input</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_parproj_input">
<code class="descname">convert_parproj_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_parproj_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_parproj_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the</p>
<ul class="simple">
<li>parproj_subgrp</li>
<li>symmpar_subgrp</li>
</ul>
<p>in the hdf5 archive.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_symmetry_input">
<code class="descname">convert_symmetry_input</code><span class="sig-paren">(</span><em>orbits</em>, <em>symm_file</em>, <em>symm_subgrp</em>, <em>SO</em>, <em>SP</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_symmetry_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_symmetry_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads and stores symmetrisation data from symm_file, which can be is case.sympar or case.symqmc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>orbits</strong> : list of dicts</p>
<blockquote>
<div><p>This is either shells or corr_shells depending on whether the symmetry 
information is for correlated shells or partial projectors.</p>
</div></blockquote>
<p><strong>symm_file</strong> : string</p>
<blockquote>
<div><p>Name of the file containing symmetry data. 
This is case.symqmc for correlated shells and case.sympar for partial projectors.</p>
</div></blockquote>
<p><strong>symm_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing symmetry data.</p>
</div></blockquote>
<p><strong>SO</strong> : integer</p>
<blockquote>
<div><p>Is spin-orbit coupling considered?</p>
</div></blockquote>
<p><strong>SP</strong> : integer</p>
<blockquote class="last">
<div><p>Is the system spin-polarised?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_transport_input">
<code class="descname">convert_transport_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_transport_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_transport_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the necessary information for transport calculations on:</p>
<ul class="simple">
<li>the optical band window and the velocity matrix elements from <code class="file docutils literal notranslate"><span class="pre">case.pmat</span></code></li>
</ul>
<p>and stores the data in the hdf5 archive.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="h-k-converter">
<h2>H(k) Converter<a class="headerlink" href="#h-k-converter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="triqs_dft_tools.converters.hk.HkConverter">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.hk.</code><code class="descname">HkConverter</code><span class="sig-paren">(</span><em>filename</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>repacking=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/hk.html#HkConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.hk.HkConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from general H(k) file to an hdf5 file that can be used as input for the SumKDFT class.</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.hk.HkConverter.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>filename</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>repacking=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/hk.html#HkConverter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.hk.HkConverter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Name of file containing the H(k) and other relevant data.</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created.</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data.</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data.
The group is actually empty; it is just included for compatibility.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.hk.HkConverter.convert_dft_input">
<code class="descname">convert_dft_input</code><span class="sig-paren">(</span><em>first_real_part_matrix=True</em>, <em>only_upper_triangle=False</em>, <em>weights_in_file=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/hk.html#HkConverter.convert_dft_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.hk.HkConverter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the dft_subgrp in the hdf5 archive.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>first_real_part_matrix</strong> : boolean, optional</p>
<blockquote>
<div><p>Should all the real components for given k be read in first, followed by the imaginary parts?</p>
</div></blockquote>
<p><strong>only_upper_triangle</strong> : boolean, optional</p>
<blockquote>
<div><p>Should only the upper triangular part of H(k) be read in?</p>
</div></blockquote>
<p><strong>weights_in_file</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Are the k-point weights to be read in?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="wannier90-converter">
<h2>Wannier90 Converter<a class="headerlink" href="#wannier90-converter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.wannier90.</code><code class="descname">Wannier90Converter</code><span class="sig-paren">(</span><em>seedname</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>misc_subgrp='dft_misc_input'</em>, <em>repacking=False</em>, <em>rot_mat_type='hloc_diag'</em>, <em>bloch_basis=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from Wannier90 output to an hdf5 file that can be used as input for the SumkDFT class.</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>seedname</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>misc_subgrp='dft_misc_input'</em>, <em>repacking=False</em>, <em>rot_mat_type='hloc_diag'</em>, <em>bloch_basis=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>seedname</strong> : string</p>
<blockquote>
<div><p>Base name of Wannier90 files</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing miscellaneous DFT data.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote>
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
<p><strong>rot_mat_type</strong> : string, optional</p>
<blockquote>
<div><p>Type of rot_mat used
Can be ‘hloc_diag’, ‘wannier’, ‘none’</p>
</div></blockquote>
<p><strong>bloch_basis</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Should the Hamiltonian be written in Bloch rather than Wannier basis?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.convert_dft_input">
<code class="descname">convert_dft_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.convert_dft_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the</p>
<ul class="simple">
<li>dft_subgrp</li>
<li>symmcorr_subgrp</li>
</ul>
<p>in the hdf5 archive.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.convert_misc_input">
<code class="descname">convert_misc_input</code><span class="sig-paren">(</span><em>out_filename</em>, <em>nnkp_filename</em>, <em>n_spin_blocs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.convert_misc_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.convert_misc_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads input from DFT code calculations to get occupations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>out_filename</strong> : string</p>
<blockquote>
<div><p>filename of DFT output file containing occupation data</p>
</div></blockquote>
<p><strong>nnkp_file</strong> : string</p>
<blockquote>
<div><p>filename of Wannier postproc_setup run</p>
</div></blockquote>
<p><strong>n_spin_blocs</strong> : int</p>
<blockquote>
<div><p>SP + 1 - SO</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fermi_weights</strong> : numpy.array[self.n_k, n_spin_blocs ,n_orbitals]</p>
<blockquote>
<div><p>occupations from DFT calculation</p>
</div></blockquote>
<p><strong>band_window</strong> : numpy.array[self.n_k, n_spin_blocs ,n_orbitals]</p>
<blockquote>
<div><p>band indices of correlated subspace</p>
</div></blockquote>
<p><strong>fermi_energy</strong> : float</p>
<blockquote class="last">
<div><p>the DFT Kohn-Sham Fermi energy</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.find_rot_mat">
<code class="descname">find_rot_mat</code><span class="sig-paren">(</span><em>n_sh</em>, <em>sh_lst</em>, <em>sh_map</em>, <em>ham0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.find_rot_mat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.find_rot_mat" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for finding the matrices that bring from local to global coordinate systems
(and viceversa), based on the eigenvalues of H(R=0)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n_sh</strong> : integer</p>
<blockquote>
<div><p>number of shells</p>
</div></blockquote>
<p><strong>sh_lst</strong> : list of shells-type dictionaries</p>
<blockquote>
<div><p>contains the shells (could be correlated or not)</p>
</div></blockquote>
<p><strong>sh_map</strong> : list of integers</p>
<blockquote>
<div><p>mapping between shells</p>
</div></blockquote>
<p><strong>ham0</strong> : numpy.array of floats</p>
<blockquote>
<div><p>local Hamiltonian matrix elements</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>succeeded</strong> : integer</p>
<blockquote>
<div><p>if 0, something failed in the construction of the matrices</p>
</div></blockquote>
<p><strong>rot_mat</strong> : list of numpy.array</p>
<blockquote class="last">
<div><p>rotation matrix for each of the shell</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.fourier_ham">
<code class="descname">fourier_ham</code><span class="sig-paren">(</span><em>h_of_r</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.fourier_ham"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.fourier_ham" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for obtaining H(k) from H(R) via Fourier transform
The R vectors and k-point mesh are read from global module variables</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>h_of_r</strong> : list of numpy.array[norb,norb]</p>
<blockquote>
<div><p>Hamiltonian H(R) in Wannier basis</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>h_of_k</strong> : list of numpy.array[norb,norb]</p>
<blockquote class="last">
<div><p>transformed Hamiltonian H(k) in Wannier basis</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.kmesh_build">
<code class="descname">kmesh_build</code><span class="sig-paren">(</span><em>msize</em>, <em>mmode=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.kmesh_build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.kmesh_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for the generation of the k-point mesh.
Right now it only supports the option for generating a full grid containing k=0,0,0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>msize</strong> : list of 3 integers</p>
<blockquote>
<div><p>the dimensions of the mesh</p>
</div></blockquote>
<p><strong>mmode</strong> : integer</p>
<blockquote>
<div><p>mesh generation mode (right now, only full grid available)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>nkpt</strong> : integer</p>
<blockquote>
<div><p>total number of k-points in the mesh</p>
</div></blockquote>
<p><strong>kpts</strong> : numpy.array[nkpt,3] of floats</p>
<blockquote>
<div><p>the coordinates of all k-points</p>
</div></blockquote>
<p><strong>wk</strong> : numpy.array[nkpt] of floats</p>
<blockquote class="last">
<div><p>the weight of each k-point</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.read_wannier90data">
<code class="descname">read_wannier90data</code><span class="sig-paren">(</span><em>wannier_seed='wannier'</em>, <em>kmesh_mode=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.read_wannier90data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.read_wannier90data" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for reading the seedname_hr.dat file produced by Wannier90 (<a class="reference external" href="http://wannier.org">http://wannier.org</a>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>wannier_seed</strong> : string</p>
<blockquote>
<div><p>seedname to read H(R) file produced by Wannier90 (usually seedname_hr.dat)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>nrpt</strong> : integer</p>
<blockquote>
<div><p>number of R vectors found in the file</p>
</div></blockquote>
<p><strong>rvec_idx</strong> : numpy.array of integers</p>
<blockquote>
<div><p>Miller indices of the R vectors</p>
</div></blockquote>
<p><strong>rvec_deg</strong> : numpy.array of floats</p>
<blockquote>
<div><p>weight of the R vectors</p>
</div></blockquote>
<p><strong>num_wf</strong> : integer</p>
<blockquote>
<div><p>number of Wannier functions found</p>
</div></blockquote>
<p><strong>h_of_r</strong> : list of numpy.array</p>
<blockquote>
<div><p>&lt;w_i|H(R)|w_j&gt; = Hamilonian matrix elements in the Wannier basis</p>
</div></blockquote>
<p><strong>u_mat</strong> : numpy.array</p>
<blockquote>
<div><p>U_mn^k = unitary matrix elements which mix the Kohn-Sham states</p>
</div></blockquote>
<p><strong>udis_mat</strong> : numpy.array</p>
<blockquote>
<div><p>U^dis(k) = rectangular matrix for entangled bands</p>
</div></blockquote>
<p><strong>band_mat</strong> : numpy.array</p>
<blockquote>
<div><p>epsilon_nk = Kohn-Sham eigenvalues (in eV) needed for entangled bands
If not self.bloch_basis unused and therefore None</p>
</div></blockquote>
<p><strong>k_mesh</strong> : numpy.array</p>
<blockquote class="last">
<div><p>The k mesh read from the seedname_u.mat file to ensure consistency
If not self.bloch_basis unused and therefore None</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="plovasp">
<h2>PLOVASP<a class="headerlink" href="#plovasp" title="Permalink to this headline">¶</a></h2>
<p id="refplovasp">PLOVASP reference, the classes / functions are sorted the way the converter uses them.</p>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.converter"></span><div class="section" id="plovasp-converter">
<h3>plovasp.converter<a class="headerlink" href="#plovasp-converter" title="Permalink to this headline">¶</a></h3>
<p>PLOVASP is a tool to transform raw, non-normalized
projectors generated by VASP into normalized projectors
corresponding to user-defined projected localized orbitals (PLO).</p>
<p>Runs routines in proper order to generate and store PLOs.</p>
<p>Usage: python converter.py &lt;conf-file&gt; [&lt;path-to-vasp-calculation&gt;]</p>
<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.converter.generate_and_output_as_text">
<code class="descclassname">triqs_dft_tools.converters.plovasp.converter.</code><code class="descname">generate_and_output_as_text</code><span class="sig-paren">(</span><em>conf_filename</em>, <em>vasp_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/converter.html#generate_and_output_as_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.converter.generate_and_output_as_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse config file, process VASP data, and store as text.</p>
</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.inpconf"></span><div class="section" id="plovasp-inpconfig">
<h3>plovasp.inpconfig<a class="headerlink" href="#plovasp-inpconfig" title="Permalink to this headline">¶</a></h3>
<p>Module for parsing and checking an input config-file.</p>
<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.inpconf.</code><code class="descname">ConfigParameters</code><span class="sig-paren">(</span><em>input_filename</em>, <em>verbosity=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Class responsible for parsing of the input config-file.</p>
<p>Parameters:</p>
<ul class="simple">
<li><em>sh_required</em>, <em>sh_optional</em> : required and optional parameters of shells</li>
<li><em>gr_required</em>, <em>gr_optional</em> : required and optional parameters of groups</li>
</ul>
<p>The dictionary contains a mapping of conf-file keywords to
a pair of objects:</p>
<blockquote>
<div><ol class="arabic simple">
<li>internal name of a parameter</li>
<li>function used to convert an input string into data for a given parameter</li>
</ol>
</div></blockquote>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.groups_shells_consistency">
<code class="descname">groups_shells_consistency</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.groups_shells_consistency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.groups_shells_consistency" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Ensures consistency between groups and shells. In particular:</dt>
<dd><ul class="first last simple">
<li>if no groups are explicitly defined and only shell is defined create a group automatically</li>
<li>check the existance of all shells referenced in the groups</li>
<li>check that all shells are referenced in the groups</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_band_window">
<code class="descname">parse_band_window</code><span class="sig-paren">(</span><em>par_str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_band_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_band_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Band window is given by two ints, with the first one being smaller
than the second one.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_energy_window">
<code class="descname">parse_energy_window</code><span class="sig-paren">(</span><em>par_str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_energy_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_energy_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy window is given by two floats, with the first one being smaller
than the second one.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_file_tmatrix">
<code class="descname">parse_file_tmatrix</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_file_tmatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_file_tmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a file ‘filename’ containing transformation matrices
for each ion. The parser returns a raw matrix that will be
interpreted elsewhere because the interpretation depends on
shell parameters.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_general">
<code class="descname">parse_general</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_general"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_general" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses [General] section.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_groups">
<code class="descname">parse_groups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses [Group] sections.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_input">
<code class="descname">parse_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses input conf-file.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_parameter_set">
<code class="descname">parse_parameter_set</code><span class="sig-paren">(</span><em>section</em>, <em>param_set</em>, <em>exception=False</em>, <em>defaults=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_parameter_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_parameter_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses required or optional parameter set from a section.
For required parameters <cite>exception=True</cite> must be set.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_shells">
<code class="descname">parse_shells</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_shells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_shells" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses all [Shell] sections.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_dosmesh">
<code class="descname">parse_string_dosmesh</code><span class="sig-paren">(</span><em>par_str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_dosmesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_dosmesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Two formats are accepted:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Two floats (energy range) and an integer (number of energy points).</li>
<li>One integer (number of energy points). In this case the energy
range is taken to be equal to EMIN, EMAX of a shell.</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>The parser returns a dictionary:</dt>
<dd><dl class="first last docutils">
<dt>{‘n_points’: int,</dt>
<dd>‘emin’: float,
‘emax’: float}</dd>
</dl>
</dd>
</dl>
<p>If the second option is used, ‘emin’ and ‘emax’ are undefined
and set to ‘nan’.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_int">
<code class="descname">parse_string_int</code><span class="sig-paren">(</span><em>par_str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_int" title="Permalink to this definition">¶</a></dt>
<dd><p>int parameters</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_ion_list">
<code class="descname">parse_string_ion_list</code><span class="sig-paren">(</span><em>par_str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_ion_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_ion_list" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>The ion list accepts the following formats:</dt>
<dd><dl class="first last docutils">
<dt>1). A list of ion indices according to POSCAR.</dt>
<dd>The list can be defined as a range ‘9..20’.</dd>
<dt>2). A list of ion groups (e.g. ‘[1  4]  [2  3]’) in which</dt>
<dd>case each group defines a set of equivalent sites.</dd>
<dt>3). An element name, in which case all ions with</dt>
<dd>this name are included. NOT YET IMPLEMENTED.</dd>
</dl>
</dd>
</dl>
<p>The second option requires an input from POSCAR file.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_logical">
<code class="descname">parse_string_logical</code><span class="sig-paren">(</span><em>par_str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_logical"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_logical" title="Permalink to this definition">¶</a></dt>
<dd><p>Logical parameters are given by string ‘True’ or ‘False’
(case does not matter). In fact, only the first symbol matters so that
one can write ‘T’ or ‘F’.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_tmatrix">
<code class="descname">parse_string_tmatrix</code><span class="sig-paren">(</span><em>par_str</em>, <em>real</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_tmatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_tmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Transformation matrix is defined as a set of rows separated
by a new line symbol.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.vaspio"></span><div class="section" id="plovasp-vaspio">
<h3>plovasp.vaspio<a class="headerlink" href="#plovasp-vaspio" title="Permalink to this headline">¶</a></h3>
<p>Input of required VASP data.</p>
<dl class="docutils">
<dt>Six VASP files are required:</dt>
<dd><ul class="first last simple">
<li>PROJCAR</li>
<li>LOCPROJ</li>
<li>POSCAR</li>
<li>IBZKPT</li>
<li>EIGENVAL</li>
<li>DOSCAR</li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.VaspData">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.vaspio.</code><code class="descname">VaspData</code><span class="sig-paren">(</span><em>vasp_dir</em>, <em>read_all=True</em>, <em>efermi_required=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#VaspData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.VaspData" title="Permalink to this definition">¶</a></dt>
<dd><p>Container class for all VASP data.</p>
</dd></dl>

<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.vaspio.</code><code class="descname">Plocar</code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing raw PLO data from VASP.</p>
<dl class="docutils">
<dt>Properties:</dt>
<dd><ul class="first last simple">
<li><em>plo</em> (numpy.array((nion, ns, nk, nb, nlmmax))) : raw projectors</li>
<li><em>params</em> (dict) : parameters read from PLOCAR</li>
<li><em>ferw</em> (array(nion, ns, nk, nb)) : Fermi weights from VASP</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar.from_file">
<code class="descname">from_file</code><span class="sig-paren">(</span><em>vasp_dir='./'</em>, <em>plocar_filename='PLOCAR'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar.from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads non-normalized projectors from a binary file (<a href="#id1"><span class="problematic" id="id2">`</span></a>PLOCAR’ by default)
generated by VASP PLO interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vasp_dir (str)</strong> : path to the VASP working directory [default = <a href="#id3"><span class="problematic" id="id4">`</span></a>./’]</p>
<p class="last"><strong>plocar_filename (str)</strong> : filename [default = <a href="#id5"><span class="problematic" id="id6">`</span></a>PLOCAR’]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar.locproj_parser">
<code class="descname">locproj_parser</code><span class="sig-paren">(</span><em>locproj_filename='LOCPROJ'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar.locproj_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar.locproj_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses LOCPROJ (for VASP &gt;= 5.4.2) to get VASP projectors.</p>
<p>This is a prototype parser that should eventually be written in C for
better performance on large files.</p>
<p>Returns projector parameters (site/orbital indices etc.) and an array
with projectors.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar.search_for">
<code class="descname">search_for</code><span class="sig-paren">(</span><em>f</em>, <em>patt</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar.search_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar.search_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads file ‘f’ until pattern ‘patt’ is encountered and returns
the corresponding line.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar.temp_parser">
<code class="descname">temp_parser</code><span class="sig-paren">(</span><em>projcar_filename='PROJCAR'</em>, <em>locproj_filename='LOCPROJ'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar.temp_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar.temp_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses PROJCAR (and partially LOCPROJ) to get VASP projectors.</p>
<p>This is a prototype parser that should eventually be written in C for
better performance on large files.</p>
<p>Returns projector parameters (site/orbital indices etc.) and an array
with projectors.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Poscar">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.vaspio.</code><code class="descname">Poscar</code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Poscar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Poscar" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing POSCAR data from VASP.</p>
<dl class="docutils">
<dt>Properties:</dt>
<dd><ul class="first last simple">
<li>nq (int) : total number of ions</li>
<li>ntypes ([int]) : number of ion types</li>
<li>nions (int) : a list of number of ions of each type</li>
<li>a_brav (numpy.array((3, 3), dtype=float)) : lattice vectors</li>
<li>kpt_basis (numpy.array((3, 3), dtype=float)) : reciprocal lattice vectors</li>
<li>q_types ([numpy.array((nions, 3), dtype=float)]) : a list of
arrays each containing fractional coordinates of ions of a given type</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Poscar.from_file">
<code class="descname">from_file</code><span class="sig-paren">(</span><em>vasp_dir='./'</em>, <em>poscar_filename='POSCAR'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Poscar.from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Poscar.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads POSCAR and returns a dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vasp_dir (str)</strong> : path to the VASP working directory [default = <a href="#id7"><span class="problematic" id="id8">`</span></a>./’]</p>
<p class="last"><strong>plocar_filename (str)</strong> : filename [default = <a href="#id9"><span class="problematic" id="id10">`</span></a>POSCAR’]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Kpoints">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.vaspio.</code><code class="descname">Kpoints</code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Kpoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Kpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Class describing k-points and optionally tetrahedra.</p>
<dl class="docutils">
<dt>Properties:</dt>
<dd><ul class="first last simple">
<li>nktot (int) : total number of k-points in the IBZ</li>
<li>kpts (numpy.array((nktot, 3), dtype=float)) : k-point vectors (fractional coordinates)</li>
<li>ntet (int) : total number of k-point tetrahedra</li>
<li>itet (numpy.array((ntet, 5), dtype=float) : array of tetrahedra</li>
<li><dl class="first docutils">
<dt>volt (float) <span class="classifier-delimiter">:</span> <span class="classifier">volume of a tetrahedron (the k-grid is assumed to</span></dt>
<dd>be uniform)</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Kpoints.from_file">
<code class="descname">from_file</code><span class="sig-paren">(</span><em>vasp_dir='./'</em>, <em>ibz_filename='IBZKPT'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Kpoints.from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Kpoints.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads from IBZKPT: k-points and optionally
tetrahedra topology (if present).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vasp_dir (str)</strong> : path to the VASP working directory [default = <a href="#id11"><span class="problematic" id="id12">`</span></a>./’]</p>
<p class="last"><strong>plocar_filename (str)</strong> : filename [default = <a href="#id13"><span class="problematic" id="id14">`</span></a>IBZKPT’]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Eigenval">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.vaspio.</code><code class="descname">Eigenval</code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Eigenval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Eigenval" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing Kohn-Sham-eigenvalues data from VASP (EIGENVAL file).</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Eigenval.from_file">
<code class="descname">from_file</code><span class="sig-paren">(</span><em>vasp_dir='./'</em>, <em>eig_filename='EIGENVAL'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Eigenval.from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Eigenval.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads eigenvalues from EIGENVAL. Note that the file also
contains k-points with weights. They are also stored and
then used to check the consistency of files read.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Doscar">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.vaspio.</code><code class="descname">Doscar</code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Doscar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Doscar" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing some data from DOSCAR</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Doscar.from_file">
<code class="descname">from_file</code><span class="sig-paren">(</span><em>vasp_dir='./'</em>, <em>dos_filename='DOSCAR'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Doscar.from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Doscar.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads only E_Fermi from DOSCAR.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.read_symmcar">
<code class="descclassname">triqs_dft_tools.converters.plovasp.vaspio.</code><code class="descname">read_symmcar</code><span class="sig-paren">(</span><em>vasp_dir</em>, <em>symm_filename='SYMMCAR'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#read_symmcar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.read_symmcar" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads SYMMCAR.</p>
</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.elstruct"></span><div class="section" id="plovasp-elstruct">
<h3>plovasp.elstruct<a class="headerlink" href="#plovasp-elstruct" title="Permalink to this headline">¶</a></h3>
<p>Internal representation of VASP electronic structure data.</p>
<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.elstruct.ElectronicStructure">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.elstruct.</code><code class="descname">ElectronicStructure</code><span class="sig-paren">(</span><em>vasp_data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/elstruct.html#ElectronicStructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.elstruct.ElectronicStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing electronic structure data.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><em>natom</em> (int) : total number of atoms</li>
<li><em>nktot</em> (int) : total number of <cite>k</cite>-points</li>
<li><em>nband</em> (int) : total number of bands</li>
<li><em>nspin</em> (int) : spin-polarization</li>
<li><em>nc_flag</em> (True/False) : non-collinearity flag</li>
<li><em>efermi</em> (float) : Fermi level read from DOSCAR</li>
<li><em>proj_raw</em> (array[complex]) : raw projectors from PLOCAR</li>
<li><em>eigvals</em> (array[float]) : KS eigenvalues</li>
<li><em>ferw</em> (array[float]) : Fermi weights from VASP</li>
<li><em>kmesh</em> (dict) : parameters of the <cite>k</cite>-mesh</li>
<li><em>structure</em> (dict) : parameters of the crystal structure</li>
<li><em>symmetry</em> (dict) : paramters of symmetry</li>
</ul>
<p>When the object is created a simple consistency check
of the data coming from different VASP files is performed.</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.elstruct.ElectronicStructure.debug_density_matrix">
<code class="descname">debug_density_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/elstruct.html#ElectronicStructure.debug_density_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.elstruct.ElectronicStructure.debug_density_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and output the density and overlap matrix out of projectors defined in el_struct.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.plotools"></span><div class="section" id="plovasp-plotools">
<h3>plovasp.plotools<a class="headerlink" href="#plovasp-plotools" title="Permalink to this headline">¶</a></h3>
<p>Set of routines for processing and outputting PLOs.</p>
<p>This is the main module containing routines responsible for checking
the consistency of the input data, generation of projected localized
orbitals (PLOs) out of raw VASP projectors, and outputting data
required by DFTTools.</p>
<p>The first step of PLO processing is to select subsets of projectors
corresponding to PLO groups. Each group contains a set of shells. Each
projector shell is represented by an object ‘ProjectorShell’ that contains
an array of projectors and information on the shell itself (orbital number,
ions, etc.). ‘ProjectorShell’s are contained in both a list of shells
(according to the original list as read from config-file) and in a
‘ProjectorGroup’ object, the latter also providing information about the
energy window.</p>
<dl class="docutils">
<dt>Order of operations:</dt>
<dd><ul class="first last simple">
<li>transform projectors (all bands) in each shell</li>
<li>select transformed shell projectors for a given group within the window</li>
<li>orthogonalize if necessary projectors within a group by performing
the following operations for each k-point:
* combine all projector shells into a single array
* orthogonalize the array
* distribute back the arrays assuming that the order is preserved</li>
</ul>
</dd>
</dl>
<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.check_data_consistency">
<code class="descclassname">triqs_dft_tools.converters.plovasp.plotools.</code><code class="descname">check_data_consistency</code><span class="sig-paren">(</span><em>pars</em>, <em>el_struct</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#check_data_consistency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.check_data_consistency" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the consistency of the VASP data.</p>
</dd></dl>

<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.ctrl_output">
<code class="descclassname">triqs_dft_tools.converters.plovasp.plotools.</code><code class="descname">ctrl_output</code><span class="sig-paren">(</span><em>conf_pars</em>, <em>el_struct</em>, <em>ng</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#ctrl_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.ctrl_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs a ctrl-file.</p>
<p>Control file format</p>
<p>Filename ‘&lt;namebase&gt;.ctrl’. Contains the data shared between all shells.
The JSON-header consists of the following elements:</p>
<blockquote>
<div><ul class="simple">
<li><em>nk</em>: number of <cite>k</cite>-points</li>
<li><em>ns</em>: number of spin channels</li>
<li><em>nc_flag</em>: collinear/noncollinear case (False/True)</li>
<li><em>ng</em>: number of projector groups</li>
<li>Symmetry information (list of symmetry operations)</li>
<li><em>efermi</em>: Fermi level (optional)</li>
<li>Lattice information</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.generate_plo">
<code class="descclassname">triqs_dft_tools.converters.plovasp.plotools.</code><code class="descname">generate_plo</code><span class="sig-paren">(</span><em>conf_pars</em>, <em>el_struct</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#generate_plo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.generate_plo" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>conf_pars (dict)</strong> : dictionary of input parameters (from conf-file)</p>
<blockquote class="last">
<div><p>el_struct : ElectronicStructure object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.hk_output">
<code class="descclassname">triqs_dft_tools.converters.plovasp.plotools.</code><code class="descname">hk_output</code><span class="sig-paren">(</span><em>conf_pars</em>, <em>el_struct</em>, <em>pgroups</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#hk_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.hk_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs HK into text file.</p>
<p>Filename is defined by &lt;basename&gt; that is passed from config-file.</p>
<p>The Hk for each groups is stored in a ‘&lt;basename&gt;.hk&lt;Ng&gt;’ file. The format is
similar as defined in the Hk dft_tools format, but does not store info
about correlated shells and irreps</p>
<p>nk                  # number of k-points
n_el                # electron density
n_sh                # number of total atomic shells
at sort l dim       # atom, sort, l, dim
at sort l dim       # atom, sort, l, dim</p>
<p>After these header lines, the file has to contain the Hamiltonian matrix
in orbital space. The standard convention is that you give for each k-point
first the matrix of the real part, then the matrix of the imaginary part,
and then move on to the next k-point.</p>
</dd></dl>

<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.issue_warning">
<code class="descclassname">triqs_dft_tools.converters.plovasp.plotools.</code><code class="descname">issue_warning</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#issue_warning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.issue_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Issues a warning.</p>
</dd></dl>

<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.kpoints_output">
<code class="descclassname">triqs_dft_tools.converters.plovasp.plotools.</code><code class="descname">kpoints_output</code><span class="sig-paren">(</span><em>basename</em>, <em>el_struct</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#kpoints_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.kpoints_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs k-point data into a text file.</p>
</dd></dl>

<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.output_as_text">
<code class="descclassname">triqs_dft_tools.converters.plovasp.plotools.</code><code class="descname">output_as_text</code><span class="sig-paren">(</span><em>pars</em>, <em>el_struct</em>, <em>pshells</em>, <em>pgroups</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#output_as_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.output_as_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Output all information necessary for the converter as text files.</p>
</dd></dl>

<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.plo_output">
<code class="descclassname">triqs_dft_tools.converters.plovasp.plotools.</code><code class="descname">plo_output</code><span class="sig-paren">(</span><em>conf_pars</em>, <em>el_struct</em>, <em>pshells</em>, <em>pgroups</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#plo_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.plo_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs PLO groups into text files.</p>
<p>Filenames are defined by &lt;basename&gt; that is passed from config-file.
All necessary general parameters are stored in a file ‘&lt;basename&gt;.ctrl’.</p>
<p>Each group is stored in a ‘&lt;basename&gt;.plog&lt;Ng&gt;’ file. The format is the
following:</p>
<div class="line-block">
<div class="line"># Energy window: emin, emax</div>
<div class="line">ib_min, ib_max</div>
<div class="line">nelect</div>
<div class="line"># Eigenvalues</div>
<div class="line">isp, ik1, kx, ky, kz, kweight</div>
<div class="line">ib1, ib2</div>
<div class="line">eig1</div>
<div class="line">eig2</div>
<div class="line">…</div>
<div class="line">eigN</div>
<div class="line">ik2, kx, ky, kz, kweight</div>
<div class="line">…</div>
</div>
<div class="line-block">
<div class="line"># Projected shells</div>
<div class="line">Nshells</div>
<div class="line"># Shells: &lt;shell indices&gt;</div>
<div class="line"># Shell &lt;1&gt;</div>
<div class="line">Shell 1</div>
<div class="line">ndim</div>
<div class="line"># complex arrays: plo(ns, nion, ndim, nb)</div>
<div class="line">…</div>
<div class="line"># Shells: &lt;shell indices&gt;</div>
<div class="line"># Shell &lt;2&gt;</div>
<div class="line">Shell 2</div>
<div class="line">…</div>
</div>
</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.proj_shell"></span><div class="section" id="plovasp-proj-shell">
<h3>plovasp.proj_shell<a class="headerlink" href="#plovasp-proj-shell" title="Permalink to this headline">¶</a></h3>
<p>Storage and manipulation on projector shells.</p>
<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.proj_shell.</code><code class="descname">ComplementShell</code><span class="sig-paren">(</span><em>sh_pars</em>, <em>proj_compl</em>, <em>nc_flag</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ComplementShell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell" title="Permalink to this definition">¶</a></dt>
<dd><p>Container of projectors related to a complement shell.</p>
<p>Parameters:</p>
<ul class="simple">
<li>sh_pars (dict) : shell parameters from the config-file</li>
<li>proj_compl (numpy.array) : array of complement projectors</li>
</ul>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.density_matrix">
<code class="descname">density_matrix</code><span class="sig-paren">(</span><em>el_struct</em>, <em>site_diag=True</em>, <em>spin_diag=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ComplementShell.density_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.density_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns occupation matrix/matrices for the shell.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.extract_tmatrices">
<code class="descname">extract_tmatrices</code><span class="sig-paren">(</span><em>sh_pars</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ComplementShell.extract_tmatrices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.extract_tmatrices" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and interprets transformation matrices provided by the
config-parser.
There are two relevant options in ‘sh_pars’:</p>
<blockquote>
<div>‘tmatrix’  : a transformation matrix applied to all ions in the shell
‘tmatrices’: interpreted as a set of transformation matrices for each ion.</div></blockquote>
<p>If both of the options are present a warning is issued and ‘tmatrices’
supersedes ‘tmatrix’.</p>
<p>Flag ‘self.do_transform’ is introduced for the optimization purposes
to avoid superfluous matrix multiplications.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.local_hamiltonian">
<code class="descname">local_hamiltonian</code><span class="sig-paren">(</span><em>el_struct</em>, <em>site_diag=True</em>, <em>spin_diag=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ComplementShell.local_hamiltonian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.local_hamiltonian" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns occupation matrix/matrices for the shell.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.proj_shell.</code><code class="descname">ProjectorShell</code><span class="sig-paren">(</span><em>sh_pars</em>, <em>proj_raw</em>, <em>proj_params</em>, <em>kmesh</em>, <em>structure</em>, <em>nc_flag</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell" title="Permalink to this definition">¶</a></dt>
<dd><p>Container of projectors related to a specific shell.</p>
<p>The constructor pre-selects a subset of projectors according to
the shell parameters passed from the config-file.</p>
<p>Parameters:</p>
<ul class="simple">
<li>sh_pars (dict) : shell parameters from the config-file</li>
<li>proj_raw (numpy.array) : array of raw projectors</li>
</ul>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.density_matrix">
<code class="descname">density_matrix</code><span class="sig-paren">(</span><em>el_struct</em>, <em>site_diag=True</em>, <em>spin_diag=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.density_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.density_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns occupation matrix/matrices for the shell.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.density_of_states">
<code class="descname">density_of_states</code><span class="sig-paren">(</span><em>el_struct</em>, <em>emesh</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.density_of_states"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.density_of_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns projected DOS for the shell.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.extract_projectors">
<code class="descname">extract_projectors</code><span class="sig-paren">(</span><em>proj_raw</em>, <em>proj_params</em>, <em>kmesh</em>, <em>structure</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.extract_projectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.extract_projectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts projectors for the given shell.</p>
<p>Projectors are selected from the raw-projector array ‘proj_raw’
according to the shell parameters.
If necessary the projectors are transformed usin ‘self.tmatrices’.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.extract_tmatrices">
<code class="descname">extract_tmatrices</code><span class="sig-paren">(</span><em>sh_pars</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.extract_tmatrices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.extract_tmatrices" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and interprets transformation matrices provided by the
config-parser.
There are two relevant options in ‘sh_pars’:</p>
<blockquote>
<div>‘tmatrix’  : a transformation matrix applied to all ions in the shell
‘tmatrices’: interpreted as a set of transformation matrices for each ion.</div></blockquote>
<p>If both of the options are present a warning is issued and ‘tmatrices’
supersedes ‘tmatrix’.</p>
<p>Flag ‘self.do_transform’ is introduced for the optimization purposes
to avoid superfluous matrix multiplications.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.local_hamiltonian">
<code class="descname">local_hamiltonian</code><span class="sig-paren">(</span><em>el_struct</em>, <em>site_diag=True</em>, <em>spin_diag=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.local_hamiltonian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.local_hamiltonian" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns occupation matrix/matrices for the shell.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.select_projectors">
<code class="descname">select_projectors</code><span class="sig-paren">(</span><em>ib_win</em>, <em>ib_min</em>, <em>ib_max</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.select_projectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.select_projectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects a subset of projectors corresponding to a given energy window.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.issue_warning">
<code class="descclassname">triqs_dft_tools.converters.plovasp.proj_shell.</code><code class="descname">issue_warning</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#issue_warning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.issue_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Issues a warning.</p>
</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.proj_group"></span><div class="section" id="plovasp-proj-group">
<h3>plovasp.proj_group<a class="headerlink" href="#plovasp-proj-group" title="Permalink to this headline">¶</a></h3>
<p>Storage and manipulation of projector groups.</p>
<dl class="class">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.plovasp.proj_group.</code><code class="descname">ProjectorGroup</code><span class="sig-paren">(</span><em>gr_pars</em>, <em>shells</em>, <em>eigvals</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Container of projectors defined within a certain energy window.</p>
<p>The constructor selects a subset of projectors according to
the parameters from the config-file (passed in <cite>pars</cite>).</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li>gr_pars (dict) : group parameters from the config-file</li>
<li>shells ([ProjectorShell]) : array of ProjectorShell objects</li>
<li>eigvals (numpy.array) : array of KS eigenvalues</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.calc_complement">
<code class="descname">calc_complement</code><span class="sig-paren">(</span><em>eigvals</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.calc_complement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.calc_complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the complement for a group of projectors.</p>
<p>This leads to quadtratic projectors P = &lt;l|n&gt; by using a Gram-Schmidt.</p>
<p>The projector on the orthogonal complement of the existing projectors
<a href="#id33"><span class="problematic" id="id34">|l&gt; is P^u = 1 - sum_l |l&gt;&lt;l|</span></a>
We get candidates for complement projectors by applying P^u to a Bloch
state <a href="#id15"><span class="problematic" id="id16">|</span></a>n&gt;: <a href="#id17"><span class="problematic" id="id18">|</span></a>l*&gt; = P^u <a href="#id19"><span class="problematic" id="id20">|</span></a>n&gt;. For numerical stability we select that Bloch
state which leads to the <a href="#id21"><span class="problematic" id="id22">|</span></a>l*&gt; with the largest norm (that corresponds to
that Bloch state with the smallest overlap with the space spanned by <a href="#id23"><span class="problematic" id="id24">|</span></a>l&gt;)
We normalize <a href="#id25"><span class="problematic" id="id26">|</span></a>l*&gt; and add it to <a href="#id27"><span class="problematic" id="id28">|</span></a>l&gt;. We do so untill we have as many
<a href="#id29"><span class="problematic" id="id30">|</span></a>l&gt; states as we have <a href="#id31"><span class="problematic" id="id32">|</span></a>n&gt; states.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.calc_hk">
<code class="descname">calc_hk</code><span class="sig-paren">(</span><em>eigvals</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.calc_hk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.calc_hk" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate H(k) for a group by applying the projectors P
to the eigenvalues eps.</p>
<p>H_ij(k) = sum_l P*_il eps_l P_lj</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.get_block_matrix_map">
<code class="descname">get_block_matrix_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.get_block_matrix_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.get_block_matrix_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a map from a set of projectors belonging to different shells
and ions onto a set of block projector matrices, each of which is
orthonormalized.</p>
<p>Returns the map and the maximum orbital dimension of the block projector
matrix.</p>
<p>Mapping is defined as a list of ‘block_maps’ corresponding to subsets
of projectors to be orthogonalized. Each subset corresponds to a subset of sites
and spans all orbital indices. defined by ‘bl_map’ as</p>
<blockquote>
<div><dl class="docutils">
<dt>bl_map = [((i1_start, i1_end), (i1_shell, i1_ion)),</dt>
<dd>((i2_start, i2_end), (i2_shell, i2_ion)),
…],</dd>
</dl>
</div></blockquote>
<p>where <cite>iX_start</cite>, <cite>iX_end</cite> is the range of indices of the block matrix
(in Python convention <cite>iX_end = iX_last + 1</cite>, with <cite>iX_last</cite> being the last index
of the range),
<cite>iX_shell</cite> and <cite>iX_ion</cite> the shell and site indices. The length of the range
should be consistent with ‘nlm’ dimensions of a corresponding shell, i.e.,
<cite>iX_end - iX_start = nlm[iX_shell]</cite>.</p>
<dl class="docutils">
<dt>Consider particular cases:</dt>
<dd><ol class="first last arabic">
<li><p class="first">Orthogonality is ensured on each site (NORMION = True).
For each site ‘ion’ we have the following mapping:</p>
<blockquote>
<div><dl class="docutils">
<dt>block_maps = [bl_map[ion] for ion in range(shell.nion)</dt>
<dd><p class="first last">for shell in shells]</p>
</dd>
<dt>bl_map = [((i1_start, i1_end), (i1_shell, ion)),</dt>
<dd><p class="first last">((i2_start, i2_end), (i2_shell, ion)),
…],</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p class="first">Orthogonality is ensured on all sites within the group (NORMION = False).
The mapping:</p>
<blockquote>
<div><p>block_maps = [bl_map]</p>
<dl class="docutils">
<dt>bl_map = [((i1_start, i1_end), (i1_shell, i1_shell.ion1)),</dt>
<dd><p class="first last">((i1_start, i1_end), (i1_shell, i1_shell.ion2)),
…
((i2_start, i2_end), (i2_shell, i2_shell.ion1)),
((i2_start, i2_end), (i2_shell, i2_shell.ion2)),
…],</p>
</dd>
</dl>
</div></blockquote>
</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.nelect_window">
<code class="descname">nelect_window</code><span class="sig-paren">(</span><em>el_struct</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.nelect_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.nelect_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the total number of electrons within the window.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.orthogonalize">
<code class="descname">orthogonalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.orthogonalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.orthogonalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Orthogonalize a group of projectors.</p>
<dl class="docutils">
<dt>There are two options for orthogonalizing projectors:</dt>
<dd><ol class="first last arabic simple">
<li>one ensures orthogonality on each site (NORMION = True);</li>
<li>one ensures orthogonality for subsets of sites (NORMION = False),
as, e.g., in cluster calculations.</li>
</ol>
</dd>
</dl>
<p>In order to handle various cases the strategy is first to build a
mapping that selects appropriate blocks of raw projectors, forms a
matrix consisting of these blocks, orthogonalize the matrix, and use
the mapping again to write the orthogonalized projectors back to the
projector arrays. Note that the blocks can comprise several projector arrays
contained in different projector shells.</p>
<p>The construction of block maps is performed in ‘self.get_block_matrix_map()’.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.orthogonalize_projector_matrix">
<code class="descname">orthogonalize_projector_matrix</code><span class="sig-paren">(</span><em>p_matrix</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.orthogonalize_projector_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.orthogonalize_projector_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Orthogonalizes a projector defined by a rectangular matrix <cite>p_matrix</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p_matrix (numpy.array[complex])</strong> : matrix <cite>Nm x Nb</cite>, where <cite>Nm</cite> is</p>
<blockquote>
<div><p>the number of orbitals, <cite>Nb</cite> number of bands</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Orthogonalized projector matrix, initial overlap matrix and its eigenvalues.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.select_bands">
<code class="descname">select_bands</code><span class="sig-paren">(</span><em>eigvals</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.select_bands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.select_bands" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a subset of bands lying within a given energy window.
The band energies are assumed to be sorted in an ascending order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>eigvals (numpy.array)</strong> : all eigenvalues</p>
<p><strong>emin, emax (float)</strong> : energy window</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ib_win, nb_min, nb_max</strong> : lowest and highest indices of the selected bands</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="vasp-converter">
<h2>VASP Converter<a class="headerlink" href="#vasp-converter" title="Permalink to this headline">¶</a></h2>
<span class="target" id="refvaspconverter"></span><dl class="class">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.vasp.</code><code class="descname">VaspConverter</code><span class="sig-paren">(</span><em>filename</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>parproj_subgrp='dft_parproj_input'</em>, <em>symmpar_subgrp='dft_symmpar_input'</em>, <em>bands_subgrp='dft_bands_input'</em>, <em>misc_subgrp='dft_misc_input'</em>, <em>transp_subgrp='dft_transp_input'</em>, <em>repacking=False</em>, <em>proj_or_hk='proj'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from VASP output to an hdf5 file that can be used as input for the SumkDFT class.</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>filename</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>parproj_subgrp='dft_parproj_input'</em>, <em>symmpar_subgrp='dft_symmpar_input'</em>, <em>bands_subgrp='dft_bands_input'</em>, <em>misc_subgrp='dft_misc_input'</em>, <em>transp_subgrp='dft_transp_input'</em>, <em>repacking=False</em>, <em>proj_or_hk='proj'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Init of the class. Variable filename gives the root of all filenames, e.g. case.ctqmcout, case.h5, and so on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Base name of DFT files.</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created.</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data.</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data.</p>
</div></blockquote>
<p><strong>parproj_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial projector data.</p>
</div></blockquote>
<p><strong>symmpar_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial-projector symmetry data.</p>
</div></blockquote>
<p><strong>bands_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing band data.</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing miscellaneous DFT data.</p>
</div></blockquote>
<p><strong>transp_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing transport data.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote>
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
<p><strong>proj_or_hk</strong> : string, optional</p>
<blockquote class="last">
<div><p>Select scheme to convert between KS bands and localized orbitals.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.convert_dft_input">
<code class="descname">convert_dft_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.convert_dft_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the input files, and stores the data in the HDFfile</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.convert_misc_input">
<code class="descname">convert_misc_input</code><span class="sig-paren">(</span><em>bandwin_file</em>, <em>struct_file</em>, <em>outputs_file</em>, <em>misc_subgrp</em>, <em>SO</em>, <em>SP</em>, <em>n_k</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.convert_misc_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.convert_misc_input" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Reads input for the band window from bandwin_file, which is case.oubwin,</dt>
<dd>structure from struct_file, which is case.struct,
symmetries from outputs_file, which is case.outputs.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bandwin_file</strong> : string</p>
<blockquote>
<div><p>filename of .oubwin/up/dn file.</p>
</div></blockquote>
<p><strong>struct_file</strong> : string</p>
<blockquote>
<div><p>filename of .struct file.</p>
</div></blockquote>
<p><strong>outputs_file</strong> : string</p>
<blockquote>
<div><p>filename of .outputs file.</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string</p>
<blockquote>
<div><p>name of the subgroup in which to save</p>
</div></blockquote>
<p><strong>SO</strong> : boolean</p>
<blockquote>
<div><p>spin-orbit switch</p>
</div></blockquote>
<p><strong>SP</strong> : int</p>
<blockquote>
<div><p>spin</p>
</div></blockquote>
<p><strong>n_k</strong> : int</p>
<blockquote class="last">
<div><p>number of k-points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.convert_symmetry_input">
<code class="descname">convert_symmetry_input</code><span class="sig-paren">(</span><em>ctrl_head</em>, <em>orbits</em>, <em>symm_subgrp</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.convert_symmetry_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.convert_symmetry_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads input for the symmetrisations from symm_file, which is case.sympar or case.symqmc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ctrl_head</strong> : dict</p>
<blockquote>
<div><p>dictionary of header of .ctrl file</p>
</div></blockquote>
<p><strong>orbits</strong> : list of shells</p>
<blockquote>
<div><p>contains all shells</p>
</div></blockquote>
<p class="last"><strong>symm_subgrp</strong> : name of symmetry group in h5 archive</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.read_data">
<code class="descname">read_data</code><span class="sig-paren">(</span><em>fh</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.read_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.read_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for reading plain data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fh</strong> : file object</p>
<blockquote class="last">
<div><p>file object which is read in.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.read_header_and_data">
<code class="descname">read_header_and_data</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.read_header_and_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.read_header_and_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a file and returns a JSON-header and the generator for the plain data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote class="last">
<div><p>file name of the file to read.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="elk-converter">
<h2>Elk Converter<a class="headerlink" href="#elk-converter" title="Permalink to this headline">¶</a></h2>
<span class="target" id="refelkconverter"></span><dl class="class">
<dt id="triqs_dft_tools.converters.elk.ElkConverter">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.elk.</code><code class="descname">ElkConverter</code><span class="sig-paren">(</span><em>filename</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>bc_subgrp='dft_bandchar_input'</em>, <em>symmpar_subgrp='dft_symmpar_input'</em>, <em>bands_subgrp='dft_bands_input'</em>, <em>misc_subgrp='dft_misc_input'</em>, <em>transp_subgrp='dft_transp_input'</em>, <em>fs_subgrp='dft_fs_input'</em>, <em>repacking=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from Elk output to an hdf5 file that can be used as input for the SumkDFT class.</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>filename</em>, <em>hdf_filename=None</em>, <em>dft_subgrp='dft_input'</em>, <em>symmcorr_subgrp='dft_symmcorr_input'</em>, <em>bc_subgrp='dft_bandchar_input'</em>, <em>symmpar_subgrp='dft_symmpar_input'</em>, <em>bands_subgrp='dft_bands_input'</em>, <em>misc_subgrp='dft_misc_input'</em>, <em>transp_subgrp='dft_transp_input'</em>, <em>fs_subgrp='dft_fs_input'</em>, <em>repacking=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Base name of DFT files.</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created.</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data.</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data.</p>
</div></blockquote>
<p><strong>parproj_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial projector data.</p>
</div></blockquote>
<p><strong>symmpar_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial-projector symmetry data.</p>
</div></blockquote>
<p><strong>bands_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing band data.</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing miscellaneous DFT data.</p>
</div></blockquote>
<p><strong>transp_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing transport data.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.check_dens">
<code class="descname">check_dens</code><span class="sig-paren">(</span><em>n_k</em>, <em>nstsv</em>, <em>occ</em>, <em>bz_weights</em>, <em>n_spin_blocs</em>, <em>band_window</em>, <em>SO</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.check_dens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.check_dens" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the charge density below the correlated energy window and up to the Fermi level</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.convert_bands_input">
<code class="descname">convert_bands_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.convert_bands_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.convert_bands_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the bands_subgrp in the hdf5 archive.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.convert_dft_input">
<code class="descname">convert_dft_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.convert_dft_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the</p>
<ul class="simple">
<li>dft_subgrp</li>
<li>symmcorr_subgrp</li>
<li>misc_subgrp</li>
</ul>
<p>in the hdf5 archive.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.convert_fs_input">
<code class="descname">convert_fs_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.convert_fs_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.convert_fs_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the FS_subgrp in the hdf5 archive.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.dft_band_characters">
<code class="descname">dft_band_characters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.dft_band_characters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.dft_band_characters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in the band characters generated in Elk to be used for
PDOS and band character band structure plots.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.rotsym">
<code class="descname">rotsym</code><span class="sig-paren">(</span><em>n_shells</em>, <em>shells</em>, <em>n_symm</em>, <em>ind</em>, <em>basis</em>, <em>T</em>, <em>mat</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.rotsym"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.rotsym" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotates the symmetry matrices into basis defined by the T unitary matrix
the outputted projectors are rotated to the irreducible representation
and then reduced in size to the orbitals used to construct the projectors.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.sort_dft_eigvalues">
<code class="descname">sort_dft_eigvalues</code><span class="sig-paren">(</span><em>n_spin_blocs</em>, <em>SO</em>, <em>n_k</em>, <em>n_orbitals</em>, <em>band_window</em>, <em>en</em>, <em>energy_unit</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.sort_dft_eigvalues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.sort_dft_eigvalues" title="Permalink to this definition">¶</a></dt>
<dd><p>Rearranges the energy eigenvalue arrays into TRIQS format</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.update_so_quatities">
<code class="descname">update_so_quatities</code><span class="sig-paren">(</span><em>n_shells</em>, <em>shells</em>, <em>n_corr_shells</em>, <em>corr_shells</em>, <em>n_inequiv_shells</em>, <em>dim_reps</em>, <em>n_k</em>, <em>n_symm</em>, <em>n_orbitals</em>, <em>proj_mat</em>, <em>T</em>, <em>su2</em>, <em>mat</em>, <em>sym=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.update_so_quatities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.update_so_quatities" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the array sizes and elements for arrays used in spin-orbit coupled calculations.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="elk-tools">
<h2>Elk Tools<a class="headerlink" href="#elk-tools" title="Permalink to this headline">¶</a></h2>
<span class="target" id="refelktools"></span><dl class="class">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.elktools.</code><code class="descname">ElkConverterTools</code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion Tools required to help covert Elk outputs into the TRIQS format.</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.axangsu2">
<code class="descname">axangsu2</code><span class="sig-paren">(</span><em>v</em>, <em>th</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.axangsu2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.axangsu2" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the rotation SU(2) matrix - see Elk’s axangsu2 routine.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.gen_perm">
<code class="descname">gen_perm</code><span class="sig-paren">(</span><em>nsym</em>, <em>ns</em>, <em>na</em>, <em>natmtot</em>, <em>symmat</em>, <em>tr</em>, <em>atpos</em>, <em>epslat=1e-06</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.gen_perm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.gen_perm" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the atom permutations per symmetry.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.rotaxang">
<code class="descname">rotaxang</code><span class="sig-paren">(</span><em>rot</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.rotaxang"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.rotaxang" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine determines the axis of rotation vector (v) and the angle of rotation (th).
If R corresponds to an improper rotation then only the proper part is used and the determinant
is set to -1. The rotation convention follows the “right-hand rule”. See Elk’s rotaxang
routine.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.symlat_to_complex_harmonics">
<code class="descname">symlat_to_complex_harmonics</code><span class="sig-paren">(</span><em>nsym</em>, <em>n_shells</em>, <em>symlat</em>, <em>shells</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.symlat_to_complex_harmonics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.symlat_to_complex_harmonics" title="Permalink to this definition">¶</a></dt>
<dd><p>This calculates the Elk (crystal) symmetries in complex spherical harmonics
This follows the methodology used in Elk’s rotzflm, ylmrot and ylmroty routines.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.v3frac">
<code class="descname">v3frac</code><span class="sig-paren">(</span><em>v</em>, <em>eps</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.v3frac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.v3frac" title="Permalink to this definition">¶</a></dt>
<dd><p>This finds the fractional part of 3-vector v components. This uses the
same method as in Elk (version 6.2.8) r3fac subroutine.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.ylmrot">
<code class="descname">ylmrot</code><span class="sig-paren">(</span><em>p</em>, <em>angi</em>, <em>l</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.ylmrot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.ylmrot" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates the rotation matrix in complex spherical harmonics for l.
THIS HAS ONLY BEEN TESTED FOR l=2.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.ylmroty">
<code class="descname">ylmroty</code><span class="sig-paren">(</span><em>beta</em>, <em>l</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.ylmroty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.ylmroty" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the rotation matrix around the y-axis with angle beta.
This uses the same real matrix formual as in Elk - see Elk’s manual for ylmroty description</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.zyz_euler">
<code class="descname">zyz_euler</code><span class="sig-paren">(</span><em>rot</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.zyz_euler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.zyz_euler" title="Permalink to this definition">¶</a></dt>
<dd><p>This calculates the Euler angles of matrix rot in the y-convention.
See Elk’s roteuler routine.
This will be made redundent when TRIQS uses scipy version 1.4+</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.elktools.</code><code class="descname">readElkfiles</code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the Elk output files for the elk_converter.py routines.</p>
<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.determine_T">
<code class="descname">determine_T</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.determine_T"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.determine_T" title="Permalink to this definition">¶</a></dt>
<dd><p>Current version calculates the transformation matrix T to convert the inputs from spherical
harmonics to the cubic basis (as used in TRIQS and Wien2k).
This routine is currently very similar to spherical_to_cubic in the TRIQS library.
This routine can be extended to include other unitary rotation matrices</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.determine_rep">
<code class="descname">determine_rep</code><span class="sig-paren">(</span><em>ish</em>, <em>ishin</em>, <em>corr_shells</em>, <em>basis</em>, <em>ind</em>, <em>n_reps</em>, <em>dim_reps</em>, <em>irep</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.determine_rep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.determine_rep" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the irreducible representation used for projection calculation.
Only for Cubic harmonics at the moment</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_bc">
<code class="descname">read_bc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_bc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_bc" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the ELK generated band characters from BC.OUT</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_eig">
<code class="descname">read_eig</code><span class="sig-paren">(</span><em>filext='.OUT'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_eig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_eig" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of EIGVAL.OUT and EFERMI.OUT</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_elk_file">
<code class="descname">read_elk_file</code><span class="sig-paren">(</span><em>filename</em>, <em>to_replace</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_elk_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_elk_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields all numbers in the Fortran file as float, with possible replacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Name of Fortran-produced file.</p>
</div></blockquote>
<p><strong>to_replace</strong> : dict of str:str</p>
<blockquote class="last">
<div><p>Dictionary defining old_char:new_char.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_elk_file2">
<code class="descname">read_elk_file2</code><span class="sig-paren">(</span><em>filename</em>, <em>to_replace</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_elk_file2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_elk_file2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields all numbers in the Fortran file as float, with possible replacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Name of Fortran-produced file.</p>
</div></blockquote>
<p><strong>to_replace</strong> : dict of str:str</p>
<blockquote class="last">
<div><p>Dictionary defining old_char:new_char.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_geometry">
<code class="descname">read_geometry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of GEOMETRY.OUT</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_kpoints">
<code class="descname">read_kpoints</code><span class="sig-paren">(</span><em>filext='.OUT'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_kpoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_kpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of KPOINTS.OUT</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_proj">
<code class="descname">read_proj</code><span class="sig-paren">(</span><em>dft_file</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_proj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_proj" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of PROJ.OUT and returns them for general use.</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_projector">
<code class="descname">read_projector</code><span class="sig-paren">(</span><em>shell</em>, <em>n_spin_blocks</em>, <em>ish</em>, <em>proj_mat</em>, <em>ind</em>, <em>T</em>, <em>basis</em>, <em>filext</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_projector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_projector" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of WANPROJ_L**_S**_A****.OUT</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.readlat">
<code class="descname">readlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.readlat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.readlat" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the symmetries in lattice coordinates</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.readsym">
<code class="descname">readsym</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.readsym"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.readsym" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the (crystal) symmetries in lattice coordinates</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.split_string">
<code class="descname">split_string</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.split_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.split_string" title="Permalink to this definition">¶</a></dt>
<dd><p>This removes the excess information after ‘:’ of the string read in from the file</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.split_string2">
<code class="descname">split_string2</code><span class="sig-paren">(</span><em>line</em>, <em>str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.split_string2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.split_string2" title="Permalink to this definition">¶</a></dt>
<dd><p>This removes the excess information after ‘str’ of the string read in from the file</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.split_string3">
<code class="descname">split_string3</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.split_string3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.split_string3" title="Permalink to this definition">¶</a></dt>
<dd><p>This removes the excess information after ‘(‘ of the string read in from the file</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="converter-tools">
<h2>Converter Tools<a class="headerlink" href="#converter-tools" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools">
<em class="property">class </em><code class="descclassname">triqs_dft_tools.converters.converter_tools.</code><code class="descname">ConverterTools</code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.det_shell_equivalence">
<code class="descname">det_shell_equivalence</code><span class="sig-paren">(</span><em>corr_shells</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools.det_shell_equivalence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.det_shell_equivalence" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the equivalence of correlated shells.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>corr_shells</strong> : list of dicts</p>
<blockquote>
<div><p>See documentation of necessary hdf5 elements.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>n_inequiv_shells</strong> : integer</p>
<blockquote>
<div><p>Number of inequivalent shells.</p>
</div></blockquote>
<p><strong>corr_to_inequiv</strong> : list</p>
<blockquote>
<div><p>Mapping between correlated shell index and inequivalent shell index.
corr_to_inequiv(i_corr_shells) = i_inequiv_shells</p>
</div></blockquote>
<p><strong>inequiv_to_corr</strong> : list</p>
<blockquote class="last">
<div><p>Mapping between inequivalent shell index and correlated shell index.
inequiv_to_corr(i_inequiv_shells) = i_corr_shells</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.read_fortran_file">
<code class="descname">read_fortran_file</code><span class="sig-paren">(</span><em>filename</em>, <em>to_replace</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools.read_fortran_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.read_fortran_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields all numbers in the Fortran file as float, with possible replacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Name of Fortran-produced file.</p>
</div></blockquote>
<p><strong>to_replace</strong> : dict of str:str</p>
<blockquote class="last">
<div><p>Dictionary defining old_char:new_char.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.repack">
<code class="descname">repack</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools.repack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.repack" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the h5repack routine in order to reduce the file size of the hdf5 archive.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="sumk_dft.html" title="SumK DFT"
             >next</a> |</li>
        <li class="right" >
          <a href="h5structure.html" title="hdf5 structure"
             >previous</a> |</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2020.
    </div>
  </body>
</html>