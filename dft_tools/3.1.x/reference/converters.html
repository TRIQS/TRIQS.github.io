

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Converters &mdash; TRIQS DFTTools  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SumK DFT" href="sumk_dft.html" />
    <link rel="prev" title="hdf5 structure" href="h5structure.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #7E588A" >
          

          
            <a href="../index.html" class="icon icon-home"> TRIQS DFTTools
          

          
          </a>

          
            
            
              <div class="version">
                3.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html#packaged-versions-of-dfttools">Packaged Versions of DFTTools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install.html#ubuntu-debian-packages">Ubuntu Debian packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#anaconda-experimental">Anaconda (experimental)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#id2">Docker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#compiling-dfttools-from-source">Compiling DFTTools from source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#installation-steps">Installation steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#important-note-for-fcsc-dft-dmft-calculations">Important note for FCSC DFT+DMFT calculations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#installation-steps-for-the-use-with-wien2k-version-14-2-and-older">Installation steps for the use with WIEN2K version 14.2 and older</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#version-compatibility">Version compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#custom-cmake-options">Custom CMake options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../documentation.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#basic-notions">Basic notions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../basicnotions/first.html">What you should know</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/first.html#what-is-dfttools">What is <strong class="program">DFTTools</strong>?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/first.html#understand-the-philosophy-of-dfttools">Understand the philosophy of <strong class="program">DFTTools</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/first.html#learn-how-to-use-triqs-and-the-cthyb-solver">Learn how to use <span class="xref std std-ref">TRIQS</span> (and the <span class="xref std std-ref">CTHYB</span> solver)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/first.html#analytic-continuation">Analytic Continuation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../basicnotions/dft_dmft.html">Introduction to DFT+DMFT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/dft_dmft.html#density-functional-theory-in-a-very-small-nutshell">Density-functional theory in a (very small) nutshell</a></li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/dft_dmft.html#from-dft-to-dmft">From DFT to DMFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/dft_dmft.html#using-projective-wannier-functions-for-dmft">Using projective Wannier functions for DMFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/dft_dmft.html#full-charge-self-consistency">Full charge self-consistency</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../basicnotions/structure.html">Structure of <strong class="program">DFTTools</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/structure.html#the-interface-layer">The interface layer</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../basicnotions/structure.html#wien2k-interface">Wien2k interface</a></li>
<li class="toctree-l5"><a class="reference internal" href="../basicnotions/structure.html#general-interface">General interface</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/structure.html#the-dmft-calculation">The DMFT calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/structure.html#full-charge-self-consistency">Full charge self consistency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/structure.html#post-processing">Post-processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../basicnotions/structure.html#executing-your-python-scripts">Executing your python scripts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#construction-of-local-orbitals-from-dft">Construction of local orbitals from DFT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guide/conversion.html">Supported interfaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guide/conv_wien2k.html">Interface with Wien2k</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_wien2k.html#conversion-for-the-dmft-self-consistency-cycle">Conversion for the DMFT self-consistency cycle</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_wien2k.html#data-for-post-processing">Data for post-processing</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_wien2k.html#data-for-transport-calculations">Data for transport calculations</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../guide/conv_vasp.html">Interface with VASP</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_vasp.html#limitations-of-the-interface">Limitations of the interface</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_vasp.html#vasp-generating-raw-projectors">VASP: generating raw projectors</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_vasp.html#conversion-for-the-dmft-self-consistency-cycle">Conversion for the DMFT self-consistency cycle</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_vasp.html#plovasp-detailed-guide">PLOVASP detailed guide</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_vasp.html#remarks-on-the-vasp-version">Remarks on the VASP version</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../guide/conv_elk.html">Interface with Elk</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_elk.html#conversion-for-the-dmft-self-consistency-cycle">Conversion for the DMFT self-consistency cycle</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_elk.html#data-for-post-processing-correlated-spectral-functions">Data for post-processing - Correlated Spectral functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_elk.html#spectral-function-from-elk-inputs">Spectral function from Elk inputs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_elk.html#spectral-function-contour-plots-fermi-surfaces-from-elk-inputs">Spectral function Contour Plots (Fermi Surfaces) from Elk inputs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_elk.html#dft-dmft-wavefunction-dependent-quantities">DFT+DMFT wavefunction dependent quantities</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../guide/conv_W90.html">Interface with Wannier90</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_W90.html#orbital-mode">Orbital mode</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_W90.html#band-mode">Band mode</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_W90.html#rotation-matrix">Rotation matrix</a></li>
<li class="toctree-l5"><a class="reference internal" href="../guide/conv_W90.html#current-limitations">Current limitations</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../guide/conv_generalhk.html">A general H(k)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guide/conversion.html#mpi-issues">MPI issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guide/conversion.html#interfaces-to-other-packages">Interfaces to other packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#dft-dmft">DFT+DMFT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guide/dftdmft_singleshot.html">Single-shot DFT+DMFT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guide/dftdmft_singleshot.html#initialization-of-the-calculation">Initialization of the calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/dftdmft_singleshot.html#setting-up-the-impurity-solver">Setting up the impurity solver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/dftdmft_singleshot.html#doing-the-dmft-loop">Doing the DMFT loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/dftdmft_singleshot.html#restarting-a-calculation">Restarting a calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/dftdmft_singleshot.html#mixing">Mixing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guide/dftdmft_selfcons.html">Full charge self-consistency</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guide/dftdmft_selfcons.html#wien2k-dmftproj">Wien2k + dmftproj</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/dftdmft_selfcons.html#vasp-plovasp">VASP + PLOVasp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/dftdmft_selfcons.html#elk">Elk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/dftdmft_selfcons.html#other-dft-codes">Other DFT codes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#advanced-topics">Advanced Topics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guide/blockstructure.html">Manipulating the Green’s functions block structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guide/blockstructure.html#creating-a-block-structure-and-green-s-function">Creating a block structure and Green’s function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/blockstructure.html#the-solver-structure">The <em>solver</em> structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/blockstructure.html#picking-orbitals">Picking orbitals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/blockstructure.html#basis-rotations">Basis rotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/blockstructure.html#diagonal-approximation">Diagonal approximation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guide/BasisRotation.html">Automatic basis rotations in DFT+DMFT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guide/BasisRotation.html#setting-up-the-initial-solver-structure-from-dft">Setting up the initial solver structure from DFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/BasisRotation.html#finding-the-transformation-matrix">Finding the transformation matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/BasisRotation.html#automatic-transformation-during-the-dmft-loop">Automatic transformation during the DMFT loop</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guide/soc.html">Spin-orbit coupled calculations (single-shot)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guide/soc.html#treatment-of-soc-in-dft">Treatment of SOC in DFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/soc.html#treatment-of-soc-in-wien2k">Treatment of SOC in Wien2k</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../guide/soc.html#performing-the-projection-in-wien2k">Performing the projection in Wien2k</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../guide/soc.html#treatment-of-soc-in-elk">Treatment of SOC in Elk</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/soc.html#after-generating-the-projectors">After generating the projectors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#postprocessing">Postprocessing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guide/analysis.html">Tools for analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guide/analysis.html#initialisation">Initialisation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/analysis.html#density-of-states-of-the-wannier-orbitals">Density of states of the Wannier orbitals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/analysis.html#partial-charges">Partial charges</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/analysis.html#correlated-spectral-function-with-real-frequency-self-energy">Correlated spectral function (with real-frequency self energy)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/analysis.html#momentum-resolved-spectral-function-with-real-frequency-self-energy">Momentum resolved spectral function (with real-frequency self energy)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guide/transport.html">Transport calculations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guide/transport.html#formalism">Formalism</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/transport.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/transport.html#wien2k-optics-package">Wien2k optics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/transport.html#using-the-transport-code">Using the transport code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guide/transport.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../documentation.html#reference-manual">Reference manual</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="h5structure.html">hdf5 structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="h5structure.html#groups-and-their-formats">groups and their formats</a><ul>
<li class="toctree-l5"><a class="reference internal" href="h5structure.html#main-data">Main data</a></li>
<li class="toctree-l5"><a class="reference internal" href="h5structure.html#converter-specific-data">Converter specific data</a></li>
<li class="toctree-l5"><a class="reference internal" href="h5structure.html#symmetry-operations">Symmetry operations</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="h5structure.html#general-and-simple-h-k-converter">General and simple H(k) Converter</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Converters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wien2k-converter">Wien2k Converter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#h-k-converter">H(k) Converter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wannier90-converter">Wannier90 Converter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plovasp">PLOVASP</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#plovasp-converter">plovasp.converter</a></li>
<li class="toctree-l5"><a class="reference internal" href="#plovasp-inpconfig">plovasp.inpconfig</a></li>
<li class="toctree-l5"><a class="reference internal" href="#plovasp-vaspio">plovasp.vaspio</a></li>
<li class="toctree-l5"><a class="reference internal" href="#plovasp-elstruct">plovasp.elstruct</a></li>
<li class="toctree-l5"><a class="reference internal" href="#plovasp-plotools">plovasp.plotools</a></li>
<li class="toctree-l5"><a class="reference internal" href="#plovasp-proj-shell">plovasp.proj_shell</a></li>
<li class="toctree-l5"><a class="reference internal" href="#plovasp-proj-group">plovasp.proj_group</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#vasp-converter">VASP Converter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#elk-converter">Elk Converter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#elk-tools">Elk Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="#converter-tools">Converter Tools</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sumk_dft.html">SumK DFT</a></li>
<li class="toctree-l3"><a class="reference internal" href="sumk_dft_tools.html">SumK DFT Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="symmetry.html">Symmetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="transbasis.html">TransBasis</a></li>
<li class="toctree-l3"><a class="reference internal" href="block_structure.html">Block Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html#faqs">FAQs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../faqs/faqs.html">Frequently-Asked Questions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../faqs/faqs.html#wien2k-fermi-error-when-running-x-lapw2-almd-band">wien2k: FERMI ERROR when running <cite>x lapw2 -almd -band</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="../faqs/faqs.html#how-do-i-plot-the-output-of-spaghettis">How do I plot the output of <cite>spaghettis</cite>?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../faqs/faqs.html#x-optic-does-not-write-a-case-pmat-file">x optic does not write a case.pmat file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../faqs/faqs.html#how-do-i-get-real-frequency-quantities">How do I get real-frequency quantities?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#a-simple-example-srvo3">A simple example: SrVO3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/srvo3.html">DFT (Wien2k) and Wannier orbitals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/srvo3.html#dft-setup">DFT setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/srvo3.html#wannier-orbitals">Wannier orbitals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/srvo3.html#the-dmft-calculation">The DMFT calculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/srvo3.html#loading-modules">Loading modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/srvo3.html#initializing-sumkdft">Initializing SumkDFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/srvo3.html#initializing-the-solver">Initializing the solver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/srvo3.html#dmft-cycle">DMFT cycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/srvo3.html#tail-fit-parameters">Tail fit parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#basis-rotations-sr2mgoso6-without-soc">Basis rotations: Sr2MgOsO6 without SOC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/sr2mgoso6_nosoc.html">DFT (Wien2k) and Wannier orbitals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_nosoc.html#dft-setup">DFT setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_nosoc.html#wannier-orbitals">Wannier orbitals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/sr2mgoso6_nosoc.html#the-dmft-calculation">The DMFT calculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_nosoc.html#rotating-the-basis">Rotating the basis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_nosoc.html#the-interaction-hamiltonian">The interaction Hamiltonian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_nosoc.html#the-dmft-loop-with-automatic-basis-rotations">The DMFT loop with automatic basis rotations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#sr2mgoso6-with-soc-non-magnetic">Sr2MgOsO6 with SOC (non-magnetic)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/sr2mgoso6_soc.html">DFT (Wien2k) and Wannier orbitals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_soc.html#dft-setup">DFT setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_soc.html#wannier-orbitals">Wannier orbitals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/sr2mgoso6_soc.html#the-dmft-calculation">The DMFT calculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_soc.html#rotating-the-basis">Rotating the basis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_soc.html#the-interaction-hamiltonian">The interaction Hamiltonian</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/sr2mgoso6_soc.html#the-dmft-loop-with-automatic-basis-rotations">The DMFT loop with automatic basis rotations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#full-charge-self-consistency-with-wien2k-gamma-ce">Full charge self consistency with Wien2k: <span class="math notranslate nohighlight">\(\gamma\)</span>-Ce</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/ce-gamma-fscs_wien2k.html">DFT+DMFT tutorial: Ce with Hubbard-I approximation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/ce-gamma-fscs_wien2k.html#wien2k-setup">Wien2k setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/ce-gamma-fscs_wien2k.html#wannier-orbitals-dmftproj">Wannier orbitals: dmftproj</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/ce-gamma-fscs_wien2k.html#dmft-setup-hubbard-i-calculations-in-triqs">DMFT setup: Hubbard-I calculations in TRIQS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/ce-gamma-fscs_wien2k.html#fully-charge-self-consistent-dft-dmft-calculation">Fully charge self-consistent DFT+DMFT calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/ce-gamma-fscs_wien2k.html#post-processing-and-data-analysis">Post-processing and data analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#vasp-interface-examples">VASP interface examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials.html#simple-converter-example-srvo3">Simple Converter example: SrVO3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/svo_vasp/svo_notebook.html">VASP setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/svo_vasp/svo_notebook.html#PLOVASP">PLOVASP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/svo_vasp/svo_notebook.html#Converting-to-hdf5-file">Converting to hdf5 file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials.html#complex-example-nio">Complex example: NiO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/nio_csc.html">DFT and projections</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/nio_csc.html#vasp-setup">VASP setup</a></li>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/nio_csc.html#plovasp">PLOVASP</a></li>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/nio_csc.html#converting-to-hdf5-file">Converting to hdf5 file</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/nio_csc.html#dmft">DMFT</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/nio_csc.html#dmft-script">dmft script</a></li>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/nio_csc.html#local-lattice-green-s-function-for-all-projected-orbitals">Local lattice Green’s function for all projected orbitals</a></li>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/nio_csc.html#spectral-function-on-real-axis-maxent">Spectral function on real axis: MaxEnt</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/nio_csc.html#charge-self-consistent-dmft">Charge self-consistent DMFT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#elk-interface-examples">Elk interface examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials.html#converter-example-srvo3">Converter example: SrVO3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/svo_elk/srvo3.html">Elk to TRIQS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/svo_elk/srvo3.html#the-dmft-calculation">The DMFT calculation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/svo_elk/srvo3.html#loading-modules">Loading modules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/svo_elk/srvo3.html#initializing-sumkdft">Initializing SumkDFT</a></li>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/svo_elk/srvo3.html#initializing-the-solver">Initializing the solver</a></li>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/svo_elk/srvo3.html#dmft-cycle">DMFT cycle</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/svo_elk/srvo3.html#triqs-to-elk-fully-charge-self-consistent-dft-dmft">TRIQS to Elk (Fully Charge Self-Consistent DFT+DMFT)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../tutorials/svo_elk/srvo3.html#tail-fit-parameters">Tail fit parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ChangeLog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ChangeLog.html#version-3-1-0">Version 3.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ChangeLog.html#version-3-0-0">Version 3.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ChangeLog.html#restructuring">Restructuring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ChangeLog.html#dependency-management">Dependency Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ChangeLog.html#other-changes">Other Changes:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ChangeLog.html#version-2-2-1">Version 2.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ChangeLog.html#version-2-2-0">Version 2.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ChangeLog.html#version-2-1-x-changes-since-1-4">Version 2.1.x (changes since 1.4)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about.html#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#authors-quotation">Authors &amp; Quotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#disclaimer">Disclaimer</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TRIQS DFTTools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../documentation.html">Documentation</a> &raquo;</li>
        
      <li>Converters</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/converters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="converters">
<span id="refconverters"></span><h1>Converters<a class="headerlink" href="#converters" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wien2k-converter">
<h2>Wien2k Converter<a class="headerlink" href="#wien2k-converter" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.wien2k.</span></code><code class="descname"><span class="pre">Wien2kConverter</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">parproj_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_parproj_input'</span></span></em>, <em><span class="n"><span class="pre">symmpar_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmpar_input'</span></span></em>, <em><span class="n"><span class="pre">bands_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_bands_input'</span></span></em>, <em><span class="n"><span class="pre">misc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_misc_input'</span></span></em>, <em><span class="n"><span class="pre">transp_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_transp_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#triqs_dft_tools.converters.converter_tools.ConverterTools" title="triqs_dft_tools.converters.converter_tools.ConverterTools"><code class="xref py py-class docutils literal notranslate"><span class="pre">triqs_dft_tools.converters.converter_tools.ConverterTools</span></code></a></p>
<p>Conversion from Wien2k output to an hdf5 file that can be used as input for the SumkDFT class.</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.__init__">
<code class="descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">parproj_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_parproj_input'</span></span></em>, <em><span class="n"><span class="pre">symmpar_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmpar_input'</span></span></em>, <em><span class="n"><span class="pre">bands_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_bands_input'</span></span></em>, <em><span class="n"><span class="pre">misc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_misc_input'</span></span></em>, <em><span class="n"><span class="pre">transp_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_transp_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Base name of DFT files.</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created.</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data.</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data.</p>
</div></blockquote>
<p><strong>parproj_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial projector data.</p>
</div></blockquote>
<p><strong>symmpar_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial-projector symmetry data.</p>
</div></blockquote>
<p><strong>bands_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing band data.</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing miscellaneous DFT data.</p>
</div></blockquote>
<p><strong>transp_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing transport data.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_bands_input">
<code class="descname"><span class="pre">convert_bands_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_bands_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_bands_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the bands_subgrp in the hdf5 archive.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_dft_input">
<code class="descname"><span class="pre">convert_dft_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_dft_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the</p>
<ul class="simple">
<li>dft_subgrp</li>
<li>symmcorr_subgrp</li>
<li>misc_subgrp</li>
</ul>
<p>in the hdf5 archive.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_misc_input">
<code class="descname"><span class="pre">convert_misc_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_misc_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_misc_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads additional information on:</p>
<ul class="simple">
<li>the band window from <code class="file docutils literal notranslate"><span class="pre">case.oubwin</span></code>,</li>
<li>lattice parameters from <code class="file docutils literal notranslate"><span class="pre">case.struct</span></code>,</li>
<li>symmetries from <code class="file docutils literal notranslate"><span class="pre">case.outputs</span></code>,</li>
</ul>
<p>if those Wien2k files are present and stores the data in the hdf5 archive.
This function is automatically called by <a class="reference internal" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_dft_input" title="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_dft_input"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert_dft_input</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_parproj_input">
<code class="descname"><span class="pre">convert_parproj_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_parproj_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_parproj_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the</p>
<ul class="simple">
<li>parproj_subgrp</li>
<li>symmpar_subgrp</li>
</ul>
<p>in the hdf5 archive.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_symmetry_input">
<code class="descname"><span class="pre">convert_symmetry_input</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">orbits</span></span></em>, <em><span class="n"><span class="pre">symm_file</span></span></em>, <em><span class="n"><span class="pre">symm_subgrp</span></span></em>, <em><span class="n"><span class="pre">SO</span></span></em>, <em><span class="n"><span class="pre">SP</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_symmetry_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_symmetry_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads and stores symmetrisation data from symm_file, which can be is case.sympar or case.symqmc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>orbits</strong> : list of dicts</p>
<blockquote>
<div><p>This is either shells or corr_shells depending on whether the symmetry 
information is for correlated shells or partial projectors.</p>
</div></blockquote>
<p><strong>symm_file</strong> : string</p>
<blockquote>
<div><p>Name of the file containing symmetry data. 
This is case.symqmc for correlated shells and case.sympar for partial projectors.</p>
</div></blockquote>
<p><strong>symm_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing symmetry data.</p>
</div></blockquote>
<p><strong>SO</strong> : integer</p>
<blockquote>
<div><p>Is spin-orbit coupling considered?</p>
</div></blockquote>
<p><strong>SP</strong> : integer</p>
<blockquote class="last">
<div><p>Is the system spin-polarised?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_transport_input">
<code class="descname"><span class="pre">convert_transport_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wien2k.html#Wien2kConverter.convert_transport_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wien2k.Wien2kConverter.convert_transport_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the necessary information for transport calculations on:</p>
<ul class="simple">
<li>the optical band window and the velocity matrix elements from <code class="file docutils literal notranslate"><span class="pre">case.pmat</span></code></li>
</ul>
<p>and stores the data in the hdf5 archive.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="h-k-converter">
<h2>H(k) Converter<a class="headerlink" href="#h-k-converter" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="triqs_dft_tools.converters.hk.HkConverter">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.hk.</span></code><code class="descname"><span class="pre">HkConverter</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/hk.html#HkConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.hk.HkConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from general H(k) file to an hdf5 file that can be used as input for the SumKDFT class.</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.hk.HkConverter.__init__">
<code class="descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/hk.html#HkConverter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.hk.HkConverter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Name of file containing the H(k) and other relevant data.</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created.</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data.</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data.
The group is actually empty; it is just included for compatibility.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.hk.HkConverter.convert_dft_input">
<code class="descname"><span class="pre">convert_dft_input</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">first_real_part_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em><span class="n"><span class="pre">only_upper_triangle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">weights_in_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/hk.html#HkConverter.convert_dft_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.hk.HkConverter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the dft_subgrp in the hdf5 archive.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>first_real_part_matrix</strong> : boolean, optional</p>
<blockquote>
<div><p>Should all the real components for given k be read in first, followed by the imaginary parts?</p>
</div></blockquote>
<p><strong>only_upper_triangle</strong> : boolean, optional</p>
<blockquote>
<div><p>Should only the upper triangular part of H(k) be read in?</p>
</div></blockquote>
<p><strong>weights_in_file</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Are the k-point weights to be read in?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="wannier90-converter">
<h2>Wannier90 Converter<a class="headerlink" href="#wannier90-converter" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.wannier90.</span></code><code class="descname"><span class="pre">Wannier90Converter</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">seedname</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">misc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_misc_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">rot_mat_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hloc_diag'</span></span></em>, <em><span class="n"><span class="pre">bloch_basis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">add_lambda</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">w90zero</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2e-06</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from Wannier90 output to an hdf5 file that can be used as input for the SumkDFT class.</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.__init__">
<code class="descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">seedname</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">misc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_misc_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">rot_mat_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hloc_diag'</span></span></em>, <em><span class="n"><span class="pre">bloch_basis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">add_lambda</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">w90zero</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2e-06</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>seedname</strong> : string</p>
<blockquote>
<div><p>Base name of Wannier90 files</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing miscellaneous DFT data.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote>
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
<p><strong>rot_mat_type</strong> : string, optional</p>
<blockquote>
<div><p>Type of rot_mat used
Can be ‘hloc_diag’, ‘wannier’, ‘none’</p>
</div></blockquote>
<p><strong>bloch_basis</strong> : boolean, optional</p>
<blockquote>
<div><p>Should the Hamiltonian be written in Bloch rather than Wannier basis?</p>
</div></blockquote>
<p><strong>add_lambda</strong> : list of floats, optional</p>
<blockquote>
<div><p>add local spin-orbit term</p>
</div></blockquote>
<p><strong>w90zero</strong> : float, optional</p>
<blockquote class="last">
<div><p>threshold on symmetry checks of Hamiltonian and rot_mat</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.convert_dft_input">
<code class="descname"><span class="pre">convert_dft_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.convert_dft_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the</p>
<ul class="simple">
<li>dft_subgrp</li>
<li>symmcorr_subgrp</li>
</ul>
<p>in the hdf5 archive.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.convert_misc_input">
<code class="descname"><span class="pre">convert_misc_input</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">out_filename</span></span></em>, <em><span class="n"><span class="pre">nnkp_filename</span></span></em>, <em><span class="n"><span class="pre">n_spin_blocs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.convert_misc_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.convert_misc_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads input from DFT code calculations to get occupations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>out_filename</strong> : string</p>
<blockquote>
<div><p>filename of DFT output file containing occupation data</p>
</div></blockquote>
<p><strong>nnkp_file</strong> : string</p>
<blockquote>
<div><p>filename of Wannier postproc_setup run</p>
</div></blockquote>
<p><strong>n_spin_blocs</strong> : int</p>
<blockquote>
<div><p>SP + 1 - SO</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fermi_weights</strong> : numpy.array[self.n_k, n_spin_blocs ,n_orbitals]</p>
<blockquote>
<div><p>occupations from DFT calculation</p>
</div></blockquote>
<p><strong>band_window</strong> : numpy.array[self.n_k, n_spin_blocs ,n_orbitals]</p>
<blockquote>
<div><p>band indices of correlated subspace</p>
</div></blockquote>
<p><strong>fermi_energy</strong> : float</p>
<blockquote>
<div><p>the DFT Kohn-Sham Fermi energy</p>
</div></blockquote>
<p><strong>kpt_basis: numpy.array[3, 3]</strong> :</p>
<blockquote class="last">
<div><p>the basis vectors in reciprocal space</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.find_rot_mat">
<code class="descname"><span class="pre">find_rot_mat</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">n_sh</span></span></em>, <em><span class="n"><span class="pre">sh_lst</span></span></em>, <em><span class="n"><span class="pre">sh_map</span></span></em>, <em><span class="n"><span class="pre">ham0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.find_rot_mat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.find_rot_mat" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for finding the matrices that bring from local to global coordinate systems
(and viceversa), based on the eigenvalues of H(R=0)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n_sh</strong> : integer</p>
<blockquote>
<div><p>number of shells</p>
</div></blockquote>
<p><strong>sh_lst</strong> : list of shells-type dictionaries</p>
<blockquote>
<div><p>contains the shells (could be correlated or not)</p>
</div></blockquote>
<p><strong>sh_map</strong> : list of integers</p>
<blockquote>
<div><p>mapping between shells</p>
</div></blockquote>
<p><strong>ham0</strong> : numpy.array of floats</p>
<blockquote>
<div><p>local Hamiltonian matrix elements</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>succeeded</strong> : integer</p>
<blockquote>
<div><p>if 0, something failed in the construction of the matrices</p>
</div></blockquote>
<p><strong>rot_mat</strong> : list of numpy.array</p>
<blockquote class="last">
<div><p>rotation matrix for each of the shell</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.fourier_ham">
<code class="descname"><span class="pre">fourier_ham</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">h_of_r</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.fourier_ham"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.fourier_ham" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for obtaining H(k) from H(R) via Fourier transform
The R vectors and k-point mesh are read from global module variables</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>h_of_r</strong> : list of numpy.array[norb,norb]</p>
<blockquote>
<div><p>Hamiltonian H(R) in Wannier basis</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>h_of_k</strong> : list of numpy.array[norb,norb]</p>
<blockquote class="last">
<div><p>transformed Hamiltonian H(k) in Wannier basis</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.kmesh_build">
<code class="descname"><span class="pre">kmesh_build</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">msize</span></span></em>, <em><span class="n"><span class="pre">mmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.kmesh_build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.kmesh_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for the generation of the k-point mesh.
Right now it only supports the option for generating a full grid containing k=0,0,0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>msize</strong> : list of 3 integers</p>
<blockquote>
<div><p>the dimensions of the mesh</p>
</div></blockquote>
<p><strong>mmode</strong> : integer</p>
<blockquote>
<div><p>mesh generation mode (right now, only full grid available)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>nkpt</strong> : integer</p>
<blockquote>
<div><p>total number of k-points in the mesh</p>
</div></blockquote>
<p><strong>kpts</strong> : numpy.array[nkpt,3] of floats</p>
<blockquote>
<div><p>the coordinates of all k-points</p>
</div></blockquote>
<p><strong>wk</strong> : numpy.array[nkpt] of floats</p>
<blockquote class="last">
<div><p>the weight of each k-point</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.lambda_matrix_w90_t2g">
<code class="descname"><span class="pre">lambda_matrix_w90_t2g</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.lambda_matrix_w90_t2g"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.lambda_matrix_w90_t2g" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds local spin-orbit interaction term to the t2g subspace. Orbital order is assumed to be
xz_up, yz_up, xy_up, xz_dn, yz_dn, xy_dn as given by Wannier90 per default.
Parameters are defined as self.add_lambda = [lambda_x, lambda_y, lambda_z], representative of
the orbital coupling terms perpendicular to [x, y, z] i.e. [d_yz, d_xz, d_xy], respectively.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lambda_matrix</strong> : numpy.array[6, 6]</p>
<blockquote class="last">
<div><p>local spin-orbit term to be added to H(0)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.wannier90.Wannier90Converter.read_wannier90data">
<code class="descname"><span class="pre">read_wannier90data</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">wannier_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wannier'</span></span></em>, <em><span class="n"><span class="pre">kmesh_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/wannier90.html#Wannier90Converter.read_wannier90data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.wannier90.Wannier90Converter.read_wannier90data" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for reading the seedname_hr.dat file produced by Wannier90 (<a class="reference external" href="http://wannier.org" rel="noopener noreferrer" target="_blank">http://wannier.org</a>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>wannier_seed</strong> : string</p>
<blockquote>
<div><p>seedname to read H(R) file produced by Wannier90 (usually seedname_hr.dat)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>nrpt</strong> : integer</p>
<blockquote>
<div><p>number of R vectors found in the file</p>
</div></blockquote>
<p><strong>rvec_idx</strong> : numpy.array of integers</p>
<blockquote>
<div><p>Miller indices of the R vectors</p>
</div></blockquote>
<p><strong>rvec_deg</strong> : numpy.array of floats</p>
<blockquote>
<div><p>weight of the R vectors</p>
</div></blockquote>
<p><strong>num_wf</strong> : integer</p>
<blockquote>
<div><p>number of Wannier functions found</p>
</div></blockquote>
<p><strong>h_of_r</strong> : list of numpy.array</p>
<blockquote>
<div><p>&lt;w_i|H(R)|w_j&gt; = Hamilonian matrix elements in the Wannier basis</p>
</div></blockquote>
<p><strong>u_mat</strong> : numpy.array</p>
<blockquote>
<div><p>U_mn^k = unitary matrix elements which mix the Kohn-Sham states</p>
</div></blockquote>
<p><strong>udis_mat</strong> : numpy.array</p>
<blockquote>
<div><p>U^dis(k) = rectangular matrix for entangled bands</p>
</div></blockquote>
<p><strong>band_mat</strong> : numpy.array</p>
<blockquote>
<div><p>epsilon_nk = Kohn-Sham eigenvalues (in eV) needed for entangled bands
If not self.bloch_basis unused and therefore None</p>
</div></blockquote>
<p><strong>k_mesh</strong> : numpy.array</p>
<blockquote class="last">
<div><p>The k mesh read from the seedname_u.mat file to ensure consistency
If not self.bloch_basis unused and therefore None</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="plovasp">
<h2>PLOVASP<a class="headerlink" href="#plovasp" title="Permalink to this headline">¶</a></h2>
<p id="refplovasp">PLOVASP reference, the classes / functions are sorted the way the converter uses them.</p>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.converter"></span><div class="section" id="plovasp-converter">
<h3>plovasp.converter<a class="headerlink" href="#plovasp-converter" title="Permalink to this headline">¶</a></h3>
<p>PLOVASP is a tool to transform raw, non-normalized
projectors generated by VASP into normalized projectors
corresponding to user-defined projected localized orbitals (PLO).</p>
<p>Runs routines in proper order to generate and store PLOs.</p>
<p>Usage: python converter.py &lt;conf-file&gt; [&lt;path-to-vasp-calculation&gt;]</p>
<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.converter.generate_and_output_as_text">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.converter.</span></code><code class="descname"><span class="pre">generate_and_output_as_text</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">conf_filename</span></span></em>, <em><span class="n"><span class="pre">vasp_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/converter.html#generate_and_output_as_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.converter.generate_and_output_as_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse config file, process VASP data, and store as text.</p>
</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.inpconf"></span><div class="section" id="plovasp-inpconfig">
<h3>plovasp.inpconfig<a class="headerlink" href="#plovasp-inpconfig" title="Permalink to this headline">¶</a></h3>
<p>Module for parsing and checking an input config-file.</p>
<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.inpconf.</span></code><code class="descname"><span class="pre">ConfigParameters</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">input_filename</span></span></em>, <em><span class="n"><span class="pre">verbosity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Class responsible for parsing of the input config-file.</p>
<p>Parameters:</p>
<ul class="simple">
<li><em>sh_required</em>, <em>sh_optional</em> : required and optional parameters of shells</li>
<li><em>gr_required</em>, <em>gr_optional</em> : required and optional parameters of groups</li>
</ul>
<p>The dictionary contains a mapping of conf-file keywords to
a pair of objects:</p>
<blockquote>
<div><ol class="arabic simple">
<li>internal name of a parameter</li>
<li>function used to convert an input string into data for a given parameter</li>
</ol>
</div></blockquote>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.groups_shells_consistency">
<code class="descname"><span class="pre">groups_shells_consistency</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.groups_shells_consistency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.groups_shells_consistency" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Ensures consistency between groups and shells. In particular:</dt><dd><ul class="simple">
<li>if no groups are explicitly defined and only shell is defined create a group automatically</li>
<li>check the existance of all shells referenced in the groups</li>
<li>check that all shells are referenced in the groups</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_band_window">
<code class="descname"><span class="pre">parse_band_window</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">par_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_band_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_band_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Band window is given by two ints, with the first one being smaller
than the second one.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_energy_window">
<code class="descname"><span class="pre">parse_energy_window</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">par_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_energy_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_energy_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Energy window is given by two floats, with the first one being smaller
than the second one.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_file_tmatrix">
<code class="descname"><span class="pre">parse_file_tmatrix</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_file_tmatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_file_tmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a file ‘filename’ containing transformation matrices
for each ion. The parser returns a raw matrix that will be
interpreted elsewhere because the interpretation depends on
shell parameters.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_general">
<code class="descname"><span class="pre">parse_general</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_general"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_general" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses [General] section.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_groups">
<code class="descname"><span class="pre">parse_groups</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses [Group] sections.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_input">
<code class="descname"><span class="pre">parse_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses input conf-file.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_parameter_set">
<code class="descname"><span class="pre">parse_parameter_set</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">section</span></span></em>, <em><span class="n"><span class="pre">param_set</span></span></em>, <em><span class="n"><span class="pre">exception</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_parameter_set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_parameter_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses required or optional parameter set from a section.
For required parameters <cite>exception=True</cite> must be set.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_shells">
<code class="descname"><span class="pre">parse_shells</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_shells"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_shells" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses all [Shell] sections.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_dosmesh">
<code class="descname"><span class="pre">parse_string_dosmesh</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">par_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_dosmesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_dosmesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Two formats are accepted:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Two floats (energy range) and an integer (number of energy points).</li>
<li>One integer (number of energy points). In this case the energy
range is taken to be equal to EMIN, EMAX of a shell.</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>The parser returns a dictionary:</dt><dd><dl class="docutils">
<dt>{‘n_points’: int,</dt><dd>‘emin’: float,
‘emax’: float}</dd>
</dl>
</dd>
</dl>
<p>If the second option is used, ‘emin’ and ‘emax’ are undefined
and set to ‘nan’.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_int">
<code class="descname"><span class="pre">parse_string_int</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">par_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_int" title="Permalink to this definition">¶</a></dt>
<dd><p>int parameters</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_ion_list">
<code class="descname"><span class="pre">parse_string_ion_list</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">par_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_ion_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_ion_list" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>The ion list accepts the following formats:</dt><dd><dl class="docutils">
<dt>1). A list of ion indices according to POSCAR.</dt><dd>The list can be defined as a range ‘9..20’.</dd>
<dt>2). A list of ion groups (e.g. ‘[1  4]  [2  3]’) in which</dt><dd>case each group defines a set of equivalent sites.</dd>
<dt>3). An element name, in which case all ions with</dt><dd>this name are included. NOT YET IMPLEMENTED.</dd>
</dl>
</dd>
</dl>
<p>The second option requires an input from POSCAR file.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_logical">
<code class="descname"><span class="pre">parse_string_logical</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">par_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_logical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_logical" title="Permalink to this definition">¶</a></dt>
<dd><p>Logical parameters are given by string ‘True’ or ‘False’
(case does not matter). In fact, only the first symbol matters so that
one can write ‘T’ or ‘F’.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_tmatrix">
<code class="descname"><span class="pre">parse_string_tmatrix</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">par_str</span></span></em>, <em><span class="n"><span class="pre">real</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/inpconf.html#ConfigParameters.parse_string_tmatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.inpconf.ConfigParameters.parse_string_tmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Transformation matrix is defined as a set of rows separated
by a new line symbol.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.vaspio"></span><div class="section" id="plovasp-vaspio">
<h3>plovasp.vaspio<a class="headerlink" href="#plovasp-vaspio" title="Permalink to this headline">¶</a></h3>
<p>Input of required VASP data.</p>
<dl class="docutils">
<dt>Six VASP files are required:</dt><dd><ul class="simple">
<li>PROJCAR</li>
<li>LOCPROJ</li>
<li>POSCAR</li>
<li>IBZKPT</li>
<li>EIGENVAL</li>
<li>DOSCAR</li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Doscar">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.vaspio.</span></code><code class="descname"><span class="pre">Doscar</span></code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Doscar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Doscar" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing some data from DOSCAR</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Doscar.from_file">
<code class="descname"><span class="pre">from_file</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">vasp_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em><span class="n"><span class="pre">dos_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DOSCAR'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Doscar.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Doscar.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads only E_Fermi from DOSCAR.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Eigenval">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.vaspio.</span></code><code class="descname"><span class="pre">Eigenval</span></code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Eigenval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Eigenval" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing Kohn-Sham-eigenvalues data from VASP (EIGENVAL file).</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Eigenval.from_file">
<code class="descname"><span class="pre">from_file</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">vasp_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em><span class="n"><span class="pre">eig_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EIGENVAL'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Eigenval.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Eigenval.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads eigenvalues from EIGENVAL. Note that the file also
contains k-points with weights. They are also stored and
then used to check the consistency of files read.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Kpoints">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.vaspio.</span></code><code class="descname"><span class="pre">Kpoints</span></code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Kpoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Kpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Class describing k-points and optionally tetrahedra.</p>
<dl class="docutils">
<dt>Properties:</dt><dd><ul class="simple">
<li>nktot (int) : total number of k-points in the IBZ</li>
<li>kpts (numpy.array((nktot, 3), dtype=float)) : k-point vectors (fractional coordinates)</li>
<li>ntet (int) : total number of k-point tetrahedra</li>
<li>itet (numpy.array((ntet, 5), dtype=float) : array of tetrahedra</li>
<li><dl class="first docutils">
<dt>volt (float)<span class="classifier">volume of a tetrahedron (the k-grid is assumed to</span></dt><dd>be uniform)</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Kpoints.from_file">
<code class="descname"><span class="pre">from_file</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">vasp_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em><span class="n"><span class="pre">ibz_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IBZKPT'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Kpoints.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Kpoints.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads from IBZKPT: k-points and optionally
tetrahedra topology (if present).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vasp_dir (str)</strong> : path to the VASP working directory [default = <a href="#id1"><span class="problematic" id="id2">`</span></a>./’]</p>
<p class="last"><strong>plocar_filename (str)</strong> : filename [default = <a href="#id3"><span class="problematic" id="id4">`</span></a>IBZKPT’]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.vaspio.</span></code><code class="descname"><span class="pre">Plocar</span></code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing raw PLO data from VASP.</p>
<dl class="docutils">
<dt>Properties:</dt><dd><ul class="simple">
<li><em>plo</em> (numpy.array((nion, ns, nk, nb, nlmmax))) : raw projectors</li>
<li><em>params</em> (dict) : parameters read from PLOCAR</li>
<li><em>ferw</em> (array(nion, ns, nk, nb)) : Fermi weights from VASP</li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar.from_file">
<code class="descname"><span class="pre">from_file</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">vasp_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em><span class="n"><span class="pre">plocar_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PLOCAR'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads non-normalized projectors from a binary file (<a href="#id5"><span class="problematic" id="id6">`</span></a>PLOCAR’ by default)
generated by VASP PLO interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vasp_dir (str)</strong> : path to the VASP working directory [default = <a href="#id7"><span class="problematic" id="id8">`</span></a>./’]</p>
<p class="last"><strong>plocar_filename (str)</strong> : filename [default = <a href="#id9"><span class="problematic" id="id10">`</span></a>PLOCAR’]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar.locproj_parser">
<code class="descname"><span class="pre">locproj_parser</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">locproj_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'LOCPROJ'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar.locproj_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar.locproj_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses LOCPROJ (for VASP &gt;= 5.4.2) to get VASP projectors.</p>
<p>This is a prototype parser that should eventually be written in C for
better performance on large files.</p>
<p>Returns projector parameters (site/orbital indices etc.) and an array
with projectors.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar.search_for">
<code class="descname"><span class="pre">search_for</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">f</span></span></em>, <em><span class="n"><span class="pre">patt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar.search_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar.search_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads file ‘f’ until pattern ‘patt’ is encountered and returns
the corresponding line.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Plocar.temp_parser">
<code class="descname"><span class="pre">temp_parser</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">projcar_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PROJCAR'</span></span></em>, <em><span class="n"><span class="pre">locproj_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'LOCPROJ'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Plocar.temp_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Plocar.temp_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses PROJCAR (and partially LOCPROJ) to get VASP projectors.</p>
<p>This is a prototype parser that should eventually be written in C for
better performance on large files.</p>
<p>Returns projector parameters (site/orbital indices etc.) and an array
with projectors.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Poscar">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.vaspio.</span></code><code class="descname"><span class="pre">Poscar</span></code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Poscar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Poscar" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing POSCAR data from VASP.</p>
<dl class="docutils">
<dt>Properties:</dt><dd><ul class="simple">
<li>nq (int) : total number of ions</li>
<li>ntypes ([int]) : number of ion types</li>
<li>nions (int) : a list of number of ions of each type</li>
<li>a_brav (numpy.array((3, 3), dtype=float)) : lattice vectors</li>
<li>kpt_basis (numpy.array((3, 3), dtype=float)) : reciprocal lattice vectors</li>
<li>q_types ([numpy.array((nions, 3), dtype=float)]) : a list of
arrays each containing fractional coordinates of ions of a given type</li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.Poscar.from_file">
<code class="descname"><span class="pre">from_file</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">vasp_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./'</span></span></em>, <em><span class="n"><span class="pre">poscar_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'POSCAR'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#Poscar.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.Poscar.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads POSCAR and returns a dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vasp_dir (str)</strong> : path to the VASP working directory [default = <a href="#id11"><span class="problematic" id="id12">`</span></a>./’]</p>
<p class="last"><strong>plocar_filename (str)</strong> : filename [default = <a href="#id13"><span class="problematic" id="id14">`</span></a>POSCAR’]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.VaspData">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.vaspio.</span></code><code class="descname"><span class="pre">VaspData</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">vasp_dir</span></span></em>, <em><span class="n"><span class="pre">read_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em><span class="n"><span class="pre">efermi_required</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#VaspData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.VaspData" title="Permalink to this definition">¶</a></dt>
<dd><p>Container class for all VASP data.</p>
</dd></dl>

<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.vaspio.read_symmcar">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.vaspio.</span></code><code class="descname"><span class="pre">read_symmcar</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">vasp_dir</span></span></em>, <em><span class="n"><span class="pre">symm_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SYMMCAR'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/vaspio.html#read_symmcar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.vaspio.read_symmcar" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads SYMMCAR.</p>
</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.elstruct"></span><div class="section" id="plovasp-elstruct">
<h3>plovasp.elstruct<a class="headerlink" href="#plovasp-elstruct" title="Permalink to this headline">¶</a></h3>
<p>Internal representation of VASP electronic structure data.</p>
<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.elstruct.ElectronicStructure">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.elstruct.</span></code><code class="descname"><span class="pre">ElectronicStructure</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">vasp_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/elstruct.html#ElectronicStructure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.elstruct.ElectronicStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing electronic structure data.</p>
<p><strong>Parameters:</strong></p>
<ul class="simple">
<li><em>natom</em> (int) : total number of atoms</li>
<li><em>nktot</em> (int) : total number of <cite>k</cite>-points</li>
<li><em>nband</em> (int) : total number of bands</li>
<li><em>nspin</em> (int) : spin-polarization</li>
<li><em>nc_flag</em> (True/False) : non-collinearity flag</li>
<li><em>efermi</em> (float) : Fermi level read from DOSCAR</li>
<li><em>proj_raw</em> (array[complex]) : raw projectors from PLOCAR</li>
<li><em>eigvals</em> (array[float]) : KS eigenvalues</li>
<li><em>ferw</em> (array[float]) : Fermi weights from VASP</li>
<li><em>kmesh</em> (dict) : parameters of the <cite>k</cite>-mesh</li>
<li><em>structure</em> (dict) : parameters of the crystal structure</li>
<li><em>symmetry</em> (dict) : paramters of symmetry</li>
</ul>
<p>When the object is created a simple consistency check
of the data coming from different VASP files is performed.</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.elstruct.ElectronicStructure.debug_density_matrix">
<code class="descname"><span class="pre">debug_density_matrix</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/elstruct.html#ElectronicStructure.debug_density_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.elstruct.ElectronicStructure.debug_density_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and output the density and overlap matrix out of projectors defined in el_struct.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.plotools"></span><div class="section" id="plovasp-plotools">
<h3>plovasp.plotools<a class="headerlink" href="#plovasp-plotools" title="Permalink to this headline">¶</a></h3>
<p>Set of routines for processing and outputting PLOs.</p>
<p>This is the main module containing routines responsible for checking
the consistency of the input data, generation of projected localized
orbitals (PLOs) out of raw VASP projectors, and outputting data
required by DFTTools.</p>
<p>The first step of PLO processing is to select subsets of projectors
corresponding to PLO groups. Each group contains a set of shells. Each
projector shell is represented by an object ‘ProjectorShell’ that contains
an array of projectors and information on the shell itself (orbital number,
ions, etc.). ‘ProjectorShell’s are contained in both a list of shells
(according to the original list as read from config-file) and in a
‘ProjectorGroup’ object, the latter also providing information about the
energy window.</p>
<dl class="docutils">
<dt>Order of operations:</dt><dd><ul class="simple">
<li>transform projectors (all bands) in each shell</li>
<li>select transformed shell projectors for a given group within the window</li>
<li>orthogonalize if necessary projectors within a group by performing
the following operations for each k-point:
* combine all projector shells into a single array
* orthogonalize the array
* distribute back the arrays assuming that the order is preserved</li>
</ul>
</dd>
</dl>
<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.check_data_consistency">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.plotools.</span></code><code class="descname"><span class="pre">check_data_consistency</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">pars</span></span></em>, <em><span class="n"><span class="pre">el_struct</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#check_data_consistency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.check_data_consistency" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the consistency of the VASP data.</p>
</dd></dl>

<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.ctrl_output">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.plotools.</span></code><code class="descname"><span class="pre">ctrl_output</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">conf_pars</span></span></em>, <em><span class="n"><span class="pre">el_struct</span></span></em>, <em><span class="n"><span class="pre">ng</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#ctrl_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.ctrl_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs a ctrl-file.</p>
<p>Control file format</p>
<p>Filename ‘&lt;namebase&gt;.ctrl’. Contains the data shared between all shells.
The JSON-header consists of the following elements:</p>
<blockquote>
<div><ul class="simple">
<li><em>nk</em>: number of <cite>k</cite>-points</li>
<li><em>ns</em>: number of spin channels</li>
<li><em>nc_flag</em>: collinear/noncollinear case (False/True)</li>
<li><em>ng</em>: number of projector groups</li>
<li>Symmetry information (list of symmetry operations)</li>
<li><em>efermi</em>: Fermi level (optional)</li>
<li>Lattice information</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.generate_plo">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.plotools.</span></code><code class="descname"><span class="pre">generate_plo</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">conf_pars</span></span></em>, <em><span class="n"><span class="pre">el_struct</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#generate_plo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.generate_plo" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>conf_pars (dict)</strong> : dictionary of input parameters (from conf-file)</p>
<blockquote class="last">
<div><p>el_struct : ElectronicStructure object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.hk_output">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.plotools.</span></code><code class="descname"><span class="pre">hk_output</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">conf_pars</span></span></em>, <em><span class="n"><span class="pre">el_struct</span></span></em>, <em><span class="n"><span class="pre">pgroups</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#hk_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.hk_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs HK into text file.</p>
<p>Filename is defined by &lt;basename&gt; that is passed from config-file.</p>
<p>The Hk for each groups is stored in a ‘&lt;basename&gt;.hk&lt;Ng&gt;’ file. The format is
similar as defined in the Hk dft_tools format, but does not store info
about correlated shells and irreps</p>
<p>nk                  # number of k-points
n_el                # electron density
n_sh                # number of total atomic shells
at sort l dim       # atom, sort, l, dim
at sort l dim       # atom, sort, l, dim</p>
<p>After these header lines, the file has to contain the Hamiltonian matrix
in orbital space. The standard convention is that you give for each k-point
first the matrix of the real part, then the matrix of the imaginary part,
and then move on to the next k-point.</p>
</dd></dl>

<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.issue_warning">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.plotools.</span></code><code class="descname"><span class="pre">issue_warning</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#issue_warning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.issue_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Issues a warning.</p>
</dd></dl>

<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.kpoints_output">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.plotools.</span></code><code class="descname"><span class="pre">kpoints_output</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">basename</span></span></em>, <em><span class="n"><span class="pre">el_struct</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#kpoints_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.kpoints_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs k-point data into a text file.</p>
</dd></dl>

<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.output_as_text">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.plotools.</span></code><code class="descname"><span class="pre">output_as_text</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">pars</span></span></em>, <em><span class="n"><span class="pre">el_struct</span></span></em>, <em><span class="n"><span class="pre">pshells</span></span></em>, <em><span class="n"><span class="pre">pgroups</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#output_as_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.output_as_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Output all information necessary for the converter as text files.</p>
</dd></dl>

<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.plotools.plo_output">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.plotools.</span></code><code class="descname"><span class="pre">plo_output</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">conf_pars</span></span></em>, <em><span class="n"><span class="pre">el_struct</span></span></em>, <em><span class="n"><span class="pre">pshells</span></span></em>, <em><span class="n"><span class="pre">pgroups</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/plotools.html#plo_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.plotools.plo_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs PLO groups into text files.</p>
<p>Filenames are defined by &lt;basename&gt; that is passed from config-file.
All necessary general parameters are stored in a file ‘&lt;basename&gt;.ctrl’.</p>
<p>Each group is stored in a ‘&lt;basename&gt;.plog&lt;Ng&gt;’ file. The format is the
following:</p>
<div class="line-block">
<div class="line"># Energy window: emin, emax</div>
<div class="line">ib_min, ib_max</div>
<div class="line">nelect</div>
<div class="line"># Eigenvalues</div>
<div class="line">isp, ik1, kx, ky, kz, kweight</div>
<div class="line">ib1, ib2</div>
<div class="line">eig1</div>
<div class="line">eig2</div>
<div class="line">…</div>
<div class="line">eigN</div>
<div class="line">ik2, kx, ky, kz, kweight</div>
<div class="line">…</div>
</div>
<div class="line-block">
<div class="line"># Projected shells</div>
<div class="line">Nshells</div>
<div class="line"># Shells: &lt;shell indices&gt;</div>
<div class="line"># Shell &lt;1&gt;</div>
<div class="line">Shell 1</div>
<div class="line">ndim</div>
<div class="line"># complex arrays: plo(ns, nion, ndim, nb)</div>
<div class="line">…</div>
<div class="line"># Shells: &lt;shell indices&gt;</div>
<div class="line"># Shell &lt;2&gt;</div>
<div class="line">Shell 2</div>
<div class="line">…</div>
</div>
</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.proj_shell"></span><div class="section" id="plovasp-proj-shell">
<h3>plovasp.proj_shell<a class="headerlink" href="#plovasp-proj-shell" title="Permalink to this headline">¶</a></h3>
<p>Storage and manipulation on projector shells.</p>
<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.proj_shell.</span></code><code class="descname"><span class="pre">ComplementShell</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">sh_pars</span></span></em>, <em><span class="n"><span class="pre">proj_compl</span></span></em>, <em><span class="n"><span class="pre">nc_flag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ComplementShell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell" title="Permalink to this definition">¶</a></dt>
<dd><p>Container of projectors related to a complement shell.</p>
<p>Parameters:</p>
<ul class="simple">
<li>sh_pars (dict) : shell parameters from the config-file</li>
<li>proj_compl (numpy.array) : array of complement projectors</li>
</ul>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.density_matrix">
<code class="descname"><span class="pre">density_matrix</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">el_struct</span></span></em>, <em><span class="n"><span class="pre">site_diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em><span class="n"><span class="pre">spin_diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ComplementShell.density_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.density_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns occupation matrix/matrices for the shell.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.extract_tmatrices">
<code class="descname"><span class="pre">extract_tmatrices</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">sh_pars</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ComplementShell.extract_tmatrices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.extract_tmatrices" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and interprets transformation matrices provided by the
config-parser.
There are two relevant options in ‘sh_pars’:</p>
<blockquote>
<div>‘tmatrix’  : a transformation matrix applied to all ions in the shell
‘tmatrices’: interpreted as a set of transformation matrices for each ion.</div></blockquote>
<p>If both of the options are present a warning is issued and ‘tmatrices’
supersedes ‘tmatrix’.</p>
<p>Flag ‘self.do_transform’ is introduced for the optimization purposes
to avoid superfluous matrix multiplications.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.local_hamiltonian">
<code class="descname"><span class="pre">local_hamiltonian</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">el_struct</span></span></em>, <em><span class="n"><span class="pre">site_diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em><span class="n"><span class="pre">spin_diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ComplementShell.local_hamiltonian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ComplementShell.local_hamiltonian" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns occupation matrix/matrices for the shell.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.proj_shell.</span></code><code class="descname"><span class="pre">ProjectorShell</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">sh_pars</span></span></em>, <em><span class="n"><span class="pre">proj_raw</span></span></em>, <em><span class="n"><span class="pre">proj_params</span></span></em>, <em><span class="n"><span class="pre">kmesh</span></span></em>, <em><span class="n"><span class="pre">structure</span></span></em>, <em><span class="n"><span class="pre">nc_flag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell" title="Permalink to this definition">¶</a></dt>
<dd><p>Container of projectors related to a specific shell.</p>
<p>The constructor pre-selects a subset of projectors according to
the shell parameters passed from the config-file.</p>
<p>Parameters:</p>
<ul class="simple">
<li>sh_pars (dict) : shell parameters from the config-file</li>
<li>proj_raw (numpy.array) : array of raw projectors</li>
</ul>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.density_matrix">
<code class="descname"><span class="pre">density_matrix</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">el_struct</span></span></em>, <em><span class="n"><span class="pre">site_diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em><span class="n"><span class="pre">spin_diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.density_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.density_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns occupation matrix/matrices for the shell.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.density_of_states">
<code class="descname"><span class="pre">density_of_states</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">el_struct</span></span></em>, <em><span class="n"><span class="pre">emesh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.density_of_states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.density_of_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns projected DOS for the shell.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.extract_projectors">
<code class="descname"><span class="pre">extract_projectors</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">proj_raw</span></span></em>, <em><span class="n"><span class="pre">proj_params</span></span></em>, <em><span class="n"><span class="pre">kmesh</span></span></em>, <em><span class="n"><span class="pre">structure</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.extract_projectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.extract_projectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts projectors for the given shell.</p>
<p>Projectors are selected from the raw-projector array ‘proj_raw’
according to the shell parameters.
If necessary the projectors are transformed usin ‘self.tmatrices’.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.extract_tmatrices">
<code class="descname"><span class="pre">extract_tmatrices</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">sh_pars</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.extract_tmatrices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.extract_tmatrices" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and interprets transformation matrices provided by the
config-parser.
There are two relevant options in ‘sh_pars’:</p>
<blockquote>
<div>‘tmatrix’  : a transformation matrix applied to all ions in the shell
‘tmatrices’: interpreted as a set of transformation matrices for each ion.</div></blockquote>
<p>If both of the options are present a warning is issued and ‘tmatrices’
supersedes ‘tmatrix’.</p>
<p>Flag ‘self.do_transform’ is introduced for the optimization purposes
to avoid superfluous matrix multiplications.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.local_hamiltonian">
<code class="descname"><span class="pre">local_hamiltonian</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">el_struct</span></span></em>, <em><span class="n"><span class="pre">site_diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em><span class="n"><span class="pre">spin_diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.local_hamiltonian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.local_hamiltonian" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns occupation matrix/matrices for the shell.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.select_projectors">
<code class="descname"><span class="pre">select_projectors</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">ib_win</span></span></em>, <em><span class="n"><span class="pre">ib_min</span></span></em>, <em><span class="n"><span class="pre">ib_max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#ProjectorShell.select_projectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.ProjectorShell.select_projectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects a subset of projectors corresponding to a given energy window.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="triqs_dft_tools.converters.plovasp.proj_shell.issue_warning">
<code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.proj_shell.</span></code><code class="descname"><span class="pre">issue_warning</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_shell.html#issue_warning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_shell.issue_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Issues a warning.</p>
</dd></dl>

</div>
<span class="target" id="module-triqs_dft_tools.converters.plovasp.proj_group"></span><div class="section" id="plovasp-proj-group">
<h3>plovasp.proj_group<a class="headerlink" href="#plovasp-proj-group" title="Permalink to this headline">¶</a></h3>
<p>Storage and manipulation of projector groups.</p>
<dl class="py class">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.plovasp.proj_group.</span></code><code class="descname"><span class="pre">ProjectorGroup</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">gr_pars</span></span></em>, <em><span class="n"><span class="pre">shells</span></span></em>, <em><span class="n"><span class="pre">eigvals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Container of projectors defined within a certain energy window.</p>
<p>The constructor selects a subset of projectors according to
the parameters from the config-file (passed in <cite>pars</cite>).</p>
<dl class="docutils">
<dt>Parameters:</dt><dd><ul class="simple">
<li>gr_pars (dict) : group parameters from the config-file</li>
<li>shells ([ProjectorShell]) : array of ProjectorShell objects</li>
<li>eigvals (numpy.array) : array of KS eigenvalues</li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.calc_complement">
<code class="descname"><span class="pre">calc_complement</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">eigvals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.calc_complement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.calc_complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the complement for a group of projectors.</p>
<p>This leads to quadtratic projectors P = &lt;l|n&gt; by using a Gram-Schmidt.</p>
<p>The projector on the orthogonal complement of the existing projectors
<a href="#id33"><span class="problematic" id="id34">|l&gt; is P^u = 1 - sum_l |l&gt;&lt;l|</span></a>
We get candidates for complement projectors by applying P^u to a Bloch
state <a href="#id15"><span class="problematic" id="id16">|</span></a>n&gt;: <a href="#id17"><span class="problematic" id="id18">|</span></a>l*&gt; = P^u <a href="#id19"><span class="problematic" id="id20">|</span></a>n&gt;. For numerical stability we select that Bloch
state which leads to the <a href="#id21"><span class="problematic" id="id22">|</span></a>l*&gt; with the largest norm (that corresponds to
that Bloch state with the smallest overlap with the space spanned by <a href="#id23"><span class="problematic" id="id24">|</span></a>l&gt;)
We normalize <a href="#id25"><span class="problematic" id="id26">|</span></a>l*&gt; and add it to <a href="#id27"><span class="problematic" id="id28">|</span></a>l&gt;. We do so untill we have as many
<a href="#id29"><span class="problematic" id="id30">|</span></a>l&gt; states as we have <a href="#id31"><span class="problematic" id="id32">|</span></a>n&gt; states.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.calc_hk">
<code class="descname"><span class="pre">calc_hk</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">eigvals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.calc_hk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.calc_hk" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate H(k) for a group by applying the projectors P
to the eigenvalues eps.</p>
<p>H_ij(k) = sum_l P*_il eps_l P_lj</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.get_block_matrix_map">
<code class="descname"><span class="pre">get_block_matrix_map</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.get_block_matrix_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.get_block_matrix_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a map from a set of projectors belonging to different shells
and ions onto a set of block projector matrices, each of which is
orthonormalized.</p>
<p>Returns the map and the maximum orbital dimension of the block projector
matrix.</p>
<p>Mapping is defined as a list of ‘block_maps’ corresponding to subsets
of projectors to be orthogonalized. Each subset corresponds to a subset of sites
and spans all orbital indices. defined by ‘bl_map’ as</p>
<blockquote>
<div><dl class="docutils">
<dt>bl_map = [((i1_start, i1_end), (i1_shell, i1_ion)),</dt><dd>((i2_start, i2_end), (i2_shell, i2_ion)),
…],</dd>
</dl>
</div></blockquote>
<p>where <cite>iX_start</cite>, <cite>iX_end</cite> is the range of indices of the block matrix
(in Python convention <cite>iX_end = iX_last + 1</cite>, with <cite>iX_last</cite> being the last index
of the range),
<cite>iX_shell</cite> and <cite>iX_ion</cite> the shell and site indices. The length of the range
should be consistent with ‘nlm’ dimensions of a corresponding shell, i.e.,
<cite>iX_end - iX_start = nlm[iX_shell]</cite>.</p>
<dl class="docutils">
<dt>Consider particular cases:</dt><dd><ol class="arabic">
<li><p class="first">Orthogonality is ensured on each site (NORMION = True).
For each site ‘ion’ we have the following mapping:</p>
<blockquote>
<div><dl class="docutils">
<dt>block_maps = [bl_map[ion] for ion in range(shell.nion)</dt><dd><p>for shell in shells]</p>
</dd>
<dt>bl_map = [((i1_start, i1_end), (i1_shell, ion)),</dt><dd><p>((i2_start, i2_end), (i2_shell, ion)),
…],</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p class="first">Orthogonality is ensured on all sites within the group (NORMION = False).
The mapping:</p>
<blockquote>
<div><p>block_maps = [bl_map]</p>
<dl class="docutils">
<dt>bl_map = [((i1_start, i1_end), (i1_shell, i1_shell.ion1)),</dt><dd><p>((i1_start, i1_end), (i1_shell, i1_shell.ion2)),
…
((i2_start, i2_end), (i2_shell, i2_shell.ion1)),
((i2_start, i2_end), (i2_shell, i2_shell.ion2)),
…],</p>
</dd>
</dl>
</div></blockquote>
</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.nelect_window">
<code class="descname"><span class="pre">nelect_window</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">el_struct</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.nelect_window"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.nelect_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the total number of electrons within the window.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.orthogonalize">
<code class="descname"><span class="pre">orthogonalize</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.orthogonalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.orthogonalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Orthogonalize a group of projectors.</p>
<dl class="docutils">
<dt>There are two options for orthogonalizing projectors:</dt><dd><ol class="arabic simple">
<li>one ensures orthogonality on each site (NORMION = True);</li>
<li>one ensures orthogonality for subsets of sites (NORMION = False),
as, e.g., in cluster calculations.</li>
</ol>
</dd>
</dl>
<p>In order to handle various cases the strategy is first to build a
mapping that selects appropriate blocks of raw projectors, forms a
matrix consisting of these blocks, orthogonalize the matrix, and use
the mapping again to write the orthogonalized projectors back to the
projector arrays. Note that the blocks can comprise several projector arrays
contained in different projector shells.</p>
<p>The construction of block maps is performed in ‘self.get_block_matrix_map()’.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.orthogonalize_projector_matrix">
<code class="descname"><span class="pre">orthogonalize_projector_matrix</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">p_matrix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.orthogonalize_projector_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.orthogonalize_projector_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Orthogonalizes a projector defined by a rectangular matrix <cite>p_matrix</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p_matrix (numpy.array[complex])</strong> : matrix <cite>Nm x Nb</cite>, where <cite>Nm</cite> is</p>
<blockquote>
<div><p>the number of orbitals, <cite>Nb</cite> number of bands</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Orthogonalized projector matrix, initial overlap matrix and its eigenvalues.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.select_bands">
<code class="descname"><span class="pre">select_bands</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">eigvals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/plovasp/proj_group.html#ProjectorGroup.select_bands"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.plovasp.proj_group.ProjectorGroup.select_bands" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a subset of bands lying within a given energy window.
The band energies are assumed to be sorted in an ascending order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>eigvals (numpy.array)</strong> : all eigenvalues</p>
<p><strong>emin, emax (float)</strong> : energy window</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ib_win, nb_min, nb_max</strong> : lowest and highest indices of the selected bands</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="vasp-converter">
<h2>VASP Converter<a class="headerlink" href="#vasp-converter" title="Permalink to this headline">¶</a></h2>
<span class="target" id="refvaspconverter"></span><dl class="py class">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.vasp.</span></code><code class="descname"><span class="pre">VaspConverter</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">parproj_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_parproj_input'</span></span></em>, <em><span class="n"><span class="pre">symmpar_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmpar_input'</span></span></em>, <em><span class="n"><span class="pre">bands_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_bands_input'</span></span></em>, <em><span class="n"><span class="pre">misc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_misc_input'</span></span></em>, <em><span class="n"><span class="pre">transp_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_transp_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">proj_or_hk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'proj'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from VASP output to an hdf5 file that can be used as input for the SumkDFT class.</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.__init__">
<code class="descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">parproj_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_parproj_input'</span></span></em>, <em><span class="n"><span class="pre">symmpar_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmpar_input'</span></span></em>, <em><span class="n"><span class="pre">bands_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_bands_input'</span></span></em>, <em><span class="n"><span class="pre">misc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_misc_input'</span></span></em>, <em><span class="n"><span class="pre">transp_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_transp_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">proj_or_hk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'proj'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Init of the class. Variable filename gives the root of all filenames, e.g. case.ctqmcout, case.h5, and so on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Base name of DFT files.</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created.</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data.</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data.</p>
</div></blockquote>
<p><strong>parproj_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial projector data.</p>
</div></blockquote>
<p><strong>symmpar_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial-projector symmetry data.</p>
</div></blockquote>
<p><strong>bands_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing band data.</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing miscellaneous DFT data.</p>
</div></blockquote>
<p><strong>transp_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing transport data.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote>
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
<p><strong>proj_or_hk</strong> : string, optional</p>
<blockquote class="last">
<div><p>Select scheme to convert between KS bands and localized orbitals.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.convert_dft_input">
<code class="descname"><span class="pre">convert_dft_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.convert_dft_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the input files, and stores the data in the HDFfile</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.convert_misc_input">
<code class="descname"><span class="pre">convert_misc_input</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">bandwin_file</span></span></em>, <em><span class="n"><span class="pre">struct_file</span></span></em>, <em><span class="n"><span class="pre">outputs_file</span></span></em>, <em><span class="n"><span class="pre">misc_subgrp</span></span></em>, <em><span class="n"><span class="pre">SO</span></span></em>, <em><span class="n"><span class="pre">SP</span></span></em>, <em><span class="n"><span class="pre">n_k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.convert_misc_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.convert_misc_input" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Reads input for the band window from bandwin_file, which is case.oubwin,</dt><dd>structure from struct_file, which is case.struct,
symmetries from outputs_file, which is case.outputs.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bandwin_file</strong> : string</p>
<blockquote>
<div><p>filename of .oubwin/up/dn file.</p>
</div></blockquote>
<p><strong>struct_file</strong> : string</p>
<blockquote>
<div><p>filename of .struct file.</p>
</div></blockquote>
<p><strong>outputs_file</strong> : string</p>
<blockquote>
<div><p>filename of .outputs file.</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string</p>
<blockquote>
<div><p>name of the subgroup in which to save</p>
</div></blockquote>
<p><strong>SO</strong> : boolean</p>
<blockquote>
<div><p>spin-orbit switch</p>
</div></blockquote>
<p><strong>SP</strong> : int</p>
<blockquote>
<div><p>spin</p>
</div></blockquote>
<p><strong>n_k</strong> : int</p>
<blockquote class="last">
<div><p>number of k-points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.convert_symmetry_input">
<code class="descname"><span class="pre">convert_symmetry_input</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">ctrl_head</span></span></em>, <em><span class="n"><span class="pre">orbits</span></span></em>, <em><span class="n"><span class="pre">symm_subgrp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.convert_symmetry_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.convert_symmetry_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads input for the symmetrisations from symm_file, which is case.sympar or case.symqmc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ctrl_head</strong> : dict</p>
<blockquote>
<div><p>dictionary of header of .ctrl file</p>
</div></blockquote>
<p><strong>orbits</strong> : list of shells</p>
<blockquote>
<div><p>contains all shells</p>
</div></blockquote>
<p class="last"><strong>symm_subgrp</strong> : name of symmetry group in h5 archive</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.read_data">
<code class="descname"><span class="pre">read_data</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">fh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.read_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.read_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for reading plain data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fh</strong> : file object</p>
<blockquote class="last">
<div><p>file object which is read in.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.vasp.VaspConverter.read_header_and_data">
<code class="descname"><span class="pre">read_header_and_data</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/vasp.html#VaspConverter.read_header_and_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.vasp.VaspConverter.read_header_and_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a file and returns a JSON-header and the generator for the plain data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote class="last">
<div><p>file name of the file to read.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="elk-converter">
<h2>Elk Converter<a class="headerlink" href="#elk-converter" title="Permalink to this headline">¶</a></h2>
<span class="target" id="refelkconverter"></span><dl class="py class">
<dt id="triqs_dft_tools.converters.elk.ElkConverter">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.elk.</span></code><code class="descname"><span class="pre">ElkConverter</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">bc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_bandchar_input'</span></span></em>, <em><span class="n"><span class="pre">symmpar_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmpar_input'</span></span></em>, <em><span class="n"><span class="pre">bands_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_bands_input'</span></span></em>, <em><span class="n"><span class="pre">misc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_misc_input'</span></span></em>, <em><span class="n"><span class="pre">transp_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_transp_input'</span></span></em>, <em><span class="n"><span class="pre">fs_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_fs_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion from Elk output to an hdf5 file that can be used as input for the SumkDFT class.</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.__init__">
<code class="descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">hdf_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">dft_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_input'</span></span></em>, <em><span class="n"><span class="pre">symmcorr_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmcorr_input'</span></span></em>, <em><span class="n"><span class="pre">bc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_bandchar_input'</span></span></em>, <em><span class="n"><span class="pre">symmpar_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_symmpar_input'</span></span></em>, <em><span class="n"><span class="pre">bands_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_bands_input'</span></span></em>, <em><span class="n"><span class="pre">misc_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_misc_input'</span></span></em>, <em><span class="n"><span class="pre">transp_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_transp_input'</span></span></em>, <em><span class="n"><span class="pre">fs_subgrp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dft_fs_input'</span></span></em>, <em><span class="n"><span class="pre">repacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Base name of DFT files.</p>
</div></blockquote>
<p><strong>hdf_filename</strong> : string, optional</p>
<blockquote>
<div><p>Name of hdf5 archive to be created.</p>
</div></blockquote>
<p><strong>dft_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing necessary DFT data.</p>
</div></blockquote>
<p><strong>symmcorr_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing correlated-shell symmetry data.</p>
</div></blockquote>
<p><strong>parproj_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial projector data.</p>
</div></blockquote>
<p><strong>symmpar_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing partial-projector symmetry data.</p>
</div></blockquote>
<p><strong>bands_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing band data.</p>
</div></blockquote>
<p><strong>misc_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing miscellaneous DFT data.</p>
</div></blockquote>
<p><strong>transp_subgrp</strong> : string, optional</p>
<blockquote>
<div><p>Name of subgroup storing transport data.</p>
</div></blockquote>
<p><strong>repacking</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Does the hdf5 archive need to be repacked to save space?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.check_dens">
<code class="descname"><span class="pre">check_dens</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">n_k</span></span></em>, <em><span class="n"><span class="pre">nstsv</span></span></em>, <em><span class="n"><span class="pre">occ</span></span></em>, <em><span class="n"><span class="pre">bz_weights</span></span></em>, <em><span class="n"><span class="pre">n_spin_blocs</span></span></em>, <em><span class="n"><span class="pre">band_window</span></span></em>, <em><span class="n"><span class="pre">SO</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.check_dens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.check_dens" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the charge density below the correlated energy window and up to the Fermi level</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.convert_bands_input">
<code class="descname"><span class="pre">convert_bands_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.convert_bands_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.convert_bands_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the bands_subgrp in the hdf5 archive.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.convert_dft_input">
<code class="descname"><span class="pre">convert_dft_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.convert_dft_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.convert_dft_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the</p>
<ul class="simple">
<li>dft_subgrp</li>
<li>symmcorr_subgrp</li>
<li>misc_subgrp</li>
</ul>
<p>in the hdf5 archive.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.convert_fs_input">
<code class="descname"><span class="pre">convert_fs_input</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.convert_fs_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.convert_fs_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the appropriate files and stores the data for the FS_subgrp in the hdf5 archive.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.dft_band_characters">
<code class="descname"><span class="pre">dft_band_characters</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.dft_band_characters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.dft_band_characters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in the band characters generated in Elk to be used for
PDOS and band character band structure plots.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.rotsym">
<code class="descname"><span class="pre">rotsym</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">n_shells</span></span></em>, <em><span class="n"><span class="pre">shells</span></span></em>, <em><span class="n"><span class="pre">n_symm</span></span></em>, <em><span class="n"><span class="pre">ind</span></span></em>, <em><span class="n"><span class="pre">basis</span></span></em>, <em><span class="n"><span class="pre">T</span></span></em>, <em><span class="n"><span class="pre">mat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.rotsym"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.rotsym" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotates the symmetry matrices into basis defined by the T unitary matrix
the outputted projectors are rotated to the irreducible representation
and then reduced in size to the orbitals used to construct the projectors.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.sort_dft_eigvalues">
<code class="descname"><span class="pre">sort_dft_eigvalues</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">n_spin_blocs</span></span></em>, <em><span class="n"><span class="pre">SO</span></span></em>, <em><span class="n"><span class="pre">n_k</span></span></em>, <em><span class="n"><span class="pre">n_orbitals</span></span></em>, <em><span class="n"><span class="pre">band_window</span></span></em>, <em><span class="n"><span class="pre">en</span></span></em>, <em><span class="n"><span class="pre">energy_unit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.sort_dft_eigvalues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.sort_dft_eigvalues" title="Permalink to this definition">¶</a></dt>
<dd><p>Rearranges the energy eigenvalue arrays into TRIQS format</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elk.ElkConverter.update_so_quatities">
<code class="descname"><span class="pre">update_so_quatities</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">n_shells</span></span></em>, <em><span class="n"><span class="pre">shells</span></span></em>, <em><span class="n"><span class="pre">n_corr_shells</span></span></em>, <em><span class="n"><span class="pre">corr_shells</span></span></em>, <em><span class="n"><span class="pre">n_inequiv_shells</span></span></em>, <em><span class="n"><span class="pre">dim_reps</span></span></em>, <em><span class="n"><span class="pre">n_k</span></span></em>, <em><span class="n"><span class="pre">n_symm</span></span></em>, <em><span class="n"><span class="pre">n_orbitals</span></span></em>, <em><span class="n"><span class="pre">proj_mat</span></span></em>, <em><span class="n"><span class="pre">T</span></span></em>, <em><span class="n"><span class="pre">su2</span></span></em>, <em><span class="n"><span class="pre">mat</span></span></em>, <em><span class="n"><span class="pre">sym</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elk.html#ElkConverter.update_so_quatities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elk.ElkConverter.update_so_quatities" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the array sizes and elements for arrays used in spin-orbit coupled calculations.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="elk-tools">
<h2>Elk Tools<a class="headerlink" href="#elk-tools" title="Permalink to this headline">¶</a></h2>
<span class="target" id="refelktools"></span><dl class="py class">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.elktools.</span></code><code class="descname"><span class="pre">ElkConverterTools</span></code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools" title="Permalink to this definition">¶</a></dt>
<dd><p>Conversion Tools required to help covert Elk outputs into the TRIQS format.</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.__init__">
<code class="descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py attribute">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.__weakref__">
<code class="descname"><span class="pre">__weakref__</span></code><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.axangsu2">
<code class="descname"><span class="pre">axangsu2</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">v</span></span></em>, <em><span class="n"><span class="pre">th</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.axangsu2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.axangsu2" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the rotation SU(2) matrix - see Elk’s axangsu2 routine.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.gen_perm">
<code class="descname"><span class="pre">gen_perm</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">nsym</span></span></em>, <em><span class="n"><span class="pre">ns</span></span></em>, <em><span class="n"><span class="pre">na</span></span></em>, <em><span class="n"><span class="pre">natmtot</span></span></em>, <em><span class="n"><span class="pre">symmat</span></span></em>, <em><span class="n"><span class="pre">tr</span></span></em>, <em><span class="n"><span class="pre">atpos</span></span></em>, <em><span class="n"><span class="pre">epslat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.gen_perm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.gen_perm" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the atom permutations per symmetry.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.rotaxang">
<code class="descname"><span class="pre">rotaxang</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">rot</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.rotaxang"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.rotaxang" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine determines the axis of rotation vector (v) and the angle of rotation (th).
If R corresponds to an improper rotation then only the proper part is used and the determinant
is set to -1. The rotation convention follows the “right-hand rule”. See Elk’s rotaxang
routine.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.symlat_to_complex_harmonics">
<code class="descname"><span class="pre">symlat_to_complex_harmonics</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">nsym</span></span></em>, <em><span class="n"><span class="pre">n_shells</span></span></em>, <em><span class="n"><span class="pre">symlat</span></span></em>, <em><span class="n"><span class="pre">shells</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.symlat_to_complex_harmonics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.symlat_to_complex_harmonics" title="Permalink to this definition">¶</a></dt>
<dd><p>This calculates the Elk (crystal) symmetries in complex spherical harmonics
This follows the methodology used in Elk’s rotzflm, ylmrot and ylmroty routines.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.v3frac">
<code class="descname"><span class="pre">v3frac</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">v</span></span></em>, <em><span class="n"><span class="pre">eps</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.v3frac"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.v3frac" title="Permalink to this definition">¶</a></dt>
<dd><p>This finds the fractional part of 3-vector v components. This uses the
same method as in Elk (version 6.2.8) r3fac subroutine.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.ylmrot">
<code class="descname"><span class="pre">ylmrot</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">p</span></span></em>, <em><span class="n"><span class="pre">angi</span></span></em>, <em><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.ylmrot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.ylmrot" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates the rotation matrix in complex spherical harmonics for l.
THIS HAS ONLY BEEN TESTED FOR l=2.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.ylmroty">
<code class="descname"><span class="pre">ylmroty</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">beta</span></span></em>, <em><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.ylmroty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.ylmroty" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the rotation matrix around the y-axis with angle beta.
This uses the same real matrix formual as in Elk - see Elk’s manual for ylmroty description</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.ElkConverterTools.zyz_euler">
<code class="descname"><span class="pre">zyz_euler</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">rot</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/elk_converter_tools.html#ElkConverterTools.zyz_euler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.ElkConverterTools.zyz_euler" title="Permalink to this definition">¶</a></dt>
<dd><p>This calculates the Euler angles of matrix rot in the y-convention.
See Elk’s roteuler routine.
This will be made redundent when TRIQS uses scipy version 1.4+</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.elktools.</span></code><code class="descname"><span class="pre">readElkfiles</span></code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the Elk output files for the elk_converter.py routines.</p>
<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.__init__">
<code class="descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py attribute">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.__weakref__">
<code class="descname"><span class="pre">__weakref__</span></code><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.determine_T">
<code class="descname"><span class="pre">determine_T</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.determine_T"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.determine_T" title="Permalink to this definition">¶</a></dt>
<dd><p>Current version calculates the transformation matrix T to convert the inputs from spherical
harmonics to the cubic basis (as used in TRIQS and Wien2k).
This routine is currently very similar to spherical_to_cubic in the TRIQS library.
This routine can be extended to include other unitary rotation matrices</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.determine_rep">
<code class="descname"><span class="pre">determine_rep</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">ish</span></span></em>, <em><span class="n"><span class="pre">ishin</span></span></em>, <em><span class="n"><span class="pre">corr_shells</span></span></em>, <em><span class="n"><span class="pre">basis</span></span></em>, <em><span class="n"><span class="pre">ind</span></span></em>, <em><span class="n"><span class="pre">n_reps</span></span></em>, <em><span class="n"><span class="pre">dim_reps</span></span></em>, <em><span class="n"><span class="pre">irep</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.determine_rep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.determine_rep" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the irreducible representation used for projection calculation.
Only for Cubic harmonics at the moment</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_bc">
<code class="descname"><span class="pre">read_bc</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_bc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_bc" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the ELK generated band characters from BC.OUT</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_eig">
<code class="descname"><span class="pre">read_eig</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.OUT'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_eig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_eig" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of EIGVAL.OUT and EFERMI.OUT</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_elk_file">
<code class="descname"><span class="pre">read_elk_file</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">to_replace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_elk_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_elk_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields all numbers in the Fortran file as float, with possible replacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Name of Fortran-produced file.</p>
</div></blockquote>
<p><strong>to_replace</strong> : dict of str:str</p>
<blockquote class="last">
<div><p>Dictionary defining old_char:new_char.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_elk_file2">
<code class="descname"><span class="pre">read_elk_file2</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">to_replace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_elk_file2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_elk_file2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields all numbers in the Fortran file as float, with possible replacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Name of Fortran-produced file.</p>
</div></blockquote>
<p><strong>to_replace</strong> : dict of str:str</p>
<blockquote class="last">
<div><p>Dictionary defining old_char:new_char.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_geometry">
<code class="descname"><span class="pre">read_geometry</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_geometry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of GEOMETRY.OUT</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_kpoints">
<code class="descname"><span class="pre">read_kpoints</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.OUT'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_kpoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_kpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of KPOINTS.OUT</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_proj">
<code class="descname"><span class="pre">read_proj</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">dft_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_proj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_proj" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of PROJ.OUT and returns them for general use.</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.read_projector">
<code class="descname"><span class="pre">read_projector</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">shell</span></span></em>, <em><span class="n"><span class="pre">n_spin_blocks</span></span></em>, <em><span class="n"><span class="pre">ish</span></span></em>, <em><span class="n"><span class="pre">proj_mat</span></span></em>, <em><span class="n"><span class="pre">ind</span></span></em>, <em><span class="n"><span class="pre">T</span></span></em>, <em><span class="n"><span class="pre">basis</span></span></em>, <em><span class="n"><span class="pre">filext</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.read_projector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.read_projector" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads the contents of WANPROJ_L**_S**_A****.OUT</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.readlat">
<code class="descname"><span class="pre">readlat</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.readlat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.readlat" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the symmetries in lattice coordinates</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.readsym">
<code class="descname"><span class="pre">readsym</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.readsym"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.readsym" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in the (crystal) symmetries in lattice coordinates</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.split_string">
<code class="descname"><span class="pre">split_string</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.split_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.split_string" title="Permalink to this definition">¶</a></dt>
<dd><p>This removes the excess information after ‘:’ of the string read in from the file</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.split_string2">
<code class="descname"><span class="pre">split_string2</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">line</span></span></em>, <em><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.split_string2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.split_string2" title="Permalink to this definition">¶</a></dt>
<dd><p>This removes the excess information after ‘str’ of the string read in from the file</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.elktools.readElkfiles.split_string3">
<code class="descname"><span class="pre">split_string3</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/elktools/readElkfiles.html#readElkfiles.split_string3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.elktools.readElkfiles.split_string3" title="Permalink to this definition">¶</a></dt>
<dd><p>This removes the excess information after ‘(‘ of the string read in from the file</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="converter-tools">
<h2>Converter Tools<a class="headerlink" href="#converter-tools" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools">
<em class="property"><span class="pre">class</span> </em><code class="descclassname"><span class="pre">triqs_dft_tools.converters.converter_tools.</span></code><code class="descname"><span class="pre">ConverterTools</span></code><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.__init__">
<code class="descname"><span class="pre">__init__</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py attribute">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.__weakref__">
<code class="descname"><span class="pre">__weakref__</span></code><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.det_shell_equivalence">
<code class="descname"><span class="pre">det_shell_equivalence</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">corr_shells</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools.det_shell_equivalence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.det_shell_equivalence" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the equivalence of correlated shells.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>corr_shells</strong> : list of dicts</p>
<blockquote>
<div><p>See documentation of necessary hdf5 elements.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>n_inequiv_shells</strong> : integer</p>
<blockquote>
<div><p>Number of inequivalent shells.</p>
</div></blockquote>
<p><strong>corr_to_inequiv</strong> : list</p>
<blockquote>
<div><p>Mapping between correlated shell index and inequivalent shell index.
corr_to_inequiv(i_corr_shells) = i_inequiv_shells</p>
</div></blockquote>
<p><strong>inequiv_to_corr</strong> : list</p>
<blockquote class="last">
<div><p>Mapping between inequivalent shell index and correlated shell index.
inequiv_to_corr(i_inequiv_shells) = i_corr_shells</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.read_fortran_file">
<code class="descname"><span class="pre">read_fortran_file</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">filename</span></span></em>, <em><span class="n"><span class="pre">to_replace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools.read_fortran_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.read_fortran_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields all numbers in the Fortran file as float, with possible replacements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<blockquote>
<div><p>Name of Fortran-produced file.</p>
</div></blockquote>
<p><strong>to_replace</strong> : dict of str:str</p>
<blockquote class="last">
<div><p>Dictionary defining old_char:new_char.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="triqs_dft_tools.converters.converter_tools.ConverterTools.repack">
<code class="descname"><span class="pre">repack</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/triqs_dft_tools/converters/converter_tools.html#ConverterTools.repack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#triqs_dft_tools.converters.converter_tools.ConverterTools.repack" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the h5repack routine in order to reduce the file size of the hdf5 archive.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="sumk_dft.html" class="btn btn-neutral float-right" title="SumK DFT" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="h5structure.html" class="btn btn-neutral float-left" title="hdf5 structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2011-2021.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>