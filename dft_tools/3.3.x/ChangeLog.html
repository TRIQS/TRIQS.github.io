<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Changelog &mdash; TRIQS DFTTools  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=f7f783a0" />
      <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />

  
    <link rel="shortcut icon" href="_static/triqs_favicon.ico"/>
  
        <script src="_static/jquery.js?v=8dae8fb0"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="About" href="about.html" />
    <link rel="prev" title="Reporting issues" href="issues.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #7E588A" >

          
          
          <a href="index.html" class="icon icon-home">
            TRIQS DFTTools
          </a>
              <div class="version">
                3.3.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#packaged-versions-of-dfttools">Packaged Versions of DFTTools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#ubuntu-debian-packages">Ubuntu Debian packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#anaconda-experimental">Anaconda (experimental)</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#docker">Docker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#compiling-dfttools-from-source">Compiling DFTTools from source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#installation-steps">Installation steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#important-note-for-fcsc-dft-dmft-calculations">Important note for FCSC DFT+DMFT calculations</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#installation-steps-for-the-use-with-wien2k-version-14-2-and-older">Installation steps for the use with WIEN2K version 14.2 and older</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#version-compatibility">Version compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#custom-cmake-options">Custom CMake options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#basic-notions">Basic notions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basicnotions/first.html">What you should know</a><ul>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/first.html#what-is-dfttools">What is <strong class="program">DFTTools</strong>?</a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/first.html#understand-the-philosophy-of-dfttools">Understand the philosophy of <strong class="program">DFTTools</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/first.html#learn-how-to-use-triqs-library-and-the-cthyb-solver">Learn how to use TRIQS library (and the CTHYB solver)</a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/first.html#analytic-continuation">Analytic Continuation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="basicnotions/dft_dmft.html">Introduction to DFT+DMFT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/dft_dmft.html#density-functional-theory-in-a-very-small-nutshell">Density-functional theory in a (very small) nutshell</a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/dft_dmft.html#from-dft-to-dmft">From DFT to DMFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/dft_dmft.html#using-projective-wannier-functions-for-dmft">Using projective Wannier functions for DMFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/dft_dmft.html#full-charge-self-consistency">Full charge self-consistency</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="basicnotions/structure.html">Structure of <strong class="program">DFTTools</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/structure.html#the-interface-layer">The interface layer</a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/structure.html#the-dmft-calculation">The DMFT calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/structure.html#full-charge-self-consistency">Full charge self consistency</a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/structure.html#post-processing">Post-processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="basicnotions/structure.html#executing-your-python-scripts">Executing your python scripts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#construction-of-local-orbitals-from-dft">Construction of local orbitals from DFT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide/conversion.html">Supported interfaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide/conv_wien2k.html">Interface with Wien2k</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/conv_vasp.html">Interface with VASP</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/conv_elk.html">Interface with Elk</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/conv_W90.html">Interface with Wannier90</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/conv_generalhk.html">A general H(k)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="guide/conversion.html#mpi-issues">MPI issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="guide/conversion.html#interfaces-to-other-packages">Interfaces to other packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="h5structure.html">standardized hdf5 structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="h5structure.html#groups-and-their-formats">groups and their formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="h5structure.html#general-and-simple-h-k-converter">General and simple H(k) Converter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#dft-dmft">DFT+DMFT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide/dftdmft_singleshot.html">Single-shot DFT+DMFT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide/dftdmft_singleshot.html#initialization-of-the-calculation">Initialization of the calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/dftdmft_singleshot.html#setting-up-the-impurity-solver">Setting up the impurity solver</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/dftdmft_singleshot.html#doing-the-dmft-loop">Doing the DMFT loop</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/dftdmft_singleshot.html#restarting-a-calculation">Restarting a calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/dftdmft_singleshot.html#mixing">Mixing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="guide/dftdmft_selfcons.html">Full charge self-consistency</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide/dftdmft_selfcons.html#wien2k-dmftproj">Wien2k + dmftproj</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/dftdmft_selfcons.html#vasp-plovasp">VASP + PLOVasp</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/dftdmft_selfcons.html#elk">Elk</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/dftdmft_selfcons.html#other-dft-codes">Other DFT codes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#advanced-topics">Advanced Topics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide/blockstructure.html">Manipulating the Green’s functions block structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide/blockstructure.html#creating-a-block-structure-and-green-s-function">Creating a block structure and Green’s function</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/blockstructure.html#the-solver-structure">The <em>solver</em> structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/blockstructure.html#picking-orbitals">Picking orbitals</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/blockstructure.html#basis-rotations">Basis rotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/blockstructure.html#diagonal-approximation">Diagonal approximation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="guide/BasisRotation.html">Automatic basis rotations in DFT+DMFT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide/BasisRotation.html#setting-up-the-initial-solver-structure-from-dft">Setting up the initial solver structure from DFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/BasisRotation.html#finding-the-transformation-matrix">Finding the transformation matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/BasisRotation.html#automatic-transformation-during-the-dmft-loop">Automatic transformation during the DMFT loop</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="guide/soc.html">Spin-orbit coupled calculations (single-shot)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide/soc.html#treatment-of-soc-in-dft">Treatment of SOC in DFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/soc.html#treatment-of-soc-in-wien2k">Treatment of SOC in Wien2k</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/soc.html#treatment-of-soc-in-elk">Treatment of SOC in Elk</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/soc.html#after-generating-the-projectors">After generating the projectors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#postprocessing">Postprocessing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide/analysis.html">Tools for analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide/analysis.html#initialisation">Initialisation</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/analysis.html#density-of-states">Density of states</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/analysis.html#band-resolved-density-matrices">Band resolved density matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/analysis.html#momentum-resolved-spectral-function-with-real-frequency-self-energy">Momentum resolved spectral function (with real-frequency self energy)</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/analysis.html#energy-contours-of-the-k-resolved-spectral-function">Energy contours of the k-resolved Spectral function</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/analysis.html#partial-charges">Partial charges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="guide/transport.html">Transport calculations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="guide/transport.html#formalism">Formalism</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/transport.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/transport.html#using-the-transport-code">Using the transport code</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/transport.html#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="guide/transport.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#reference-manual">Reference manual</a><ul>
<li class="toctree-l3"><a class="reference internal" href="_python_api/triqs_dft_tools.block_structure.html">block_structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.block_structure.BlockStructure.html">triqs_dft_tools.block_structure.BlockStructure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_python_api/triqs_dft_tools.converters.html">converters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.converters.converter_tools.html">converter_tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.converters.elk.html">elk</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.converters.elktools.html">elktools</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.converters.hk.html">hk</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.converters.plovasp.html">plovasp</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.converters.vasp.html">vasp</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.converters.wannier90.html">wannier90</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.converters.wien2k.html">wien2k</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft.html">sumk_dft</a><ul>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft.SumkDFT.html">triqs_dft_tools.sumk_dft.SumkDFT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_tools.html">sumk_dft_tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_tools.SumkDFTTools.html">triqs_dft_tools.sumk_dft_tools.SumkDFTTools</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.html">sumk_dft_transport</a><ul>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.cellvolume.html">triqs_dft_tools.sumk_dft_transport.cellvolume</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.conductivity_and_seebeck.html">triqs_dft_tools.sumk_dft_transport.conductivity_and_seebeck</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.fermi_dis.html">triqs_dft_tools.sumk_dft_transport.fermi_dis</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.init_spectroscopy.html">triqs_dft_tools.sumk_dft_transport.init_spectroscopy</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.read_transport_input_from_hdf.html">triqs_dft_tools.sumk_dft_transport.read_transport_input_from_hdf</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.recompute_w90_input_on_different_mesh.html">triqs_dft_tools.sumk_dft_transport.recompute_w90_input_on_different_mesh</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.transport_coefficient.html">triqs_dft_tools.sumk_dft_transport.transport_coefficient</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.transport_distribution.html">triqs_dft_tools.sumk_dft_transport.transport_distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.transport_function.html">triqs_dft_tools.sumk_dft_transport.transport_function</a></li>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.sumk_dft_transport.write_output_to_hdf.html">triqs_dft_tools.sumk_dft_transport.write_output_to_hdf</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_python_api/triqs_dft_tools.symmetry.html">symmetry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.symmetry.Symmetry.html">triqs_dft_tools.symmetry.Symmetry</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_python_api/triqs_dft_tools.trans_basis.html">trans_basis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.trans_basis.TransBasis.html">triqs_dft_tools.trans_basis.TransBasis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="_python_api/triqs_dft_tools.util.html">util</a><ul>
<li class="toctree-l4"><a class="reference internal" href="_python_api/triqs_dft_tools.util.compute_DC_from_density.html">triqs_dft_tools.util.compute_DC_from_density</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#faqs">FAQs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="faqs/faqs.html">Frequently-Asked Questions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="faqs/faqs.html#wien2k-fermi-error-when-running-x-lapw2-almd-band">wien2k: FERMI ERROR when running <cite>x lapw2 -almd -band</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="faqs/faqs.html#how-do-i-plot-the-output-of-spaghettis">How do I plot the output of <cite>spaghettis</cite>?</a></li>
<li class="toctree-l4"><a class="reference internal" href="faqs/faqs.html#x-optic-does-not-write-a-case-pmat-file">x optic does not write a case.pmat file</a></li>
<li class="toctree-l4"><a class="reference internal" href="faqs/faqs.html#how-do-i-get-real-frequency-quantities">How do I get real-frequency quantities?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#a-simple-example-srvo3">A simple example: SrVO3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/srvo3.html">DFT (Wien2k) and Wannier orbitals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/srvo3.html#dft-setup">DFT setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/srvo3.html#wannier-orbitals">Wannier orbitals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/srvo3.html#the-dmft-calculation">The DMFT calculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/srvo3.html#loading-modules">Loading modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/srvo3.html#initializing-sumkdft">Initializing SumkDFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/srvo3.html#initializing-the-solver">Initializing the solver</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/srvo3.html#dmft-cycle">DMFT cycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/srvo3.html#tail-fit-parameters">Tail fit parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#basis-rotations-sr2mgoso6-without-soc">Basis rotations: Sr2MgOsO6 without SOC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/sr2mgoso6_nosoc.html">DFT (Wien2k) and Wannier orbitals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_nosoc.html#dft-setup">DFT setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_nosoc.html#wannier-orbitals">Wannier orbitals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/sr2mgoso6_nosoc.html#the-dmft-calculation">The DMFT calculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_nosoc.html#rotating-the-basis">Rotating the basis</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_nosoc.html#the-interaction-hamiltonian">The interaction Hamiltonian</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_nosoc.html#the-dmft-loop-with-automatic-basis-rotations">The DMFT loop with automatic basis rotations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#sr2mgoso6-with-soc-non-magnetic">Sr2MgOsO6 with SOC (non-magnetic)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/sr2mgoso6_soc.html">DFT (Wien2k) and Wannier orbitals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_soc.html#dft-setup">DFT setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_soc.html#wannier-orbitals">Wannier orbitals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/sr2mgoso6_soc.html#the-dmft-calculation">The DMFT calculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_soc.html#rotating-the-basis">Rotating the basis</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_soc.html#the-interaction-hamiltonian">The interaction Hamiltonian</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/sr2mgoso6_soc.html#the-dmft-loop-with-automatic-basis-rotations">The DMFT loop with automatic basis rotations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#full-charge-self-consistency-with-wien2k-gamma-ce">Full charge self consistency with Wien2k: <span class="math notranslate nohighlight">\(\gamma\)</span>-Ce</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/ce-gamma-fscs_wien2k.html">DFT+DMFT tutorial: Ce with Hubbard-I approximation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/ce-gamma-fscs_wien2k.html#wien2k-setup">Wien2k setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/ce-gamma-fscs_wien2k.html#wannier-orbitals-dmftproj">Wannier orbitals: dmftproj</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/ce-gamma-fscs_wien2k.html#dmft-setup-hubbard-i-calculations-in-triqs">DMFT setup: Hubbard-I calculations in TRIQS</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/ce-gamma-fscs_wien2k.html#fully-charge-self-consistent-dft-dmft-calculation">Fully charge self-consistent DFT+DMFT calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/ce-gamma-fscs_wien2k.html#post-processing-and-data-analysis">Post-processing and data analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#vasp-interface-examples">VASP interface examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.html#simple-converter-example-srvo3">Simple Converter example: SrVO3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/svo_vasp/svo_notebook.html">VASP setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/svo_vasp/svo_notebook.html#PLOVASP">PLOVASP</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/svo_vasp/svo_notebook.html#Converting-to-hdf5-file">Converting to hdf5 file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorials.html#complex-example-nio">Complex example: NiO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/nio_csc_vasp/nio_csc.html">DFT and projections</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/nio_csc_vasp/nio_csc.html#dmft">DMFT</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/nio_csc_vasp/nio_csc.html#charge-self-consistent-dmft">Charge self-consistent DMFT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#elk-interface-examples">Elk interface examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials.html#converter-example-srvo3">Converter example: SrVO3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/svo_elk/srvo3.html">Elk to TRIQS</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/svo_elk/srvo3.html#the-dmft-calculation">The DMFT calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/svo_elk/srvo3.html#triqs-to-elk-fully-charge-self-consistent-dft-dmft">TRIQS to Elk (Fully Charge Self-Consistent DFT+DMFT)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="issues.html">Reporting issues</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#version-3-3-1">Version 3.3.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="#doc">Doc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-3-3-0">Version 3.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="#feat">feat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build">build</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">doc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-3-2-1">Version 3.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-3-2-0">Version 3.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="#elk">Elk</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vasp">Vasp</a></li>
<li class="toctree-l3"><a class="reference internal" href="#w90-qe">w90 + QE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clean">clean</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-3-1-1">Version 3.1.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">General</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-3-1-0">Version 3.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wannier90-converter">Wannier90 Converter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#change-in-gf-struct">Change in gf_struct</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cmake">Cmake</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-changes">Other changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-3-0-0">Version 3.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#restructuring">Restructuring</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dependency-management">Dependency Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Other Changes:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-2-1">Version 2.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-2-0">Version 2.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-1-x-changes-since-1-4">Version 2.1.x (changes since 1.4)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#authors-quotation">Authors &amp; Quotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#disclaimer">Disclaimer</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #7E588A" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TRIQS DFTTools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Changelog</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/ChangeLog.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section class="tex2jax_ignore mathjax_ignore" id="changelog">
<span id="id1"></span><h1>Changelog<a class="headerlink" href="#changelog" title="Link to this heading"></a></h1>
<section id="version-3-3-1">
<h2>Version 3.3.1<a class="headerlink" href="#version-3-3-1" title="Link to this heading"></a></h2>
<p>DFTTools Version 3.3.1 is a patch release that restores compatibility
against recent numpy and scipy versions.</p>
<p>We thank all contributors: Sophie Beck, Alexander Hampel, Nils Wentzell</p>
<p>Find below an itemized list of changes in this release.</p>
<section id="general">
<h3>General<a class="headerlink" href="#general" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>fix compatibility against numpy 2.0</p></li>
<li><p>replace numpy.lib.pad with numpy.pad</p></li>
<li><p>use scipy.integrate.simpson instead of scipy.integrate.simps (#255)</p></li>
<li><p>clean-up of optics part using wannierberri</p></li>
</ul>
</section>
<section id="doc">
<h3>Doc<a class="headerlink" href="#doc" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>update list of DFT codes on landing page</p></li>
</ul>
</section>
</section>
<section id="version-3-3-0">
<h2>Version 3.3.0<a class="headerlink" href="#version-3-3-0" title="Link to this heading"></a></h2>
<p>DFTTools Version 3.3.0 is a release that</p>
<ul class="simple">
<li><p>is compatible with TRIQS 3.3.x</p></li>
<li><p>includes the latest app4triqs changes</p></li>
<li><p>introduce <code class="docutils literal notranslate"><span class="pre">dc_imp_dyn</span></code> attribute in sumk object to store dynamic part of DC potential</p></li>
<li><p>allows using MeshDLRImFreq as Sumk mesh</p></li>
<li><p>improved standard behavior of block struct (#248) (see below for details)</p></li>
</ul>
<p>We thank all contributors: Sophie Beck, Thomas Hahn, Alexander Hampel, Henri Menke, Dylan Simon, Nils Wentzell</p>
<p>Find below an itemized list of changes in this release.</p>
<section id="id2">
<h3>General<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>fix settings environment variables</p></li>
<li><p>remove constrains on mpi size with vasp</p></li>
</ul>
</section>
<section id="feat">
<h3>feat<a class="headerlink" href="#feat" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>allow dict/np.ndarrays input in <code class="docutils literal notranslate"><span class="pre">symm_deg_gf</span></code></p></li>
<li><p>introduce <code class="docutils literal notranslate"><span class="pre">dc_imp_dyn</span></code> attribute in sumk object to store dynamic part of DC potential</p></li>
<li><p>allows using MeshDLRImFreq as Sumk mesh</p></li>
<li><p>previously the default <code class="docutils literal notranslate"><span class="pre">gf_struct_solver</span></code> in a initialized blockstructure had keys <code class="docutils literal notranslate"><span class="pre">up</span></code> / <code class="docutils literal notranslate"><span class="pre">down</span></code>, inconsistent with the default behavior after running <code class="docutils literal notranslate"><span class="pre">analyse_block_structure</span></code>: <code class="docutils literal notranslate"><span class="pre">up_0</span></code> / <code class="docutils literal notranslate"><span class="pre">down_0</span></code>. Now the default solver structure always has the <code class="docutils literal notranslate"><span class="pre">_0</span></code>
in the key.</p></li>
<li><p>old behavior resulted in error when analyse_block_structure was called
twice</p></li>
<li><p>to correctly use <code class="docutils literal notranslate"><span class="pre">analyse_block_structure</span></code> now use <code class="docutils literal notranslate"><span class="pre">extract_G_loc(transform_to_solver_blocks=False)</span></code></p></li>
<li><p>changed <code class="docutils literal notranslate"><span class="pre">density_matrix</span></code> function to use directly <code class="docutils literal notranslate"><span class="pre">extract_G_loc()</span></code> if <code class="docutils literal notranslate"><span class="pre">using_gf</span></code> is selected as option.</p></li>
<li><p>print deprecation warning in <code class="docutils literal notranslate"><span class="pre">density_matrix</span></code>, since this can be achieved via <code class="docutils literal notranslate"><span class="pre">extract_G_loc</span></code> and <code class="docutils literal notranslate"><span class="pre">[G.density()</span> <span class="pre">for</span> <span class="pre">G</span> <span class="pre">in</span> <span class="pre">Gloc]</span></code></p></li>
<li><p>new function <code class="docutils literal notranslate"><span class="pre">density_matrix_using_point_integration()</span></code> for old point integration method option</p></li>
<li><p>enforce in <code class="docutils literal notranslate"><span class="pre">analys_block_structure</span></code> that input dm or G is list with length of <code class="docutils literal notranslate"><span class="pre">n_corr_shells</span></code></p></li>
<li><p>correct doc string for how include_shells are given</p></li>
</ul>
</section>
<section id="build">
<h3>build<a class="headerlink" href="#build" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>bump actions/cache restore/save to version 4</p></li>
<li><p>fix intel f2py build of elk converter (#249)</p></li>
<li><p>fix MacOS X build: add ninja as req</p></li>
<li><p>py312 add setuptools and meson as explicit dep for f2py</p></li>
<li><p>add packaging directory to cmake and set version automatically</p></li>
</ul>
</section>
<section id="id3">
<h3>doc<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>add util module to autodoc</p></li>
</ul>
</section>
</section>
<section id="version-3-2-1">
<h2>Version 3.2.1<a class="headerlink" href="#version-3-2-1" title="Link to this heading"></a></h2>
<p>DFTTools Version 3.2.1 is a patch release that contains a few bug fixes. The following non breaking changes have been made:</p>
<ul class="simple">
<li><p>fix depracted scipy.compress depr -&gt; numpy.compress</p></li>
<li><p>fix incorrect numpy data type for Max OS ARM</p></li>
<li><p>fix a bug in SumkDFT.calc_density_correction: see issue #250</p></li>
<li><p>fix a bug in the Wannier90 Converter when the disentanglement window isn’t set by the user (see issue #252)</p></li>
<li><p>doc: fix typo in doi id of DC function</p></li>
</ul>
<p>We thank all contributors: Sophie Beck, Alexander Hampel</p>
</section>
<section id="version-3-2-0">
<h2>Version 3.2.0<a class="headerlink" href="#version-3-2-0" title="Link to this heading"></a></h2>
<p>DFTTools Version 3.2.0 is a release that</p>
<ul class="simple">
<li><p>is compatible with TRIQS 3.2.x</p></li>
<li><p>introduces a coherent mesh of the SumK object passed on init used throughout all member functions (see below for details)</p></li>
<li><p>unifies post-processing routines in <code class="docutils literal notranslate"><span class="pre">sumk_dft_tools</span></code> for all DFT codes to calculate DOS and spectral functions</p></li>
<li><p>adds support for non-collinear projectors when using Vasp 6</p></li>
<li><p>adds transport / optics calculation support with Elk</p></li>
<li><p>introduces a new <code class="docutils literal notranslate"><span class="pre">dft_input</span></code> variable <code class="docutils literal notranslate"><span class="pre">dft_code</span></code> that identifies automatically the used dft code</p></li>
<li><p>adds transport / optics calculation with wannier90 using WannierBerri</p></li>
<li><p>moves all optics and transport related functions to a new module <code class="docutils literal notranslate"><span class="pre">sumk_dft_transport.py</span></code></p></li>
<li><p>new chemical potential finder (fully backward combatible), that supports besides bisection also gradient finders</p></li>
<li><p>new double counting routines, moved to a separate function, improving spin-dependent formulas</p></li>
<li><p>improve performance of all routines performing k-sums. <code class="docutils literal notranslate"><span class="pre">extract_G_loc</span></code> is up to 5 times faster now</p></li>
</ul>
<p>We thank all contributors: Sophie Beck, Alberto Carta, Alexander Hampel, Alyn James, Harrison LaBollita, Dario Fiore Mosca, Oleg Peil, Nils Wentzell</p>
<p>Find below an itemized list of changes in this release.</p>
<section id="id4">
<h3>General<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>general fixes to match new triqs 3.2 release</p></li>
<li><p>SumK requires now to pass a mesh on init to clarify the mesh on which it operates</p></li>
<li><p>rename / unify name of <code class="docutils literal notranslate"><span class="pre">sumk.Sigma_imp_iw</span></code> and <code class="docutils literal notranslate"><span class="pre">sumk.Sigma_imp_w</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">sumk.Sigma_imp</span></code></p></li>
<li><p>remove <code class="docutils literal notranslate"><span class="pre">iw_or_w</span></code> arguments</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sumk_dft_tools.py</span></code> rewritten to have single routines to calculate DOS (<code class="docutils literal notranslate"><span class="pre">dos_wannier_basis</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">density_of_states</span></code>), spaghettis and (Elk specific for now) spectral contours</p></li>
<li><p>occupied DOS can be calculated (<code class="docutils literal notranslate"><span class="pre">sumk_dft_tools.occupations()</span></code> is needed to be calculated first)</p></li>
<li><p>analysis.rst and conv_elk.rst updated to improve routine descriptions and includes example figures</p></li>
<li><p>remove any transport from <code class="docutils literal notranslate"><span class="pre">sumk_dft_tools.py</span></code> and move to <code class="docutils literal notranslate"><span class="pre">sumk_dft_transport</span></code></p></li>
<li><p>outsource <code class="docutils literal notranslate"><span class="pre">calc_DC_from_density</span></code> into <a class="reference external" href="http://util.py" rel="noopener noreferrer" target="_blank">util.py</a> and cleanup</p></li>
<li><p>Added new way to compute double counting. This is moved to a separate function and the old method is kept to modify in-place the double counting and keep compatibility. A legacy interface was kept for the old method (using integers to denote DC type). The new convention follow the notation introduced here (<a class="reference external" href="http://dx.doi.org/10.1038/s41598-018-27731-4" rel="noopener noreferrer" target="_blank">http://dx.doi.org/10.1038/s41598-018-27731-4</a>)</p></li>
<li><p>Added tests for DC calculation to compare with old implementation</p></li>
<li><p>Added 2 new methods to find chemical potential, refactored DC calculation with stateless function while keeping legacy code</p></li>
<li><p>In magnetic calculations, the dichotomy adjustment is struggling to find the mu (maxes out iterations). Added new methods to find the dft mu: newton (fastest but can fail) and brent (more stable)</p></li>
<li><p>fix: fix f2py command for numpy ver &gt;1.22</p></li>
<li><p>fix: np.int / np.float / np. complex are  deprecated (np v1.20) / removed (np v1.24)</p></li>
<li><p>Fixed DC formulas with SOC (#227)</p></li>
<li><p>Fixes issue with projected A(k,w) (#225)</p></li>
<li><p>fix obsolote iw_or_w param in calc_mu</p></li>
<li><p>improve performance of extract Gloc by factor 5! huge cleanup</p></li>
<li><p>edit SumKDFT class to take gf mesh at initialization and force Sigma to have that mesh</p></li>
<li><p>update mpi.all_reduce calls 52bccac</p></li>
<li><p>issue #216 correctly use beta when calling density on MeshReFreq</p></li>
</ul>
</section>
<section id="elk">
<h3>Elk<a class="headerlink" href="#elk" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Elk Transport code and subsequent updates (#229)</p></li>
<li><p>elk-interface bug fixes (#228)</p></li>
<li><p>updated Elk tests and rewritten test scripts (.h5 files remain unchanged)</p></li>
<li><p>New converter routines to read in Elk data for sumk_dft_tools.spectral_contours() (Elk k-mesh generator and checker needs to be optimized as it’s currently slow). commented out Elk “bandcharacter” conversion from Elk converter and Elk DFT+DMFT PDOS code which used it (this method needs to be checked)</p></li>
</ul>
</section>
<section id="vasp">
<h3>Vasp<a class="headerlink" href="#vasp" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>change normion default to False</p></li>
<li><p>change Vasp NiO tutorial scripts to reflect changes to sumk</p></li>
<li><p>fix deprecated safeconfigparser</p></li>
<li><p>fixes a bug in the Vasp charge self-consistent update step</p></li>
<li><p>adjust NiO reference h5-file</p></li>
<li><p>add test of NiO with two correlated shells</p></li>
<li><p>fix tests of LuNiO3 and SrVO3 after changes</p></li>
<li><p>fix mapping from shell/ions to corr-shells in converter</p></li>
</ul>
</section>
<section id="w90-qe">
<h3>w90 + QE<a class="headerlink" href="#w90-qe" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>feat: optical prop with Wannier90 and WannierBerri, see documentation for details</p></li>
<li><p>fix bug for Gamma only mode</p></li>
<li><p>w90 conv more generous matching to find fermi</p></li>
<li><p>Updated W90 converter: bug fixes for SOC, code restructured, more tests for <code class="docutils literal notranslate"><span class="pre">add_lambda</span></code> and <code class="docutils literal notranslate"><span class="pre">bloch_basis</span></code></p></li>
<li><p>BUGFIX: changed character in QE output for reading occupations with</p></li>
<li><p>Split wannier90 tests up</p></li>
<li><p>Fix for wannier converter: reordering of orbital/spin order only necessary for vasp 5</p></li>
</ul>
</section>
<section id="clean">
<h3>clean<a class="headerlink" href="#clean" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>remove Gf indices and remove calc_dc_for_density (unused)</p></li>
</ul>
</section>
</section>
<section id="version-3-1-1">
<h2>Version 3.1.1<a class="headerlink" href="#version-3-1-1" title="Link to this heading"></a></h2>
<p>DFTTools Version 3.1.1 is a patch release that contains a few bug fixes.
In particular, we resolve incompatibility with recent numpy versions.</p>
<p>We thank all contributors: Alexander Hampel, Harry LaBollita</p>
<p>Find below an itemized list of changes in this release.</p>
<section id="id5">
<h3>General<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>fix: np.int / np.float / np. complex are  depracted (np v1.20) / removed (np v1.24)</p></li>
<li><p>Fixes issue with projected A(k,w) (#225)</p></li>
</ul>
</section>
</section>
<section id="version-3-1-0">
<h2>Version 3.1.0<a class="headerlink" href="#version-3-1-0" title="Link to this heading"></a></h2>
<p>DFTTools Version 3.1.0 is a release that</p>
<ul class="simple">
<li><p>is compatible with TRIQS 3.1.x</p></li>
<li><p>includes a major update for the Wannier90 converter (see below for details)</p></li>
<li><p>updates sumk_dft to allow for charge self-consistent DFT+DMFT calculations with Quantum Espresso (dm_type = ‘qe’)</p></li>
<li><p>adds a indmftpr helper script to prepare the case.indmftpr file for the dmftproj program</p></li>
<li><p>uses the latest <a class="reference external" href="https://github.com/TRIQS/app4triqs" rel="noopener noreferrer" target="_blank">app4triqs/3.1.x</a> skeleton</p></li>
</ul>
<section id="wannier90-converter">
<h3>Wannier90 Converter<a class="headerlink" href="#wannier90-converter" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>allow for charge self-consistent DFT+DMFT calculations</p></li>
<li><p>spin-orbit coupling implemented</p></li>
<li><p>option to add a local spin-orbit term to t2g local Hamiltonian (for now just for a single impurity. Fixed in next version)</p></li>
<li><p>additional choices and added checks for different bases (rot_mat): hloc_diag, wannier (already implemented previously), none</p></li>
<li><p>code restructured, more tests</p></li>
<li><p>MPI speedup of the Fourier transform</p></li>
<li><p>added new test in w90_convert.py for rot_mat_type=‘hloc_diag’</p></li>
<li><p>update documentation of W90 Converter</p></li>
<li><p>bugfix: This fix makes the function find_rot_mat() safer to use in case there are errors in finding the correct mapping. The converter will now abort if the agreement in mapping is below a user-definable threshold.</p></li>
</ul>
</section>
<section id="change-in-gf-struct">
<h3>Change in gf_struct<a class="headerlink" href="#change-in-gf-struct" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>In line with TRIQS 3.1.x, the form of the Green’s function’s structure (<code class="docutils literal notranslate"><span class="pre">gf_struct</span></code>) has been modified (see <a class="reference external" href="https://triqs.github.io/triqs/latest/ChangeLog.html#change-in-gf-struct-objects" rel="noopener noreferrer" target="_blank">triqs changelog</a> for more information)</p></li>
<li><p>Instead of <code class="docutils literal notranslate"><span class="pre">gf_struct</span> <span class="pre">=</span> <span class="pre">[(&quot;up&quot;,</span> <span class="pre">[0,</span> <span class="pre">1]),</span> <span class="pre">(&quot;down&quot;,</span> <span class="pre">[0,</span> <span class="pre">1])]</span></code>, the new convention uses <code class="docutils literal notranslate"><span class="pre">gf_struct</span> <span class="pre">=</span> <span class="pre">[(&quot;up&quot;,</span> <span class="pre">2),</span> <span class="pre">(&quot;down&quot;,</span> <span class="pre">2)]</span></code></p></li>
<li><p>This modifies the form of <code class="docutils literal notranslate"><span class="pre">gf_struct_solver</span></code> (and <code class="docutils literal notranslate"><span class="pre">sumk</span></code>) in <code class="docutils literal notranslate"><span class="pre">block_structure</span></code> and <code class="docutils literal notranslate"><span class="pre">SumkDFT</span></code> as well.</p></li>
<li><p>Backwards-compatibility with old, stored <code class="docutils literal notranslate"><span class="pre">block_structure</span></code> objects is given, however a warning is issued.</p></li>
<li><p>A helper-function <code class="docutils literal notranslate"><span class="pre">triqs.gf.block_gf.fix_gf_struct_type(gf_struct_old)</span></code> is provided in triqs to manually bring <code class="docutils literal notranslate"><span class="pre">gf_struct</span></code>s to the new form.</p></li>
</ul>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>change to read the docs sphinx theme</p></li>
<li><p>clean up various doc files</p></li>
<li><p>use autosummary to build reference documentation</p></li>
<li><p>update Vasp tutorials</p></li>
<li><p>update Wannier90 documentation to reflect new features</p></li>
</ul>
</section>
<section id="cmake">
<h3>Cmake<a class="headerlink" href="#cmake" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>require triqs3.1+ in debian package dependencies</p></li>
<li><p>bump required TRIQS Version to 3.1</p></li>
</ul>
</section>
<section id="other-changes">
<h3>Other changes<a class="headerlink" href="#other-changes" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>bugfix for analyse_block_structure in sumk_dft</p></li>
<li><p>bugfix in blockstructure module for the case of #corr_shells != #ineq_shells</p></li>
<li><p>fix float comparison tolerances and few minor things in tests</p></li>
<li><p>Vasp Converter: fixed normalization of kwghts to allow symmetries</p></li>
<li><p>bugfix in Elk converter when creating the symmetry matrices of low symmetry systems with multiple equivalent atoms</p></li>
<li><p>vectorize various loops in dfttools</p></li>
<li><p>fix various from_L_G_R calls that require now data layed out in C-order</p></li>
<li><p>use nda over TRIQS_RUNTIME_ERROR in dos_tetra3d</p></li>
<li><p>changed fermi weights from np array complex to float in accordance with h5 structure</p></li>
<li><p>expose parameter max_loops in sum_k.calc_mu dichotomy</p></li>
</ul>
<p>Thanks to all commit-contributors (in alphabetical order): Sophie Beck, Alexander Hampel, Alyn James, Jonathan Karp, Harry LaBollita, Max Merkel, H. L. Nourse, Hermann Schnait, Nils Wentzell,  &#64;70akaline</p>
</section>
</section>
<section id="version-3-0-0">
<h2>Version 3.0.0<a class="headerlink" href="#version-3-0-0" title="Link to this heading"></a></h2>
<p>DFTTools Version 3.0.0 is a major release that</p>
<ul class="simple">
<li><p>is compatible with TRIQS versions 3.0.x</p></li>
<li><p>introduces compatibility with Python 3 (Python 2 is no longer supported)</p></li>
<li><p>is now aligned with the general <a class="reference external" href="https://github.com/TRIQS/app4triqs" rel="noopener noreferrer" target="_blank">app4triqs</a> application skeleton</p></li>
<li><p>brings a major rework of the VASP interface, including thorough documentation, tutorials, a new Hamiltonian mode, the option to select bands instead of an energy window, and many small bugfixes.</p></li>
<li><p>brings a major update of the block structure functionalities especially for SOC calculations, with detailed documentation and tutorials. Allows more control over the block structure coming from DFT, cutting out certain orbitals or throwing away off-diagonal elements when preparing input for the solver.</p></li>
<li><p>New option in dmftproj to select the projection window using band indices instead of energie</p></li>
</ul>
<section id="restructuring">
<h3>Restructuring<a class="headerlink" href="#restructuring" title="Link to this heading"></a></h3>
<p>To be aligned with other applications for TRIQS, various files and folders had to be moved to new locations. The c++, fortran and python parts all are now in separate folders. The converter files have been more logically split into their own folders and name spaces. For example the Vasp converter is now located under <code class="docutils literal notranslate"><span class="pre">python/triqs_dft_tools/converters/vasp.py</span></code>. Especially the test folder structure was adapted to fit to the app4triqs skeleton, which separate folders for C++ and python tests.</p>
</section>
<section id="dependency-management">
<h3>Dependency Management<a class="headerlink" href="#dependency-management" title="Link to this heading"></a></h3>
<p>We are managing the interdependencies of the various library components of triqs now using cmake.
Per default cmake will pull those dependencies from their corresponding
GitHub repositories, build them, and install these components together
with TRIQS, unless they are found in your system.
This behavior can be altered using the additional cmake options</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-DBuild_Deps=&quot;Always&quot;</span></code> - Always build dependencies, do not try to find them</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-DBuild_Deps=&quot;Never&quot;</span></code> - Never build dependencies, but find them instead</p></li>
</ul>
<p>during the configuration step. See also the TRIQS documentation for more detailed instructions.</p>
</section>
<section id="id6">
<h3>Other Changes:<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Run port_to_triqs3 script</p></li>
<li><p>Port py files to python3</p></li>
<li><p>Update triqs python module name</p></li>
<li><p>synchronize dfttools with app4triqs structure</p></li>
<li><p>rename all h5 test archives according to test_name.ref.h5</p></li>
<li><p>Changed ‘orb’ parameter to ‘ish’ for consistency in function summ_deg_gf in file sumk_dft.py</p></li>
<li><p>small fix to read_inp_from_h5 function of Sumk</p></li>
<li><p>renamed converters from app_converter.py to <a class="reference external" href="http://app.py" rel="noopener noreferrer" target="_blank">app.py</a></p></li>
<li><p>look at the mesh of each shell of Sigma_imp, not just the first shell</p></li>
<li><p>add function to find min and max of band energy, and add warning to set_Sigma if its mesh is smaller than the energy bounds</p></li>
<li><p>warning for set_Sigma if ReFreqMesh is too small</p></li>
<li><p>fixed a index bug that produced empty projectors for a unit cells with multiple shells in the VASP converter</p></li>
<li><p>fixed a slicing bug for the calculation of the target density in the VASP converter, which selected 1 band less in the correlated window than required.</p></li>
<li><p>added printout of complex part of local Hamiltonian in the Vasp converter</p></li>
<li><p>doc on automatic basis rotations</p></li>
<li><p>Bugfix in calculate_density_matrix for purely imaginary off-diagonals</p></li>
<li><p>revamping the VASP interface documentation. Rewrote the interface with VASP guide. Removed the unused in doc/vasp. Start for SVO VASP tutorial as ipynb</p></li>
<li><p>changed ref file for block structure test, since the order in dicts is not guaranteed the test failed as the order in py3 changed</p></li>
<li><p>Vasp Converter: efermi is now read from LOCPROJ if DOSCAR does not contain it yet</p></li>
<li><p>E-Fermi is read from DOSCAR not from LOCPROJ</p></li>
<li><p>Added Tutorial for basis rotations: Sr2MgOsO6 w/o SOC</p></li>
<li><p>Vasp converter add kpts and kpts_basis to h5</p></li>
<li><p>many adjustments to Block structure and rotations including option to throw away certain parts of BlockGf</p></li>
<li><p>implemented multiple ncsf VASP cycles</p></li>
<li><p>Ignore imaginary part of the density when calculating mu</p></li>
<li><p>Adjust hdf5 usage to changes in triqs</p></li>
<li><p>Calculate diagonalization in solver blocks</p></li>
<li><p>Do not use deprecated set_from_inverse_fourier</p></li>
<li><p>add SOC tutorial</p></li>
<li><p>add Block structure tutorial</p></li>
<li><p>adding detailed Vasp tutorial</p></li>
<li><p>Vasp converter now supports Hamiltonian mode</p></li>
<li><p>Move setup files into separate bash scripts and adjust README</p></li>
<li><p>Update README file with more detailed instructions</p></li>
</ul>
<p>Thanks to all commit-contributors (in alphabetical order):
Markus Aichhorn, Alexander Hampel, Gernot Kraberger, Oleg Peil, Hermann Schnait, Malte Schueler, Nils Wentzell, Manuel Zingl</p>
</section>
</section>
<section id="version-2-2-1">
<h2>Version 2.2.1<a class="headerlink" href="#version-2-2-1" title="Link to this heading"></a></h2>
<p>DFTTools Version 2.2.1 makes the application available
through the Anaconda package manager. We adjust
the install pages of the documentation accordingly.
We provide a more detailed description of the changes below.</p>
<ul class="simple">
<li><p>Add a section on the Anaconda package to the install page</p></li>
<li><p>Add a LICENSE and AUTHORS file to the repository</p></li>
</ul>
</section>
<section id="version-2-2-0">
<h2>Version 2.2.0<a class="headerlink" href="#version-2-2-0" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Ensure that the chemical potential calculations results in a real number</p></li>
<li><p>Fix a bug in reading Wien2k optics files in SO/SP cases</p></li>
<li><p>Some clarifications in the documentation</p></li>
<li><p>Packaging/Jenkins/TRIQS/Installation adaptations</p></li>
</ul>
<p>This is to a large extend a compatibility release against TRIQS version 2.2.0</p>
<p>Thanks to all commit-contributors (in alphabetical order):
Markus Aichhorn, Dylan Simon, Erik van Loon, Nils Wentzell, Manuel Zingl</p>
</section>
<section id="version-2-1-x-changes-since-1-4">
<h2>Version 2.1.x (changes since 1.4)<a class="headerlink" href="#version-2-1-x-changes-since-1-4" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Added Debian Packaging</p></li>
<li><p>Compatibility changes for TRIQS 2.1.x</p></li>
<li><p>Jenkins adjustments</p></li>
<li><p>Add option to measure python test coverage</p></li>
<li><p>VASP interface (and documentation)</p></li>
<li><p>Added thermal conductivity in transport code (and documentation)</p></li>
<li><p>BlockStructure class and new methods to analyze the block structure and degshells</p></li>
<li><p>Multiple fixes of issues and bugs</p></li>
<li><p>Major updates and restructuring of documentation</p></li>
</ul>
<p>Thanks to all commit-contributors (in alphabetical order):
Markus Aichhorn, Gernot J. Kraberger, Olivier Parcollet, Oleg Peil, Hiroshi Shinaoka, Dylan Simon, Hugo U. R. Strand, Nils Wentzell, Manuel Zingl</p>
<p>Thanks to all user for reporting issues and suggesting improvements.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="issues.html" class="btn btn-neutral float-left" title="Reporting issues" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="about.html" class="btn btn-neutral float-right" title="About" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2011-2021.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>